{"version":3,"sources":["controller.js"],"names":[],"mappings":"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","file":"controller-compiled.js","sourcesContent":["/**\r\n * Created by UTOPIA SOFTWARE on 18/11/2018.\r\n */\r\n\r\n/**\r\n* file defines all View-Models, Controllers and Event Listeners used by the app\r\n*\r\n* The 'utopiasoftware_app_namespace' namespace variable has being defined in the base js file.\r\n* The author uses the terms 'method' and function interchangeably; likewise the terms 'attribute' and 'property' are\r\n* also used interchangeably\r\n*/\r\n\r\n// define the controller namespace\r\nutopiasoftware[utopiasoftware_app_namespace].controller = {\r\n\r\n    /**\r\n     * method contains the startup/bootstrap code needed to initiate app logic execution\r\n     */\r\n    startup: function(){\r\n\r\n        // initialise the app libraries and plugins\r\n        ons.ready(async function () {\r\n            // set the default handler for the app\r\n            ons.setDefaultDeviceBackButtonListener(function(){\r\n                // does nothing for now!!\r\n            });\r\n\r\n            // disable the default back button handler for the 'search-page-search-input-popover'\r\n            $('#search-page-search-input-popover').get(0).onDeviceBackButton.disable();\r\n\r\n            // set the device back button handler for the 'third-party-login-modal' modal AND the close button\r\n            $('#third-party-login-modal').get(0).onDeviceBackButton =\r\n            $('#third-party-login-modal #third-party-login-modal-close-button').get(0).onclick = async function(){\r\n                // close the modal\r\n                await $('#third-party-login-modal').get(0).hide();\r\n\r\n                // reset the Firebase UI object\r\n                utopiasoftware[utopiasoftware_app_namespace].model.firebaseUI.reset();\r\n            };\r\n\r\n            // displaying prepping message\r\n            $('#loader-modal-message').html(\"Loading App...\");\r\n            $('#loader-modal').get(0).show(); // show loader\r\n\r\n            // create the ej2 bottom toast component for the app\r\n            new ej.notifications.Toast({\r\n                content: '',\r\n                cssClass: 'default-ej2-toast',\r\n                target: document.body,\r\n                position: {X: \"Center\",  Y: \"Bottom\"},\r\n                width: \"100%\",\r\n                timeOut: 0,\r\n                extendedTimeout: 0,\r\n                showCloseButton: true\r\n            }).appendTo($('.page-toast').get(0));\r\n\r\n            // create the ej2 \"timed\" bottom toast component for the app\r\n            new ej.notifications.Toast({\r\n                content: '',\r\n                cssClass: 'default-ej2-toast',\r\n                target: document.body,\r\n                position: {X: \"Center\",  Y: \"Bottom\"},\r\n                width: \"100%\",\r\n                timeOut: 4000, // default 4 sec\r\n                extendedTimeout: 0,\r\n                showCloseButton: true\r\n            }).appendTo($('.timed-page-toast').get(0));\r\n\r\n            // create the \"Yes\" button on the the Delete Cart Item action sheet\r\n            new ej.buttons.Button({\r\n                cssClass: 'e-flat e-small',\r\n                iconPosition: \"Left\"\r\n            }).appendTo('#view-cart-page-delete-cart-item-yes');\r\n\r\n            // create the \"No\" button on the the Delete Cart Item action sheet\r\n            new ej.buttons.Button({\r\n                cssClass: 'e-flat e-small',\r\n                iconPosition: \"Left\"\r\n            }).appendTo('#view-cart-page-delete-cart-item-no');\r\n\r\n            // create the \"Yes\" button on the Cancel Order action sheet\r\n            new ej.buttons.Button({\r\n                cssClass: 'e-flat e-small',\r\n                iconPosition: \"Left\"\r\n            }).appendTo('#cancel-order-yes');\r\n\r\n            // create the \"No\" button on the Cancel Order action sheet\r\n            new ej.buttons.Button({\r\n                cssClass: 'e-flat e-small',\r\n                iconPosition: \"Left\"\r\n            }).appendTo('#cancel-order-no');\r\n\r\n\r\n            //initialise the firebase app.\r\n            utopiasoftware[utopiasoftware_app_namespace].model.firebaseApp =\r\n                firebase.initializeApp({\r\n                    apiKey: \"AIzaSyAx5tpRlU79yPXiNWFhxyNfAbCtuoIddIA\",\r\n                    authDomain: \"oak-exclusive.firebaseapp.com\",\r\n                    databaseURL: \"https://oak-exclusive.firebaseio.com\",\r\n                    projectId: \"oak-exclusive\",\r\n                    storageBucket: \"oak-exclusive.appspot.com\",\r\n                    messagingSenderId: \"492676682141\"\r\n                });\r\n\r\n            // initialise the firebase ui app\r\n            utopiasoftware[utopiasoftware_app_namespace].model.firebaseUI =\r\n            new firebaseui.auth.AuthUI(utopiasoftware[utopiasoftware_app_namespace].model.firebaseApp.auth());\r\n\r\n            // START ALL CORDOVA PLUGINS CONFIGURATIONS\r\n            try{\r\n                // lock the orientation of the device to 'PORTRAIT'\r\n                screen.orientation.lock('portrait');\r\n            }\r\n            catch(err){}\r\n\r\n            // initialise the one-signal push notification plugin\r\n            window.plugins.OneSignal\r\n                .startInit(\"e388205d-c66d-4012-a422-68572fddcfd7\")\r\n                .handleNotificationReceived(function(jsonData) {\r\n                    // do nothing for now\r\n                })\r\n                .handleNotificationOpened(function(jsonData) {\r\n                    // do nothing for now\r\n                })\r\n                .inFocusDisplaying(window.plugins.OneSignal.OSInFocusDisplayOption.Notification)\r\n                .endInit();\r\n\r\n            // add listener for when the user's push notification settings change\r\n            window.plugins.OneSignal.addSubscriptionObserver(function (state) {\r\n                // check if the push notification preference switch has been created\r\n                if ($('#account-page #account-push-notification-preference').get(0)) { // the preference switch exist\r\n                    // update the state of the push notification preference switch user the user's push notification subscription\r\n                    $('#account-page #account-push-notification-preference').get(0).checked = state.to.subscribed;\r\n                }\r\n            });\r\n\r\n\r\n            try { // START ALL THE CORDOVA PLUGINS CONFIGURATION WHICH REQUIRE PROMISE SYNTAX\r\n\r\n                // create the pouchdb app database\r\n                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase = new PouchDB('PrintServiceEcommerce.db', {\r\n                    adapter: 'cordova-sqlite',\r\n                    location: 'default',\r\n                    androidDatabaseImplementation: 2\r\n                });\r\n\r\n                // create the encrypted pouchdb app database\r\n                utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase =\r\n                    new PouchDB('PrintServiceEcommerceEncrypted.db', {\r\n                    adapter: 'cordova-sqlite',\r\n                    location: 'default',\r\n                    androidDatabaseImplementation: 2\r\n                });\r\n\r\n                // generate a password for encrypting the app database (if it does NOT already exist)\r\n                let secureKey = null;\r\n                try {\r\n                    // get secure key, if it exists\r\n                    secureKey = await new Promise(function(resolve, reject){\r\n                        NativeStorage.getItem(\"utopiasoftware-oak-print-service-secure-key\",resolve, reject);\r\n                    });\r\n                }\r\n                catch(err){ // secure key does not exist\r\n                    // create the secure key\r\n                    secureKey = await new Promise(function(resolve, reject){\r\n                        NativeStorage.setItem(\"utopiasoftware-oak-print-service-secure-key\",\r\n                            {password: Random.uuid4(utopiasoftware[utopiasoftware_app_namespace].randomisationEngine)},\r\n                            resolve, reject);\r\n                    });\r\n                }\r\n                // enable the db encryption using the generated password\r\n                await new Promise(function(resolve, reject){\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase.\r\n                    crypto(secureKey.password, {\r\n                        ignore: ['_attachments', '_deleted', 'docType'],\r\n                        cb: function(err, key){\r\n                            if(err){ // there is an error\r\n                                reject(err); // reject Promise\r\n                            }\r\n                            else{ // no error\r\n                                resolve(key); // resolve Promise\r\n                            }\r\n                        }});\r\n                });\r\n\r\n                // load/set the initial number of items in the user's cart\r\n                try{\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.cartCount =\r\n                        (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.loadData(\"user-cart\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart.length;\r\n                }\r\n                catch(err){}\r\n\r\n                //register the listener for app database changes\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.appDatabaseChangesListenerViewModel.\r\n                    changesEventEmitter = utopiasoftware[utopiasoftware_app_namespace].model.appDatabase.\r\n                                                changes({\r\n                    live: true,\r\n                    include_docs: true,\r\n                    since: 'now',\r\n                    doc_ids: ['user-cart']\r\n                }).on(\"change\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    appDatabaseChangesListenerViewModel.userCartChanged);\r\n\r\n            }\r\n            catch(err){\r\n\r\n            }\r\n            finally{\r\n\r\n                // load the initial content of the app\r\n                if(true){ // there is a previous logged in user\r\n                    // load the app main page\r\n                    $('ons-splitter').get(0).content.load(\"app-main-template\");\r\n                }\r\n                else{ // there is no previously logged in user\r\n                    // load the login page\r\n                    $('ons-splitter').get(0).content.load(\"login-template\");\r\n                }\r\n\r\n                // set status bar color\r\n                StatusBar.backgroundColorByHexString(\"#363E7C\");\r\n                navigator.splashscreen.hide(); // hide the splashscreen\r\n                utopiasoftware[utopiasoftware_app_namespace].model.isAppReady = true; // flag that app is fully loaded and ready\r\n            }\r\n\r\n        }); // end of ons.ready()\r\n\r\n    },\r\n\r\n    /**\r\n     * this view-model is used to house the listeners and data/properties which listen for\r\n     * changes in the app database\r\n     */\r\n    appDatabaseChangesListenerViewModel : {\r\n\r\n        /**\r\n         * property holds the Event Emitter object for the changes taking\r\n         * place in the database. This object can be used to cancel event listening at\r\n         * any time\r\n         */\r\n        changesEventEmitter: null,\r\n\r\n        /**\r\n         * methosd is used to listen for changes to the\r\n         * user-cart document i.e. when the local cached user cart is updated/modified\r\n         *\r\n         * @param changesInfo {Object} holds the object containing the changes made to the user cart\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async userCartChanged(changesInfo){\r\n            if(changesInfo.deleted === true){ // the user local cart was deleted\r\n                // reset the cartCount app model property to zero\r\n                utopiasoftware[utopiasoftware_app_namespace].model.cartCount = 0;\r\n            }\r\n            else{ // the user local cart was modified/updated\r\n                // update the cartCount app model property to indicate the number of items in cart (using the updated cart length)\r\n                utopiasoftware[utopiasoftware_app_namespace].model.cartCount =\r\n                    changesInfo.doc.cart.length;\r\n            }\r\n\r\n            // update the cart count being displayed on all current pages\r\n            $('.cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Home page\r\n     */\r\n    homePageViewModel: {\r\n\r\n        /**\r\n         * object is used as the carousel Flickity object for \"New Products\"/ Banner Ads\r\n         */\r\n        newProductsCarousel: null,\r\n\r\n        /**\r\n         * object is used as the carousel Flickity object for \"Featured / Popular Products\"\r\n         */\r\n        featuredProductsCarousel: null,\r\n\r\n        /**\r\n         * object is used as the carousel Flickity object for \"Sales Products\"\r\n         */\r\n        salesProductsCarousel: null,\r\n\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#home-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#home-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#home-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#home-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#home-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                try{\r\n                    // create the \"New Products\" carousel\r\n                    let newProductsCarousel = new Flickity($('#home-page #home-latest-design-block .row').get(0), {\r\n                        // options\r\n                        wrapAround: true,\r\n                        groupCells: 1,\r\n                        // adaptiveHeight: true,\r\n                        imagesLoaded: true,\r\n                        cellSelector: '.col-xs-12',\r\n                        autoPlay: 5000,\r\n                        pauseAutoPlayOnHover: false,\r\n                        dragThreshold: 10,\r\n                        initialIndex: 0,\r\n                        cellAlign: 'left',\r\n                        contain: false,\r\n                        prevNextButtons: false,\r\n                        pageDots: false\r\n                    });\r\n                    newProductsCarousel.on(\"scroll\", function(){\r\n                        // check if the carousel object has a timer attached\r\n                        if(newProductsCarousel._utopiasoftware_scrollTimer){ // there is a timer\r\n                            // clear the timer\r\n                            window.clearTimeout(newProductsCarousel._utopiasoftware_scrollTimer);\r\n                            newProductsCarousel._utopiasoftware_scrollTimer = null;\r\n                        }\r\n\r\n                        // automatically start the the carousel autoplay\r\n                        newProductsCarousel._utopiasoftware_scrollTimer = window.setTimeout(function(){\r\n                            newProductsCarousel.playPlayer(); // start carousel autoplay\r\n                        }, 0);\r\n                    });\r\n                    newProductsCarousel.on(\"staticClick\", function(event, pointer, cellElement, cellIndex){\r\n                        // check if it was a cell that was clicked\r\n                        if(! cellElement){ // it was not a slider cell that was clicked\r\n                            // do nothing\r\n                            return;\r\n                        }\r\n\r\n                    });\r\n                    // assign the \"New Product\" carousel to the appropriate object\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.newProductsCarousel =\r\n                        newProductsCarousel;\r\n\r\n                    // create the \"Featured Products\" carousel\r\n                    let featuredProductsCarousel = new Flickity($('#home-page #home-featured-design-block .row').get(0), {\r\n                        // options\r\n                        wrapAround: true,\r\n                        groupCells: 1,\r\n                        cellSelector: '.col-xs-7',\r\n                        autoPlay: 4000,\r\n                        pauseAutoPlayOnHover: false,\r\n                        dragThreshold: 10,\r\n                        initialIndex: 0,\r\n                        cellAlign: 'center',\r\n                        contain: false,\r\n                        prevNextButtons: false,\r\n                        pageDots: false\r\n                    });\r\n                    featuredProductsCarousel.on(\"scroll\", function(){\r\n                        // check if the carousel object has a timer attached\r\n                        if(featuredProductsCarousel._utopiasoftware_scrollTimer){ // there is a timer\r\n                            // clear the timer\r\n                            window.clearTimeout(featuredProductsCarousel._utopiasoftware_scrollTimer);\r\n                            featuredProductsCarousel._utopiasoftware_scrollTimer = null;\r\n                        }\r\n\r\n                        // automatically start the the carousel autoplay\r\n                        featuredProductsCarousel._utopiasoftware_scrollTimer = window.setTimeout(function(){\r\n                            featuredProductsCarousel.playPlayer(); // start carousel autoplay\r\n                        }, 0);\r\n                    });\r\n                    featuredProductsCarousel.on(\"staticClick\", function(event, pointer, cellElement, cellIndex){\r\n                        // check if it was a cell that was clicked\r\n                        if(! cellElement){ // it was not a slider cell that was clicked\r\n                            // do nothing\r\n                            return;\r\n                        }\r\n\r\n                        // call the method to load the product details page based on the product item clicked\r\n                        utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                        productItemClicked(window.parseInt($(cellElement).attr('data-product')),\r\n                            $(cellElement).attr('data-segment'));\r\n                    });\r\n                    // assign the \"Featured Products\" carousel to the appropriate object\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.featuredProductsCarousel =\r\n                        featuredProductsCarousel;\r\n\r\n                    let salesProductsCarousel = new Flickity($('#home-page #home-sales-design-block .row').get(0), {\r\n                        // options\r\n                        wrapAround: true,\r\n                        groupCells: 1,\r\n                        cellSelector: '.col-xs-7',\r\n                        autoPlay: 4500,\r\n                        pauseAutoPlayOnHover: false,\r\n                        dragThreshold: 10,\r\n                        initialIndex: 0,\r\n                        cellAlign: 'center',\r\n                        contain: false,\r\n                        prevNextButtons: false,\r\n                        pageDots: false\r\n                    });\r\n                    salesProductsCarousel.on(\"scroll\", function(){\r\n                        // check if the carousel object has a timer attached\r\n                        if(salesProductsCarousel._utopiasoftware_scrollTimer){ // there is a timer\r\n                            // clear the timer\r\n                            window.clearTimeout(salesProductsCarousel._utopiasoftware_scrollTimer);\r\n                            salesProductsCarousel._utopiasoftware_scrollTimer = null;\r\n                        }\r\n\r\n                        // automatically start the the carousel autoplay\r\n                        salesProductsCarousel._utopiasoftware_scrollTimer = window.setTimeout(function(){\r\n                            salesProductsCarousel.playPlayer(); // start carousel autoplay\r\n                        }, 0);\r\n                    });\r\n                    salesProductsCarousel.on(\"staticClick\", function(event, pointer, cellElement, cellIndex){\r\n                        // check if it was a cell that was clicked\r\n                        if(! cellElement){ // it was not a slider cell that was clicked\r\n                            // do nothing\r\n                            return;\r\n                        }\r\n                        // call the method to load the product details page based on the product item clicked\r\n                        utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                        productItemClicked(window.parseInt($(cellElement).attr('data-product')),\r\n                            $(cellElement).attr('data-segment'));\r\n                    });\r\n                    // assign the \"Sales Products\" carousel to the appropriate object\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.salesProductsCarousel =\r\n                        salesProductsCarousel;\r\n\r\n                    $('#loader-modal').get(0).hide(); // show loader\r\n\r\n                    // display page preloader\r\n                    $('#home-page .page-preloader').css(\"display\", \"block\");\r\n\r\n                    // start loading the page content\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.loadProducts();\r\n\r\n                    // hide the preloader\r\n                    $('#home-page .page-preloader').css(\"display\", \"none\");\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // update page title\r\n            $('#app-main-page ons-toolbar div.title-bar').html(\"OAK\");\r\n            // update cart count\r\n            $('#app-main-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustPan');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.deviceOnlineListener, false);\r\n\r\n\r\n            if(utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.newProductsCarousel){\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.newProductsCarousel.reloadCells();\r\n            }\r\n            if(utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.featuredProductsCarousel){\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.featuredProductsCarousel.reloadCells();\r\n            }\r\n            if(utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.salesProductsCarousel){\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.salesProductsCarousel.reloadCells();\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.deviceOnlineListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // destroy the carousels\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.newProductsCarousel.destroy();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.newProductsCarousel = null;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.featuredProductsCarousel.destroy();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.featuredProductsCarousel = null;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.salesProductsCarousel.destroy();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.salesProductsCarousel = null;\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n\r\n            ons.notification.confirm('Do you want to close the app?',\r\n                {title: '<img src=\"css/app-images/oak-design-logo.png\" style=\"height: 1.5em; width: auto; margin-right: 0.5em\">Exit App',\r\n                buttonLabels: ['No', 'Yes'], modifier: 'utopiasoftware-alert-dialog utopiasoftware-oak-alert-dialog'}) // Ask for confirmation\r\n                .then(function(index) {\r\n                    if (index === 1) { // OK button\r\n                        navigator.app.exitApp(); // Close the app\r\n                    }\r\n                });\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to see live products\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#home-page #home-page-pull-hook').attr(\"disabled\", true);\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.loadProducts();\r\n                // hide the preloader\r\n                $('#home-page .page-preloader').css(\"display\", \"none\");\r\n            }\r\n            catch(err){ // an error occurred\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.hide('All');\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#home-page #home-page-pull-hook').removeAttr(\"disabled\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load all products to the page\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadProducts(){\r\n            var productTypesPromisesArray = []; // holds the array for all the promises of the product types to be loaded\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load banner products\r\n                productTypesPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/products\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"private\",\r\n                            \"type\": \"external\", \"page\": 1, \"per_page\": 5}\r\n                        }\r\n                    )).then(function(productsArray){\r\n                        // save the retrieved data to app database as cache\r\n                        utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                            {_id: \"banner-products\", docType: \"BANNER_PRODUCTS\", products: productsArray},\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                        if(productsArray.length > 0){\r\n                            // show the \"Products\" segment\r\n                            $('#home-page #home-latest-design-block').css({\"opacity\": \"1\", \"display\": \"block\"}); // show the \"Products\" segment\r\n                            // remove the previously slides from the carousel\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            newProductsCarousel.\r\n                            remove($('#home-page #home-latest-design-block .row .col-xs-12').get());\r\n                        }\r\n                        else{\r\n                            // hide the \"Products\" segment\r\n                            $('#home-page #home-latest-design-block').css({\"opacity\": \"0\", \"display\": \"none\"});\r\n                        }\r\n\r\n                        // attach the products to the page\r\n                        for(let index = 0; index < productsArray.length; index++){\r\n                            let columnContent =\r\n                                `<div class=\"col-xs-12\" style=\"padding-left: 0; padding-right: 0;\">\r\n                                    <div class=\"e-card\" style=\"min-height: 40vh; max-height: 90vh\">\r\n                                        <div class=\"e-card-image\" style=\"\">\r\n                                        <img src=\"${productsArray[index].images[0].src}\" style=\"width: 100%; height: auto; max-height: 90vh\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>`;\r\n                            // append the content\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            newProductsCarousel.append($(columnContent));\r\n                        }\r\n\r\n                        resolve(); // resolve the parent promise\r\n                    }).catch(function(err){\r\n                        reject(); // reject the parent promise\r\n                    });\r\n                }));\r\n\r\n                // load featured products\r\n                productTypesPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/products\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                                \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 5, \"featured\": true}\r\n                        }\r\n                    )).then(function(productsArray){\r\n\r\n                        // save the retrieved data to app database as cache\r\n                        utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                            {_id: \"popular-products\", docType: \"POPULAR_PRODUCTS\", products: productsArray},\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                        if(productsArray.length > 0){\r\n                            // show the \"Products\" segment\r\n                            $('#home-page #home-featured-design-block').css({\"opacity\": \"1\", \"display\": \"block\"});\r\n                            // remove the previously slides from the carousel\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            featuredProductsCarousel.\r\n                            remove($('#home-page #home-featured-design-block .row .col-xs-7').get());\r\n                        }\r\n                        else{\r\n                            // hide the \"Products\" segment\r\n                            $('#home-page #home-featured-design-block').css({\"opacity\": \"0\", \"display\": \"none\"});\r\n                        }\r\n\r\n                        // attach the products to the page\r\n                        for(let index = 0; index < productsArray.length; index++){\r\n                            let columnContent =\r\n                                `<div class=\"col-xs-7\" style=\"margin-left: 20.5%; margin-right: 20.5%;\" \r\n                                 data-product=\"${index}\" data-segment=\"featured\">\r\n                                    <div class=\"e-card\" style=\"min-height: 34vh;\">\r\n                                        <div class=\"e-card-image\" style=\"height: 60%; \r\n                                        background-image: url('${productsArray[index].images[0].src}');\">\r\n                                        </div>\r\n                                        <div class=\"e-card-header\">\r\n                                            <div class=\"e-card-header-caption\">\r\n                                                <div class=\"e-card-sub-title\" style=\"color: #000000; text-align: center; font-size: 14px; text-transform: capitalize\">\r\n                                                    ${productsArray[index].name}\r\n                                                </div>\r\n                                                <div class=\"e-card-sub-title\" style=\"text-align: center;\">\r\n                                                &#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].price), \"n2\")}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>`;\r\n                            // append the content\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            featuredProductsCarousel.append($(columnContent));\r\n                        }\r\n                        resolve(); // resolve the parent promise\r\n                    }).catch(function(err){\r\n\r\n                        reject(); // reject the parent promise\r\n                    });\r\n                }));\r\n\r\n                // load sales products\r\n                productTypesPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/products\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                                \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 5, \"on_sale\": true}\r\n                        }\r\n                    )).then(function(productsArray){\r\n\r\n                        // save the retrieved data to app database as cache\r\n                        utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                            {_id: \"sales-products\", docType: \"SALES_PRODUCTS\", products: productsArray},\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                        if(productsArray.length > 0){\r\n                            // show the \"Products\" segment\r\n                            $('#home-page #home-sales-design-block').css({\"opacity\": \"1\", \"display\": \"block\"});\r\n                            // remove the previously slides from the carousel\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            salesProductsCarousel.\r\n                            remove($('#home-page #home-sales-design-block .row .col-xs-7').get());\r\n                        }\r\n                        else{\r\n                            // hide the \"Products\" segment\r\n                            $('#home-page #home-sales-design-block').css({\"opacity\": \"0\", \"display\": \"none\"});\r\n                        }\r\n\r\n                        // attach the products to the page\r\n                        for(let index = 0; index < productsArray.length; index++){\r\n                            if(!productsArray[index].regular_price || productsArray[index].regular_price == \"\"){ // regular price was NOT set, so set it\r\n                                productsArray[index].regular_price = \"0.00\";\r\n                            }\r\n                            let columnContent =\r\n                                `<div class=\"col-xs-7\" style=\"margin-left: 20.5%; margin-right: 20.5%;\" \r\n                                    data-product=\"${index}\" data-segment=\"sales\">\r\n                                    <div class=\"e-card\" style=\"min-height: 34vh;\">\r\n                                        <div class=\"e-card-image\" style=\"height: 60%; \r\n                                        background-image: url('${productsArray[index].images[0].src}');\">\r\n                                        <span class=\"e-badge e-badge-danger\" style=\"float: right; clear: both; \r\n                                                    background-color: transparent; color: #d64113;\r\n                                                    border: 1px #d64113 solid; font-size: 0.6em;\">\r\n                                                    ${Math.ceil((Math.abs(kendo.parseFloat(productsArray[index].price) -\r\n                                    kendo.parseFloat(productsArray[index].regular_price)) /\r\n                                    kendo.parseFloat(productsArray[index].regular_price === \"0.00\" ? \r\n                                         productsArray[index].price : productsArray[index].regular_price)) \r\n                                    * 100)}% OFF\r\n                                                    </span>\r\n                                        </div>\r\n                                        <div class=\"e-card-header\">\r\n                                            <div class=\"e-card-header-caption\">\r\n                                                <div class=\"e-card-sub-title\" style=\"color: #000000; text-align: center; font-size: 14px; text-transform: capitalize\">\r\n                                                    ${productsArray[index].name}\r\n                                                </div>\r\n                                                <div class=\"e-card-sub-title\" style=\"text-align: center; text-decoration: line-through\">\r\n                                                &#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].regular_price), \"n2\")}\r\n                                                </div>\r\n                                                <div class=\"e-card-sub-title\" style=\"text-align: center;\">\r\n                                                &#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].price), \"n2\")}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>`;\r\n                            // append the content\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            salesProductsCarousel.append($(columnContent));\r\n                        }\r\n                        resolve(); // resolve the parent promise\r\n                    }).catch(function(err){\r\n\r\n                        reject(); // reject the parent promise\r\n                    });\r\n                }));\r\n            } // end of loading products with Internet Connection\r\n            else{ // there is no internet connection\r\n                // display toast to show that there is no internet connection\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.hide('All');\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.content = \"No Internet connection. Pull down to refresh and see live products\";\r\n                toast.dataBind();\r\n                toast.show();\r\n                // load banner products from cached data\r\n                productTypesPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve(utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"banner-products\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).\r\n                    then(function(cachedProductsData){\r\n                        return cachedProductsData.products;\r\n                    }).\r\n                    then(function(productsArray){\r\n                        $('#home-page #home-latest-design-block').css(\"opacity\", \"1\"); // hide the \"Products\" segment\r\n                        // remove the previously slides from the carousel\r\n                        utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                        newProductsCarousel.\r\n                        remove($('#home-page #home-latest-design-block .row .col-xs-12').get());\r\n                        // attach the products to the page\r\n                        for(let index = 0; index < productsArray.length; index++){\r\n                            let columnContent =\r\n                                `<div class=\"col-xs-12\" style=\"padding-left: 0; padding-right: 0;\">\r\n                                    <div class=\"e-card\" style=\"min-height: 40vh; max-height: 90vh\">\r\n                                        <div class=\"e-card-image\" style=\"\">\r\n                                        <img src=\"css/app-images/blank-img.png\" style=\"width: 100%; height: auto; max-height: 90vh\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>`;\r\n                            // append the content\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            newProductsCarousel.append($(columnContent));\r\n                        }\r\n                        // $('#home-page #home-latest-design-block').css(\"opacity\", \"1\"); // show the \"Products\" segment\r\n                        $('#home-page #home-latest-design-block').css({\"opacity\": \"0\", \"display\": \"none\"}); // hide the segment\r\n                        resolve(); // resolve the parent promise\r\n                    }).catch(function(err){\r\n\r\n                        // $('#home-page #home-latest-design-block').css(\"opacity\", \"1\"); // show the \"Products\" segment\r\n                        $('#home-page #home-latest-design-block').css({\"opacity\": \"0\", \"display\": \"none\"}); // hide the segment\r\n                        reject(); // reject the parent promise\r\n                    });\r\n                }));\r\n\r\n                // load featured products from cached data\r\n                productTypesPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve(utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"popular-products\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).\r\n                    then(function(cachedProductsData){\r\n                        return cachedProductsData.products;\r\n                    }).then(function(productsArray){\r\n                        if(productsArray.length > 0){\r\n                            // show the \"Products\" segment\r\n                            $('#home-page #home-featured-design-block').css({\"opacity\": \"1\", \"display\": \"block\"});\r\n                            // remove the previously slides from the carousel\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            featuredProductsCarousel.\r\n                            remove($('#home-page #home-featured-design-block .row .col-xs-7').get());\r\n                        }\r\n                        else{\r\n                            // hide the \"Products\" segment\r\n                            $('#home-page #home-featured-design-block').css({\"opacity\": \"0\", \"display\": \"none\"});\r\n                        }\r\n\r\n                        // attach the products to the page\r\n                        for(let index = 0; index < productsArray.length; index++){\r\n                            let columnContent =\r\n                                `<div class=\"col-xs-7\" style=\"margin-left: 20.5%; margin-right: 20.5%;\" \r\n                                    data-product=\"${index}\" data-segment=\"featured\">\r\n                                    <div class=\"e-card\" style=\"min-height: 34vh;\">\r\n                                        <div class=\"e-card-image\" style=\"height: 60%; \r\n                                        background-image: url('${productsArray[index].images[0].src}');\">\r\n                                        </div>\r\n                                        <div class=\"e-card-header\">\r\n                                            <div class=\"e-card-header-caption\">\r\n                                                <div class=\"e-card-sub-title\" style=\"color: #000000; text-align: center; font-size: 14px; text-transform: capitalize\">\r\n                                                    ${productsArray[index].name}\r\n                                                </div>\r\n                                                <div class=\"e-card-sub-title\" style=\"text-align: center;\">\r\n                                                &#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].price), \"n2\")}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>`;\r\n                            // append the content\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            featuredProductsCarousel.append($(columnContent));\r\n                        }\r\n                        resolve(); // resolve the parent promise\r\n                    }).catch(function(err){\r\n\r\n                        reject(); // reject the parent promise\r\n                    });\r\n                }));\r\n\r\n                // load sales products from cached data\r\n                productTypesPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve(utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"sales-products\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).\r\n                    then(function(cachedProductsData){\r\n                        return cachedProductsData.products;\r\n                    }).then(function(productsArray){\r\n                        if(productsArray.length > 0){\r\n                            // show the \"Products\" segment\r\n                            $('#home-page #home-sales-design-block').css({\"opacity\": \"1\", \"display\": \"block\"});\r\n                            // remove the previously slides from the carousel\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            salesProductsCarousel.\r\n                            remove($('#home-page #home-sales-design-block .row .col-xs-7').get());\r\n                        }\r\n                        else{\r\n                            // hide the \"Products\" segment\r\n                            $('#home-page #home-sales-design-block').css({\"opacity\": \"0\", \"display\": \"none\"});\r\n                        }\r\n\r\n                        // attach the products to the page\r\n                        for(let index = 0; index < productsArray.length; index++){\r\n                            if(!productsArray[index].regular_price || productsArray[index].regular_price == \"\"){ // regular price was NOT set, so set it\r\n                                productsArray[index].regular_price = \"0.00\";\r\n                            }\r\n                            let columnContent =\r\n                                `<div class=\"col-xs-7\" style=\"margin-left: 20.5%; margin-right: 20.5%;\" \r\n                                  data-product=\"${index}\" data-segment=\"sales\">\r\n                                    <div class=\"e-card\" style=\"min-height: 34vh;\">\r\n                                        <div class=\"e-card-image\" style=\"height: 60%; \r\n                                        background-image: url('${productsArray[index].images[0].src}');\">\r\n                                        <span class=\"e-badge e-badge-danger\" style=\"float: right; clear: both; \r\n                                                    background-color: transparent; color: #d64113;\r\n                                                    border: 1px #d64113 solid; font-size: 0.6em;\">\r\n                                                    ${Math.ceil((Math.abs(kendo.parseFloat(productsArray[index].price) -\r\n                                    kendo.parseFloat(productsArray[index].regular_price)) /\r\n                                    kendo.parseFloat(productsArray[index].regular_price === \"0.00\" ?\r\n                                        productsArray[index].price : productsArray[index].regular_price))\r\n                                    * 100)}% OFF\r\n                                                    </span>\r\n                                        </div>\r\n                                        <div class=\"e-card-header\">\r\n                                            <div class=\"e-card-header-caption\">\r\n                                                <div class=\"e-card-sub-title\" style=\"color: #000000; text-align: center; font-size: 14px; text-transform: capitalize\">\r\n                                                    ${productsArray[index].name}\r\n                                                </div>\r\n                                                <div class=\"e-card-sub-title\" style=\"text-align: center; text-decoration: line-through\">\r\n                                                &#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].regular_price), \"n2\")}\r\n                                                </div>\r\n                                                <div class=\"e-card-sub-title\" style=\"text-align: center;\">\r\n                                                &#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].price), \"n2\")}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>`;\r\n                            // append the content\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.homePageViewModel.\r\n                            salesProductsCarousel.append($(columnContent));\r\n                        }\r\n                        resolve(); // resolve the parent promise\r\n                    }).catch(function(err){\r\n\r\n                        reject(); // reject the parent promise\r\n                    });\r\n                }));\r\n            }\r\n\r\n            return Promise.all(productTypesPromisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user wishes to view more featured products\r\n         * @returns {Promise<void>}\r\n         */\r\n        async showMoreFeaturedProducts(){\r\n            // load the products page in a separate event queue\r\n            window.setTimeout(async function(){\r\n                try{\r\n                    // navigate to the products page\r\n                    await $('#app-main-tabbar').get(0).setActiveTab(4, {animation: 'none'});\r\n                    // request for products from the category that was clicked\r\n                    let productArray = await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.\r\n                    loadProducts({\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                        \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 20, \"featured\": true});\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.displayPageContent(productArray[0]);\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{\r\n                    // hide the preloader for the products page\r\n                    $('#products-page .page-preloader').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user wishes to view more featured products\r\n         * @returns {Promise<void>}\r\n         */\r\n        async showMoreSalesProducts(){\r\n            // load the products page in a separate event queue\r\n            window.setTimeout(async function(){\r\n                try{\r\n                    // navigate to the products page\r\n                    await $('#app-main-tabbar').get(0).setActiveTab(4, {animation: 'none'});\r\n                    // request for products from the category that was clicked\r\n                    let productArray = await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.\r\n                    loadProducts({\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                        \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 20, \"on_sale\": true});\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.displayPageContent(productArray[0]);\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{\r\n                    // hide the preloader for the products page\r\n                    $('#products-page .page-preloader').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks any product item from the Feature/Popular OR\r\n         * Sales segments\r\n         *\r\n         * @param productIndex {Integer} holds the index position for the product that was clicked.\r\n         * The index position is gotten from the 'appropriate' cached array of product items\r\n         *\r\n         * @param segmentType {String} specifies which segment the clicked product item belongs to.\r\n         * Possible options are: 'featured', 'sales'\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async productItemClicked(productIndex, segmentType){\r\n            // handle the function task in a different event queue\r\n            window.setTimeout(async function(){\r\n                var productItemsArray = []; // holds the array of 'appropriate' product items\r\n\r\n                try{\r\n                    // find out what segment type the clicked product belongs to\r\n                    switch (segmentType) {\r\n                        case \"featured\": // Featured/popular product\r\n                            // get the 'appropriate' product items collection\r\n                            productItemsArray = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                            loadData(\"popular-products\",\r\n                                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).products;\r\n                            break;\r\n\r\n                        case \"sales\": // Sales product\r\n                            // get the 'appropriate' product items collection\r\n                            productItemsArray = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                            loadData(\"sales-products\",\r\n                                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).products;\r\n                            break;\r\n                    }\r\n\r\n                    // display the products details page using the selected product\r\n                    $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\",\r\n                        {animation: \"lift\", data: {product : productItemsArray[productIndex]}});\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n            }, 0);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Categories page\r\n     */\r\n    categoriesPageViewModel: {\r\n\r\n        /**\r\n         * property holds the current \"page\" of the categories being accessed\r\n         */\r\n        currentPage: 0,\r\n\r\n        /**\r\n         * property holds the size i.e. number of items that can be contained in currentPage being accessed\r\n         */\r\n        pageSize: 100,\r\n\r\n        /**\r\n         * property holds the height of the \"content view\" for the page\r\n         */\r\n        viewContentHeight: 0,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#categories-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#categories-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#categories-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#categories-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#categories-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                // get the height of the view content container\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.viewContentHeight =\r\n                    Math.floor($('#categories-page .page__content').height());\r\n\r\n                // listen for the scroll event on the page\r\n                $('#categories-page .page__content').on(\"scroll\", function(){\r\n                    // handle the logic in a different event queue slot\r\n                    window.setTimeout(function(){\r\n                        // get the scrollTop position of the view content\r\n                        var scrollTop = Math.floor($('#categories-page .page__content').scrollTop());\r\n\r\n                        // get the percentage of scroll that has taken place from the top position\r\n                        var percentageScroll = (scrollTop /  utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                                categoriesPageViewModel.viewContentHeight) * 100;\r\n                        if(percentageScroll >= 50){ // if the scroll position is >= halfway\r\n                            $('#categories-page #categories-page-scroll-top-fab').css(\r\n                                {\"transform\": \"scale(1)\",\r\n                                \"display\": \"inline-block\"});\r\n                        }\r\n                        else{ // if the scroll position is < halfway\r\n                            $('#categories-page #categories-page-scroll-top-fab').css({\"transform\": \"scale(0)\"});\r\n                        }\r\n                    }, 0);\r\n                });\r\n\r\n                // listen for when a category card is clicked\r\n                $thisPage.on(\"click\", \".e-card\", function(clickEvent){\r\n                    // load the products page in a separate event queue\r\n                    window.setTimeout(async function(){\r\n                        try{\r\n                            // navigate to the products page\r\n                            await $('#app-main-tabbar').get(0).setActiveTab(4, {animation: 'none'});\r\n                            // request for products from the category that was clicked\r\n                            let productArray = await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.\r\n                            loadProducts({\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                                \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 20,\r\n                                \"category\": $(clickEvent.currentTarget).attr(\"data-category-id\")});\r\n                            await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.displayPageContent(productArray[0]);\r\n                        }\r\n                        catch(err){\r\n\r\n                            // hide all previously displayed ej2 toast\r\n                            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                            // display toast to show that an error\r\n                            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                            toast.cssClass = 'error-ej2-toast';\r\n                            toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                            toast.dataBind();\r\n                            toast.show();\r\n                        }\r\n                        finally{\r\n                            // hide the preloader for the products page\r\n                            $('#products-page .page-preloader').css(\"display\", \"none\");\r\n                        }\r\n                    }, 0);\r\n                });\r\n\r\n                try{\r\n                    // start loading the page content\r\n                    let categoryArray = await utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.loadCategories();\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.displayPageContent(categoryArray[0]);\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the preloader\r\n                    $('#categories-page .page-preloader').css(\"display\", \"none\");\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            $('#app-main-page ons-toolbar div.title-bar').html(\"Products\"); // update the title of the page\r\n            // update cart count\r\n            $('#app-main-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n            // hide the page scroll fab\r\n            $('#categories-page #categories-page-scroll-top-fab').css({\"display\": \"none\"});\r\n\r\n            window.SoftInputMode.set('adjustPan');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.deviceOnlineListener, false);\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.deviceOnlineListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // reset view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.currentPage = 0;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.pageSize = 100;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.viewContentHeight = 0;\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // go to the \"Home\" page (tab)\r\n            $('#app-main-tabbar').get(0).setActiveTab(0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to see updated products\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#categories-page #categories-page-pull-hook').attr(\"disabled\", true);\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                // start loading the page content\r\n                let categoryArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                categoriesPageViewModel.loadCategories(1, utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.categoriesPageViewModel.pageSize);\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.categoriesPageViewModel.displayPageContent(categoryArray[0]);\r\n            }\r\n            catch(err){ // an error occurred\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#categories-page #categories-page-pull-hook').removeAttr(\"disabled\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load products categories to the page\r\n         *\r\n         * @param pageToAccess {Integer} the page within the paginated categories to retrieve\r\n         *\r\n         * @param pageSize {Integer} the size of the page i.e. the number of category items to retrieve\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadCategories(pageToAccess = utopiasoftware[utopiasoftware_app_namespace].\r\n                                            controller.categoriesPageViewModel.currentPage + 1,\r\n                             pageSize = utopiasoftware[utopiasoftware_app_namespace].\r\n                                        controller.categoriesPageViewModel.pageSize){\r\n            var categoryPromisesArray = []; // holds the array for the promises used to load the product categories\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load the requested categories list from the server\r\n                categoryPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/products/categories\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {\"order\": \"asc\", \"orderby\": \"name\", \"hide_empty\": true,\r\n                                \"page\": pageToAccess, \"per_page\": pageSize}\r\n                        }\r\n                    )).then(function(categoriesArray){\r\n                        // check if there is any data to cache in the app database\r\n                        if(categoriesArray.length > 0){ // there is data to cache\r\n                            // remove the 'uncategorized' category\r\n                            categoriesArray = categoriesArray.filter(function(element){\r\n                                return element.slug !== 'uncategorized';\r\n                            });\r\n                            // generate an id for the data being cached\r\n                            let cachedDataId = (\"\" + pageToAccess).padStart(7, \"0\") + \"categories\";\r\n                            // save the retrieved data to app database as cached data\r\n                            utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                                {_id: cachedDataId, docType: \"PRODUCT_CATEGORIES\", categories: categoriesArray},\r\n                                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                            // update the current page being viewed\r\n                            utopiasoftware[utopiasoftware_app_namespace].\r\n                                controller.categoriesPageViewModel.currentPage = pageToAccess;\r\n                        }\r\n                        resolve(categoriesArray); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            } // end of loading product categories with Internet Connection\r\n            else{ // there is no internet connection\r\n                // display toast to show that there is no internet connection\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.hide('All');\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.content = \"No Internet connection. Pull down to refresh and see updated products\";\r\n                toast.dataBind();\r\n                toast.show();\r\n                // load the requested product categories from cached data\r\n                categoryPromisesArray.push(new Promise(function(resolve, reject){\r\n                    // generate the id for the cached data being retrieved\r\n                    let cachedDataId = (\"\" + pageToAccess).padStart(7, \"0\") + \"categories\";\r\n                    Promise.resolve(utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(cachedDataId, utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).\r\n                    then(function(cachedCategoriesData){\r\n                        resolve(cachedCategoriesData.categories); // resolve the parent promise with the cached categories data\r\n                    }).\r\n                    catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n            }\r\n\r\n            return Promise.all(categoryPromisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the retrieved products categories on the app screen\r\n         *\r\n         * @param categoriesArray\r\n         *\r\n         * @param appendContent {Boolean} if the value is true,\r\n         * add each content to the end of other items on the screen.\r\n         * Else, prepend the content to the top of other items\r\n         *\r\n         * @param overwriteContent {Boolean} should the old content be replaced or added to\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayPageContent(categoriesArray, appendContent = true, overwriteContent = true){\r\n\r\n            var displayCompletedPromise = new Promise(function(resolve, reject){\r\n\r\n                let categoriesContent = \"\"; // holds the contents for the categories\r\n\r\n                // check if the categoriesArray is empty or not\r\n                if(categoriesArray.length <= 0){ // there are no new content to display\r\n                    resolve(categoriesArray.length); // resolve promise with the length of the categories array\r\n                }\r\n                else{ // there are some categories to display\r\n\r\n                    // loop through the array content and display it\r\n                    for(let index = 0; index < categoriesArray.length; index++){\r\n                        categoriesContent += `<div class=\"col-xs-4\" `;\r\n                        if((index + 1) % 3 !== 0){ // this is NOT the last column in the row\r\n                            categoriesContent += `style=\"border-right: 1px lightgray solid; border-bottom: 1px lightgray solid\">`;\r\n                        }\r\n                        else{ // this is the last column in the row\r\n                            categoriesContent += `style=\"border-bottom: 1px lightgray solid\">`;\r\n                        }\r\n                        categoriesContent += `\r\n                        <ons-ripple background=\"rgba(63, 81, 181, 0.3)\"></ons-ripple>\r\n                        <div class=\"e-card\" data-category-id=\"${categoriesArray[index].id}\">\r\n                            <div class=\"e-card-image\" style=\"min-height: 100px; \r\n                            background-image: url('${categoriesArray[index].image.src}');\">\r\n                            </div>\r\n                            <div class=\"e-card-header\">\r\n                                <div class=\"e-card-header-caption\"  style=\"padding-left: 3px; padding-right: 5px\">\r\n                                    <div class=\"e-card-sub-title\" style=\"font-size: 14px; text-align: center; text-transform: capitalize\">\r\n                                        ${categoriesArray[index].name}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>`;\r\n\r\n                    }\r\n\r\n                    // check if the contents are to be overwritten\r\n                    if(overwriteContent === true){ // content wants to be overwritten\r\n                        $('#categories-page #categories-contents-container').html(categoriesContent);\r\n                    }\r\n                    else{ // content is NOT to be overwritten\r\n                        if(appendContent === true){ // append content\r\n                            $('#categories-page #categories-contents-container').append(categoriesContent);\r\n                        }\r\n                        else{ // prepend content\r\n                            $('#categories-page #categories-contents-container').prepend(categoriesContent);\r\n                        }\r\n                    }\r\n\r\n                    resolve(categoriesArray.length); // resolve the promise with length of the categoriesArray\r\n                }\r\n\r\n            });\r\n\r\n            return displayCompletedPromise; // return the promise object ot indicate if the display has been completed or not\r\n\r\n        },\r\n\r\n        /**\r\n         * method scrolls the page to the top\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollPageToTop(){\r\n            window.setTimeout(function(){\r\n                $('#categories-page .page__content').animate({ scrollTop: 0 }, 400);\r\n            }, 0);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Search page\r\n     */\r\n    searchPageViewModel: {\r\n\r\n        /**\r\n         * holds the array of products for the search result that was just run by the user\r\n         */\r\n        currentSearchResultsArray: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.backButtonClicked;\r\n\r\n                try{\r\n\r\n                    //instantiate the autocomplete widget for the search input\r\n                    let searchAutoComplete = new ej.dropdowns.AutoComplete({\r\n                        floatLabelType: \"Never\",\r\n                        placeholder: \"Search Products\",\r\n                        allowCustom: true,\r\n                        filterType: \"Contains\",\r\n                        minLength: 1000, // minimum number of characters that will automatically trigger autocomplete search\r\n                        suggestionCount: 20, // specified how many items will be in the popup\r\n                        dataSource: [],\r\n                        noRecordsTemplate: `Tap 'Search' key to begin search`,\r\n                        blur: function(){ // track when the component has lost focus\r\n                            this._allowRemoteSearch = false; // set that remote search is NOT allowed\r\n                            // hide the popover\r\n                            $('#search-page-search-input-popover').get(0).hide();\r\n\r\n                        },\r\n                        change: function(){ // track when the component's value has changed\r\n\r\n                            let searchValue = \"\"; // holds the term to be searched for\r\n\r\n                            // check if the search component can perform a remote search\r\n                            if(this._allowRemoteSearch !== true){  // remote search is NOT allowed\r\n                                this._allowRemoteSearch = false; // set that remote search is NOT allowed\r\n                                return; // exit function\r\n                            }\r\n\r\n                            // check that there is actually a search term entered in the search component\r\n                            if(!this.value || this.value.trim() === \"\"){ // no search term\r\n                                this._allowRemoteSearch = false; // set that remote search is NOT allowed\r\n                                return; // exit function\r\n                            }\r\n\r\n                            // update the search term value\r\n                            searchValue = this.value.trim();\r\n\r\n                            // inform user that search is ongoing\r\n                            $('#search-page-search-input-popover #search-input-popover-list').\r\n                            html(`\r\n                            <ons-list-item modifier=\"nodivider\" lock-on-drag=\"true\">\r\n                                <div class=\"left\">\r\n                                    <ons-progress-circular indeterminate modifier=\"pull-hook\" \r\n                                    style=\"transform: scale(0.6)\"></ons-progress-circular>\r\n                                </div>\r\n                                <div class=\"center\">\r\n                                    <div style=\"text-align: center;\">\r\n                                        Searching for products\r\n                                    </div>\r\n                                </div>\r\n                            </ons-list-item>`);\r\n                            // display the popover\r\n                            $('#search-page-search-input-popover').get(0).\r\n                            show(document.getElementById('search-page-input'));\r\n\r\n                            // run the actual search in a different event queue\r\n                            window.setTimeout(async function() {\r\n                                var searchResultsArray = [];\r\n                                try{\r\n                                    searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                                    loadProducts({\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                                        \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 3,\r\n                                        \"search\": searchValue});\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                                    displayPageContent(searchResultsArray[0]);\r\n                                }\r\n                                catch(err){\r\n\r\n                                    // remove the focus from the search autocomplete component\r\n                                    $('#search-page #search-page-input').get(0).ej2_instances[0].focusOut();\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast to show that an error\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'error-ej2-toast';\r\n                                    toast.timeOut = 3000;\r\n                                    toast.content = `Sorry, a search error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"}`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                            }, 0);\r\n\r\n                        }\r\n                    }).appendTo('#search-page-input');\r\n\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            $('#app-main-page ons-toolbar div.title-bar').html(\"Search\"); // update the title of the page\r\n            // update cart count\r\n            $('#app-main-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustPan');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.deviceOnlineListener, false);\r\n\r\n            // load the recent searches list\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.displayRecentSearches();\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.deviceOnlineListener, false);\r\n            // destroy the current search result array\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.currentSearchResultsArray = null;\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // destroy the search input autocomplete component\r\n            $('#search-page #search-page-input').get(0).ej2_instances[0].destroy();\r\n            // reset the view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.currentSearchResultsArray = null;\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // hide the search-input popover\r\n            $('#search-page-search-input-popover').get(0).hide();\r\n            // go to the \"Categories\" page (tab)\r\n            $('#app-main-tabbar').get(0).setActiveTab(1);\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to see search results\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is used to display the \"Recent Searches\" list on the Search page.\r\n         * Recent Searches are gotten from the cached collection\r\n         */\r\n        async displayRecentSearches(){\r\n            try{\r\n                // load the recent search from the device database cache\r\n                let recentSearchData = await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"recent-searches\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                let displayContent = \"<ons-list-title>Recent Searches</ons-list-title>\"; // holds the content of the list to be created\r\n                // create the Recent Searches list\r\n                for(let index = 0; index < recentSearchData.products.length; index++){\r\n                    displayContent += `\r\n                    <ons-list-item modifier=\"longdivider\" tappable lock-on-drag=\"true\">\r\n                        <div class=\"center\">\r\n                            <div style=\"width: 100%;\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                              recentSearchesItemClicked(${index})\">\r\n                                <span class=\"list-item__subtitle\">${recentSearchData.products[index].name}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"right\" prevent-tap \r\n                        onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                                    removeRecentSearchItem(${index}, this);\">\r\n                            <ons-icon icon=\"md-close-circle\" style=\"color: lavender; font-size: 18px;\"></ons-icon>\r\n                        </div>\r\n                    </ons-list-item>`;\r\n                }\r\n                // attach the displayContent to the list\r\n                $('#search-page #search-list').html(displayContent);\r\n            }\r\n            catch(err){\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to save a search item i.e. a product to the cached \"Recent Searches\"\r\n         *\r\n         * @param product {Object} the product to include to the \"Recent Searches\" cache\r\n         * @returns {Promise<void>}\r\n         */\r\n        async saveRecentSearchItem(product){\r\n            var recentSearchesResultArray = []; // holds the recent searches array\r\n\r\n            try{\r\n                // get the recent searches collection\r\n                recentSearchesResultArray = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"recent-searches\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).products;\r\n            }\r\n            catch(err){}\r\n\r\n            try{\r\n                // add the received 'product' parameter to the top of the recent searches array\r\n                recentSearchesResultArray.unshift(product);\r\n                // ensure the array is NOT greater than 5 items in length\r\n                recentSearchesResultArray = recentSearchesResultArray.slice(0, 5);\r\n                // save the updated recent searches array  to the cached data collection of \"Recent Searches\"\r\n                await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                    {_id: \"recent-searches\", docType: \"RECENT_SEARCHES\", products: recentSearchesResultArray},\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n                // display the updated recent searches to the user\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.displayRecentSearches();\r\n            }\r\n            catch(err){\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to remove a search item i.e. a product from the cached \"Recent Searches\"\r\n         *\r\n         * @param productIndex {Integer} holds the index position for the product that was clicked.\r\n         * The index position is gotten from the array of cached recent searches\r\n         *\r\n         * @param clickedElement {Element} the element that was clicked in order to trigger the product removal\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async removeRecentSearchItem(productIndex, clickedElement){\r\n\r\n            // execute the method is a different event queue\r\n            window.setTimeout(async function(){\r\n                var recentSearchesResultArray = []; // holds the recent searches array\r\n\r\n                try{\r\n                    // get the recent searches collection\r\n                    recentSearchesResultArray = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"recent-searches\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).products;\r\n                }\r\n                catch(err){}\r\n\r\n                try{\r\n                    // remove the received 'product' parameter index from the recent searches array\r\n                    recentSearchesResultArray.splice(productIndex, 1);\r\n                    // save the updated recent searches array  to the cached data collection of \"Recent Searches\"\r\n                    await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                        {_id: \"recent-searches\", docType: \"RECENT_SEARCHES\", products: recentSearchesResultArray},\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n                    // hide the list-item belonging to the clicked element from the displayed list\r\n                    let $listItem = $(clickedElement).closest('ons-list-item');\r\n                    await kendo.fx($listItem).expand(\"vertical\").duration(300).reverse();\r\n                    // display the updated recent searches to the user\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.displayRecentSearches();\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n            }, 0)\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks an item from the Recent Searches List\r\n         *\r\n         * @param productIndex {Integer} holds the index position for the product that was clicked.\r\n         * The index position is gotten from the array returned of recent searches\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async recentSearchesItemClicked(productIndex){\r\n            // handle the function task in a different event queue\r\n            window.setTimeout(async function(){\r\n                try{\r\n                    // get the recent searches collection\r\n                    let recentSearchesResultArray = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"recent-searches\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).products;\r\n\r\n                    // display the products details page using the selected product\r\n                    $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\",\r\n                        {animation: \"lift\", data: {product : recentSearchesResultArray[productIndex]}});\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the enter button is clicked on the device keyboard\r\n         *\r\n         * @param keyEvent\r\n         * @returns {Promise<void>}\r\n         */\r\n        async enterButtonClicked(keyEvent){\r\n            // check which key was pressed\r\n            if(keyEvent.which === kendo.keys.ENTER) // if the enter key was pressed\r\n            {\r\n                // prevent the default action from occurring\r\n                keyEvent.preventDefault();\r\n                keyEvent.stopImmediatePropagation();\r\n                keyEvent.stopPropagation();\r\n                // hide the device keyboard\r\n                Keyboard.hide();\r\n\r\n                // get the search autocomplete component\r\n                let searchAutoComplete = $('#search-page #search-page-input').get(0).ej2_instances[0];\r\n                // update the value of the retrieved component\r\n                searchAutoComplete.value = $('#search-page #search-page-input').val();\r\n                searchAutoComplete._allowRemoteSearch = true; // flag the remote search can occur\r\n                searchAutoComplete.dataBind(); // bind new value to the component\r\n                searchAutoComplete.change(); // trigger the change method\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load products to the page\r\n         *\r\n         * @param pageToAccess {Integer} the page within the paginated categories to retrieve\r\n         *\r\n         * @param pageSize {Integer} the size of the page i.e. the number of category items to retrieve\r\n         *\r\n         * @param queryParam {Object} holds the objects that contains the query\r\n         * params for the type of products to retrieve\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadProducts(queryParam, pageToAccess = queryParam.page || 1,\r\n                           pageSize = queryParam.per_page || 3){\r\n            queryParam.page = pageToAccess;\r\n            queryParam.per_page = pageSize;\r\n\r\n            var productPromisesArray = []; // holds the array for the promises used to load the products\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load the requested products list from the server\r\n                productPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/products\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: queryParam\r\n                        }\r\n                    )).then(function(productsArray){\r\n                        // check if the productsArray contains products\r\n                        if(productsArray.length > 0){ // there are products\r\n                            // update the current search results array with the productsArray\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                                currentSearchResultsArray = productsArray;\r\n                        }\r\n\r\n                        resolve(productsArray); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            } // end of loading products with Internet Connection\r\n            else{ // there is no internet connection\r\n                productPromisesArray.push(Promise.reject(\"no internet connection\"));\r\n            }\r\n\r\n            return Promise.all(productPromisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the retrieved products on the search popover\r\n         *\r\n         * @param productsArray\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayPageContent(productsArray){\r\n\r\n            var displayCompletedPromise = new Promise(function(resolve, reject){\r\n\r\n                let productsContent = \"\"; // holds the contents for the products\r\n\r\n                // check if the productsArray is empty or not\r\n                if(productsArray.length <= 0){ // there are no new content to display\r\n                    // inform the user that no result for the search was founc'\r\n                    $('#search-page-search-input-popover #search-input-popover-list').\r\n                    html(`<ons-list-item modifier=\"nodivider\" lock-on-drag=\"true\">\r\n                                <div class=\"center\">\r\n                                    <div style=\"text-align: center; width: 100%;\">\r\n                                        No Results Found\r\n                                    </div>\r\n                                </div>\r\n                            </ons-list-item>`);\r\n                    resolve(productsArray.length); // resolve promise with the length of the products array\r\n                }\r\n                else{ // there are some products to display\r\n\r\n                    // loop through the array content and display it\r\n                    for(let index = 0; index < productsArray.length; index++){\r\n\r\n                        productsContent +=\r\n                            `<ons-list-item modifier=\"nodivider\" tappable lock-on-drag=\"true\" \r\n                              onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                              searchAutocompletePopOverItemClicked(${index})\">\r\n                                <div class=\"left\">\r\n                                    <div class=\"search-result-image\" style=\"background-image: url('${productsArray[index].images[0].src}'); \r\n                                                            width: 2em; height: 2em\"></div>\r\n                                </div>\r\n                                <div class=\"center\">\r\n                                    <div style=\"text-align: center;\">\r\n                                        ${productsArray[index].name}\r\n                                    </div>\r\n                                </div>\r\n                            </ons-list-item>`;\r\n                    }\r\n\r\n                    // append the \"Load More\" search item\r\n                    productsContent +=\r\n                        `<ons-list-item modifier=\"nodivider\" tappable lock-on-drag=\"true\" \r\n                          onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.findMoreClicked();\">\r\n                                <div class=\"center\">\r\n                                    <div style=\"text-align: center; width: 100%; font-weight: bold;\">\r\n                                        Find More...\r\n                                    </div>\r\n                                </div>\r\n                            </ons-list-item>`;\r\n                    // attach the new search results to the search popover\r\n                    $('#search-page-search-input-popover #search-input-popover-list').html(productsContent);\r\n\r\n                    resolve(productsArray.length); // resolve the promise with length of the productsArray\r\n                }\r\n\r\n            });\r\n\r\n            return displayCompletedPromise; // return the promise object ot indicate if the display has been completed or not\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks an item from the search autocomplete popover\r\n         *\r\n         * @param productIndex {Integer} holds the index position for the product that was clicked.\r\n         * The index position is gotten from the array returned by the product search\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async searchAutocompletePopOverItemClicked(productIndex){\r\n            // get the product the user clicked on from the search autocomplete popover\r\n            var selectedProduct = utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                currentSearchResultsArray[productIndex];\r\n            window.setTimeout(async function(){\r\n                try{\r\n                    // display the products details page using the selected product\r\n                    await $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\",\r\n                        {animation: \"lift\", data: {product : selectedProduct}});\r\n\r\n                    // save the selected product in recent products app cache\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.searchPageViewModel.\r\n                    saveRecentSearchItem(selectedProduct);\r\n\r\n                    // update the value of the search autocomplete input to that which the user clicked on from the popover\r\n                    $('#search-page #search-page-input').val(selectedProduct.name);\r\n\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Find More\" option is\r\n         * tapped within the search input popover\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async findMoreClicked(){\r\n            // load the products page in a separate event queue\r\n            window.setTimeout(async function(){\r\n                try{\r\n                    // navigate to the products page\r\n                    await $('#app-main-tabbar').get(0).setActiveTab(4, {animation: 'none'});\r\n                    // request for products using the user's search term\r\n                    let productArray = await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.\r\n                    loadProducts({\"order\": \"desc\", \"orderby\": \"date\", \"status\": \"publish\",\r\n                        \"type\": \"variable\", \"stock_status\": \"instock\", \"page\": 1, \"per_page\": 20, \"search\":\r\n                            $('#search-page #search-page-input').get(0).ej2_instances[0].value.trim()});\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.displayPageContent(productArray[0]);\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{\r\n                    // hide the preloader for the products page\r\n                    $('#products-page .page-preloader').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Account page\r\n     */\r\n    accountPageViewModel: {\r\n\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for when the device back button is tapped\r\n                event.target.onDeviceBackButton = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    accountPageViewModel.backButtonClicked;\r\n\r\n                // add listener for when the push notification preference switch is clicked\r\n                $('#account-page #account-push-notification-preference').on(\"change\", function(changeEvent){\r\n                    if(changeEvent.originalEvent.value === true){ // the push notification preference switch was turned on\r\n                        // subscribe the user to the push notification\r\n                        window.plugins.OneSignal.setSubscription(true);\r\n                    }\r\n                    else{ // the push notification preference switch was turned off\r\n                        // unsubscribe user from push notification\r\n                        window.plugins.OneSignal.setSubscription(false);\r\n                    }\r\n                });\r\n\r\n                try{\r\n                    // create the accorodion ej2 component used on the \"Account\" page\r\n                    let accordion = new ej.navigations.Accordion({\r\n                        expandMode: 'Single'\r\n                    });\r\n                    accordion.appendTo('#account-accordion');\r\n                    // expand the first item of the accordion\r\n                    accordion.expandItem(true, 0);\r\n\r\n                    // update the app version information\r\n                    $('#account-page #account-about-list-app-version').html(BuildInfo.version);\r\n\r\n                    // update the app release date information\r\n                    $('#account-page #account-about-list-version-release').\r\n                    html(`${kendo.toString(BuildInfo.buildDate, \"MMMM dd, yyyy\")}`);\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: async function(){\r\n            $('#app-main-page ons-toolbar div.title-bar').html(\"Account\"); // update the title of the page\r\n            // update cart count\r\n            $('#app-main-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustPan');\r\n\r\n            // handle the user sign-in check inside a promise\r\n            await new Promise(function(resolve, reject){\r\n                window.setTimeout(async function(){\r\n                    try{\r\n                        // check if user has been signed in\r\n                        let hasUserDetails = await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        loadData(\"user-details\", utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                        // since user is signed in, hide some list items and show some list items on the page.\r\n\r\n                        // all items that are interested in have their display altered MUST have the\r\n                        // class 'utopiasoftware-can-hide-list-item'.\r\n                        // items that want to be displayed when a user is signed in and hidden when a user is signed out, MUST ALSO\r\n                        // have the class 'utopiasoftware-user-sign-in-show' in addition to 'utopiasoftware-can-hide-list-item'.\r\n\r\n                        // alter the list item display because a user is signed in\r\n                        $('#account-page .utopiasoftware-can-hide-list-item.utopiasoftware-user-sign-in-show').css(\"display\", \"flex\");\r\n                        $('#account-page .utopiasoftware-can-hide-list-item:not(.utopiasoftware-user-sign-in-show)')\r\n                            .css(\"display\", \"none\");\r\n\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                    catch(err){\r\n                        // alter the list item display because NO user is signed in\r\n                        $('#account-page .utopiasoftware-can-hide-list-item.utopiasoftware-user-sign-in-show').css(\"display\", \"none\");\r\n                        $('#account-page .utopiasoftware-can-hide-list-item:not(.utopiasoftware-user-sign-in-show)')\r\n                            .css(\"display\", \"flex\");\r\n\r\n                        // resolve the promise\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                }, 0);\r\n            });\r\n\r\n            // check and handle the user's push notification status inside the promise\r\n            await new Promise(function(resolve, reject){\r\n                window.plugins.OneSignal.getPermissionSubscriptionState(function(status) {\r\n\r\n                    // check if user is subscribed to and push notification is enabled on the device\r\n                    if(status.subscriptionStatus.subscribed === true &&\r\n                        status.subscriptionStatus.userSubscriptionSetting === true){ // user has enabled push notification\r\n                        // turn on the push notification preference\r\n                        $('#account-page #account-push-notification-preference').get(0).checked = true;\r\n                    }\r\n                    else{ // user has disabled push notification\r\n                        //turn off the push notification preference\r\n                        $('#account-page #account-push-notification-preference').get(0).checked = false;\r\n                    }\r\n\r\n                    // enable the push notification preference switch\r\n                    $('#account-page #account-push-notification-preference').get(0).disabled = false;\r\n\r\n                    resolve(); // resolve the parent promise\r\n                });\r\n            });\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the \"Account\" accordion\r\n            $('#account-page #account-accordion').get(0).ej2_instances[0].destroy();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // go to the \"Home\" page (tab)\r\n            $('#app-main-tabbar').get(0).setActiveTab(2);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Sign Out\" list item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async signOutListItemClicked(){\r\n\r\n            // inform the user that the sign out process is on\r\n            $('#loader-modal-message').html(\"Signing user out...\");\r\n            await $('#loader-modal').get(0).show(); // show loader\r\n\r\n            try{\r\n                // delete all user related data\r\n                await Promise.all([utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                removeData(\"user-details\", utopiasoftware[utopiasoftware_app_namespace].model.\r\n                    encryptedAppDatabase),\r\n                    utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    removeData(\"user-cart\", utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)]);\r\n\r\n                // sign out the user from the firebase app\r\n                await utopiasoftware[utopiasoftware_app_namespace].model.firebaseApp.auth().signOut();\r\n            }\r\n            catch(err){\r\n\r\n            }\r\n\r\n            // check if user can sign out from the remote app serve via an iframe\r\n            if($('#user-signout-iframe-container #user-signout-iframe').get(0).contentWindow &&\r\n                $('#user-signout-iframe-container #user-signout-iframe').get(0).contentWindow.utopiasoftware_removeUsage){\r\n                // call the method to remotely sign out\r\n                $('#user-signout-iframe-container #user-signout-iframe').get(0).contentWindow.utopiasoftware_removeUsage();\r\n            }\r\n\r\n            // unsubscribe user from push notification\r\n            window.plugins.OneSignal.setSubscription(false);\r\n\r\n            // refresh the display of the app Account page\r\n            await utopiasoftware[utopiasoftware_app_namespace].controller.accountPageViewModel.pageShow();\r\n\r\n            // alter the list item displayed on the Account page because NO user is signed in\r\n            $('#account-page .utopiasoftware-can-hide-list-item.utopiasoftware-user-sign-in-show').css(\"display\", \"none\");\r\n            $('#account-page .utopiasoftware-can-hide-list-item:not(.utopiasoftware-user-sign-in-show)')\r\n                .css(\"display\", \"flex\");\r\n\r\n            // hide loader modal\r\n            await $('#loader-modal').get(0).hide();\r\n\r\n            // inform user that they have been signed out\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n            $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n            // display toast message\r\n            let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n            toast.cssClass = 'success-ej2-toast';\r\n            toast.timeOut = 3000;\r\n            toast.content = `User signed out`;\r\n            toast.dataBind();\r\n            toast.show();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Profile\" list item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async profileListItemClicked(){\r\n\r\n            // handle the user sign-in check inside a promise\r\n            return new Promise(function(resolve, reject){\r\n                window.setTimeout(async function(){\r\n                    try{\r\n                        // check if user has been signed in\r\n                        let hasUserDetails = await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        loadData(\"user-details\", utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                        // user has been signed in, so display the user profile page\r\n                        await $('#app-main-navigator').get(0).pushPage('profile-page.html');\r\n\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                    catch(err){\r\n                        // inform user they need to sign in before viewing the profile page\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast message\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 3000;\r\n                        toast.content = `Sign in to view your profile`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n\r\n                        // resolve the promise\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                }, 0);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Track Order\" list item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async trackOrderListItemClicked(){\r\n\r\n            // handle the user sign-in check inside a promise\r\n            return new Promise(function(resolve, reject){\r\n                window.setTimeout(async function(){\r\n                    try{\r\n                        // check if user has been signed in\r\n                        let hasUserDetails = await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        loadData(\"user-details\", utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                        // user has been signed in, so display the track\r\n                        await $('#app-main-navigator').get(0).pushPage('track-order-page.html');\r\n\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                    catch(err){\r\n                        // inform user they need to sign in before viewing the track order page\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast message\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 3000;\r\n                        toast.content = `Sign in to track an order`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n\r\n                        // resolve the promise\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                }, 0);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Contact Us\" list item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async contactUsListItemClicked(){\r\n\r\n            // open the device email composer\r\n            cordova.plugins.email.open({\r\n                to:          [\"info@oakexclusive.com\", \"shop@oakexclusive.com\"],\r\n                subject:    \"[provide an appropriate subject]\",\r\n                body:       \"[Enter your inquiries]\"\r\n            });\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Share App\" list item\r\n         * @returns {Promise<void>}\r\n         */\r\n        async shareAppListItemClicked(){\r\n            var shareOptions = {}; // holds the options for sharing\r\n            shareOptions.message = `check out ${BuildInfo.displayName} for printing exclusive custom designs on your merchandise`;\r\n            shareOptions.chooserTitle = `share ${BuildInfo.displayName} with...`;\r\n            shareOptions.files = [\"www/css/app-images/share-app-logo.jpg\"];\r\n            shareOptions.url = \"https://shopoakexclusive.page.link/share-app\";\r\n\r\n            // handle the task in a separate event block\r\n            window.setTimeout(function(){\r\n                // also copy the text to clipboard\r\n                cordova.plugins.clipboard.copy(`${shareOptions.message} | ${shareOptions.url}`,\r\n                    function(){\r\n                        // inform the user that message has been copied to clipboard\r\n                        window.plugins.toast.showWithOptions({\r\n                            message: \"app share-link copied to clipboard\",\r\n                            duration: 3000,\r\n                            position: \"center\",\r\n                            styling: {\r\n                                cornerRadius: 0,\r\n                                opacity: 1,\r\n                                backgroundColor: '#3F51B5',\r\n                                textColor: '#FFFFFF',\r\n                                textSize: 14\r\n                            }\r\n                        });\r\n\r\n                        // wait for some time before displaying the share dialog\r\n                        window.setTimeout(function(){\r\n                            // open the device share dialog\r\n                            window.plugins.socialsharing.shareWithOptions(shareOptions, function(){}, function(){});\r\n                        }, 1000);\r\n\r\n                    }, function(){});\r\n\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Terms and Conditions\" list item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async tosListItemClicked(){\r\n\r\n            // handle the opening of the in-app browser inside a promise\r\n            return new Promise(function(resolve, reject){\r\n                window.setTimeout(async function(){\r\n                    try{\r\n                        // open inapp browser for t&c page\r\n                        cordova.InAppBrowser.open(window.encodeURI('https://shopoakexclusive.com/terms-and-conditions/'), '_blank',\r\n                            'location=yes,clearcache=yes,clearsessioncache=yes,closebuttoncolor=#ffffff,hardwareback=no,hidenavigationbuttons=yes,hideurlbar=yes,zoom=no,toolbarcolor=#3f51b5');\r\n\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                    catch(err){\r\n                        // resolve the promise\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                }, 0);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks on the \"Privacy Policy\" list item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async privacyPolicyListItemClicked(){\r\n\r\n            // handle the opening of the in-app browser inside a promise\r\n            return new Promise(function(resolve, reject){\r\n                window.setTimeout(async function(){\r\n                    try{\r\n                        // open inapp browser for privacy policy page\r\n                        cordova.InAppBrowser.open(window.encodeURI('https://shopoakexclusive.com/privacy-policy/'), '_blank',\r\n                            'location=yes,clearcache=yes,clearsessioncache=yes,closebuttoncolor=#ffffff,hardwareback=no,hidenavigationbuttons=yes,hideurlbar=yes,zoom=no,toolbarcolor=#3f51b5');\r\n\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                    catch(err){\r\n                        // resolve the promise\r\n                        resolve(); // resolve the promise\r\n                    }\r\n                }, 0);\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Login page\r\n     */\r\n    loginPageViewModel: {\r\n\r\n        /**\r\n         * used to hold the parsley form validation object for the login page\r\n         */\r\n        loginFormValidator: null,\r\n\r\n        /**\r\n         * used to hold the parsley form validation object for the signup page\r\n         */\r\n        signupFormValidator: null,\r\n\r\n        /**\r\n         * used to hold the parsley form validator object for the forgot password page\r\n         */\r\n        forgotPasswordFormValidator: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.backButtonClicked;\r\n\r\n                // listen for when the login-carousel has changed/slide used to change screen from login to signup etc\r\n                $thisPage.on(\"postchange\", \"#login-carousel\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.changeScreenCarouselPostChange);\r\n\r\n                // listen for when the login-carousel has changed/slide used to hide the tooltips for the previous displayed screen\r\n                $thisPage.on(\"postchange\", \"#login-carousel\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.hideTooltipsCarouselPostChange);\r\n\r\n                // initialise the login form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator =\r\n                    $('#login-page #login-form').parsley();\r\n\r\n                // initialise the signup form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator =\r\n                    $('#login-page #signup-form').parsley();\r\n\r\n                // initialise the forgot password form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator =\r\n                    $('#login-page #forgot-password-form').parsley();\r\n\r\n                // listen for log in form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator.on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#login-page #login-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for log in form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator.on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#login-page #login-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for log in form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator.on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidated);\r\n\r\n                // listen for signup form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator.on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#login-page #signup-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for sign up form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator.on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#login-page #signup-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for signup form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator.on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidated);\r\n\r\n                // listen for forgot password form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator.on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#login-page #forgot-password-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for forgot password form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator.on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#login-page #forgot-password-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for forgot password form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator.on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidated);\r\n\r\n\r\n                // listen for scroll event on the page to adjust the tooltips when page scrolls\r\n                $('#login-page .login-page-form-container').on(\"scroll\", function(){\r\n\r\n                    // place function execution in the event queue to be executed ASAP\r\n                    window.setTimeout(function(){\r\n\r\n                            switch ($('#login-page #login-carousel').get(0).getActiveIndex()) { // get the active carousel item\r\n                                case 0: // first carousel item is active, so adjust the input elements on the login form\r\n                                    $(\"#login-page #login-form ons-input\").each(function(index, element){\r\n                                        document.getElementById('login-form').ej2_instances[index].refresh(element);\r\n                                    });\r\n                                    break;\r\n\r\n                                case 1: // second carousel item is active, so adjust the input elements on the login form\r\n                                    $(\"#login-page #signup-form ons-input\").each(function(index, element){\r\n                                        document.getElementById('signup-form').ej2_instances[index].refresh(element);\r\n                                    });\r\n                                    break;\r\n\r\n                                case 2: // third carousel item is active, so adjust the input elements on the login form\r\n                                    $(\"#login-page #forgot-password-form ons-input\").each(function(index, element){\r\n                                        document.getElementById('forgot-password-form').ej2_instances[index].refresh(element);\r\n                                    });\r\n\r\n                                    break;\r\n                            }\r\n                        }, 0);\r\n                });\r\n\r\n                try{\r\n                    // create the tooltip objects for the signin form\r\n                    $('#login-form ons-input', $thisPage).each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopCenter',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#login-page #login-form').get(0));\r\n                    });\r\n\r\n                    // create the tooltip objects for the signup form\r\n                    $('#signup-form ons-input', $thisPage).each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopCenter',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#login-page #signup-form').get(0));\r\n                    });\r\n\r\n                    // create the tooltip objects for the forgot password form\r\n                    $('#forgot-password-form ons-input', $thisPage).each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopCenter',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#login-page #forgot-password-form').get(0));\r\n                    });\r\n\r\n                    // create the button for showing password visibility on the signup page\r\n                    new ej.buttons.Button({\r\n                        isToggle: true,\r\n                        cssClass: 'e-flat e-small e-round',\r\n                        iconCss: \"zmdi zmdi-eye\",\r\n                        iconPosition: \"Left\"\r\n                    }).appendTo($('#signup-password-view-button', $thisPage).get(0));\r\n\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            window.SoftInputMode.set('adjustPan');\r\n\r\n            // get the device RAM capacity\r\n            var deviceRAM = window.parseFloat(\"\" + cordova.plugins['extended-device-information'].memory);\r\n\r\n            // check if the device RAM is upto 1GB\r\n            if(deviceRAM < 1000){ // device RAM is < 1GB\r\n                $('#login-page .third-party-signin-block').css(\"display\", \"none\"); // hide the 3rd-party login block\r\n            }\r\n            else{ // device RAM is >= 1GB\r\n                $('#login-page .third-party-signin-block').css(\"display\", \"flex\"); // display the 3rd-party login block\r\n            }\r\n\r\n            // listen for when the device keyboard is shown\r\n            window.addEventListener('keyboardDidShow',\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.keyboardShownAdjustView);\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // remove listener for when the device keyboard is shown\r\n            window.removeEventListener('keyboardDidShow',\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.keyboardShownAdjustView);\r\n\r\n            // hide the tooltips on the login form\r\n            $('#login-page #login-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // hide the tooltips on the signup form\r\n            $('#login-page #signup-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // hide the tooltips on the forgot password form\r\n            $('#login-page #forgot-password-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // reset all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator.reset();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator.reset();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator.reset();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the tooltips on the login form\r\n            $('#login-page #login-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // destroy the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the tooltips on the signup form\r\n            $('#login-page #signup-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the tooltips on the forgot password form\r\n            $('#login-page #forgot-password-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the password visibility button\r\n            $('#login-page #signup-password-view-button').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator.destroy();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator.destroy();\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator.destroy();\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        async backButtonClicked(){\r\n\r\n            // get back to the previous page on the app-main navigator stack\r\n            return $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the Sign In / Sign Up segment buttons are clicked\r\n         *\r\n         * @param itemIndex {Integer} zero-based index representing the carousel item to\r\n         * display ewhen the button is clicked\r\n         */\r\n        segmentButtonClicked(itemIndex){\r\n            // move to the slide item specify by the provided parameter\r\n            $('#login-page #login-carousel').get(0).setActiveIndex(itemIndex);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the Password Visibility button is clicked\r\n         *\r\n         * @param buttonElement {HTMLElement} button element being clicked\r\n         *\r\n         * @param inputId {String} the id for the input whose content visibility is being changed\r\n         */\r\n        passwordVisibilityButtonClicked(buttonElement, inputId){\r\n\r\n            // check the state of the button is it 'active' or not\r\n            if(! $(buttonElement).hasClass('e-active')){ // button is not active\r\n                // change the type for the input field\r\n                $(document.getElementById(inputId)).attr(\"type\", \"text\");\r\n                // change the icon on the button to indicate the change in visibility\r\n                let ej2Button = buttonElement.ej2_instances[0];\r\n                ej2Button.iconCss = 'zmdi zmdi-eye-off';\r\n                ej2Button.dataBind();\r\n            }\r\n            else{ // button is active\r\n                // change the type for the input field\r\n                $(document.getElementById(inputId)).attr(\"type\", \"password\");\r\n                // change the icon on the button to indicate the change in visibility\r\n                let ej2Button = buttonElement.ej2_instances[0];\r\n                ej2Button.iconCss = 'zmdi zmdi-eye';\r\n                ej2Button.dataBind();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to track changes on the carousel slides for\r\n         * displaying the various screens i.e. login or signup etc\r\n         *\r\n         * @param event\r\n         */\r\n        changeScreenCarouselPostChange(event){\r\n\r\n            // use the switch case to determine what carousel is being shown\r\n            switch(event.originalEvent.activeIndex){ // get the index of the active carousel item\r\n                case 0:\r\n                    // reset the the segment button contained in the other carousel items to their initial state\r\n                    $(\"#login-page ons-carousel-item.second .login-segment button:nth-of-type(2) input\").prop(\"checked\", true);\r\n                    $(\"#login-page ons-carousel-item.second .login-segment button:nth-of-type(1) input\").prop(\"checked\", false);\r\n                    $(\"#login-page ons-carousel-item.third .login-segment button input\").prop(\"checked\", false);\r\n                    // scroll to the top of the active carousel item\r\n                    $('#login-page ons-carousel-item.first .login-page-form-container').scrollTop(0);\r\n\r\n                    break;\r\n\r\n                case 1:\r\n                    // reset the the segment button contained in the other carousel items to their initial state\r\n                    $(\"#login-page ons-carousel-item.first .login-segment button:nth-of-type(1) input\").prop(\"checked\", true);\r\n                    $(\"#login-page ons-carousel-item.first .login-segment button:nth-of-type(2) input\").prop(\"checked\", false);\r\n                    $(\"#login-page ons-carousel-item.third .login-segment button input\").prop(\"checked\", false);\r\n                    // scroll to the top of the active carousel item\r\n                    $('#login-page ons-carousel-item.second .login-page-form-container').scrollTop(0);\r\n                    break;\r\n\r\n                case 2:\r\n                    // reset the the segment button contained in the other carousel items to their initial state\r\n                    $(\"#login-page ons-carousel-item.first .login-segment button:nth-of-type(1) input\").prop(\"checked\", true);\r\n                    $(\"#login-page ons-carousel-item.first .login-segment button:nth-of-type(2) input\").prop(\"checked\", false);\r\n                    $(\"#login-page ons-carousel-item.second .login-segment button:nth-of-type(2) input\").prop(\"checked\", true);\r\n                    $(\"#login-page ons-carousel-item.second .login-segment button:nth-of-type(1) input\").prop(\"checked\", false);\r\n                    $('#login-page ons-carousel-item.third .login-page-form-container').scrollTop(0);\r\n                    break;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to track changes on the carousel slides for\r\n         * hiding the tooltips on the previously displayed slide\r\n         *\r\n         * @param event\r\n         */\r\n        hideTooltipsCarouselPostChange(event){\r\n\r\n            // use the switch case to determine what carousel item was PREVIOUSLY shown\r\n            switch(event.originalEvent.lastActiveIndex){ // get the index of the LAST active carousel item\r\n                case 0:\r\n\r\n                    // hide the tooltips on the login form\r\n                    $('#login-page #login-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                        // hide the tooltip\r\n                        tooltipArrayElem.close();\r\n                    });\r\n                    break;\r\n\r\n                case 1:\r\n\r\n                    // hide the tooltips on the signup form\r\n                    $('#login-page #signup-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                        // hide the tooltip\r\n                        tooltipArrayElem.close();\r\n                    });\r\n                    break;\r\n\r\n                case 2:\r\n\r\n                    // hide the tooltips on the forgot password form\r\n                    $('#login-page #forgot-password-form').get(0).ej2_instances.forEach(function(tooltipArrayElem) {\r\n                        // hide the tooltip\r\n                        tooltipArrayElem.close();\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the keyboard is shown.\r\n         * It is used to adjust the display height\r\n         *\r\n         * @param event\r\n         */\r\n        keyboardShownAdjustView(event){\r\n            // get the height of the keyboard and add 6000px to it\r\n            let adjustedKeyboardHeight = Math.ceil(event.keyboardHeight) + 6000;\r\n\r\n            switch ($('#login-page #login-carousel').get(0).getActiveIndex()) { // get the active carousel item\r\n                case 0:\r\n                    // add padding to the bottom, to allow elements to scroll into view\r\n                    $(\"#login-page ons-carousel-item.first .login-page-form-container\").\r\n                    css({\"padding-bottom\": adjustedKeyboardHeight + \"px\"});\r\n                    // scroll to the currently focused input element\r\n                    $(\"#login-page ons-carousel-item.first .login-page-form-container\").\r\n                    scrollTop(Math.floor($(document.activeElement).closest(\"ons-input\").position().top - 30));\r\n                    break;\r\n\r\n                case 1:\r\n                    // add padding to the bottom, to allow elements to scroll into view\r\n                    $(\"#login-page ons-carousel-item.second .login-page-form-container\").\r\n                    css({\"padding-bottom\": adjustedKeyboardHeight + \"px\"});\r\n                    // scroll to the currently focused input element\r\n                    $(\"#login-page ons-carousel-item.second .login-page-form-container\").\r\n                    scrollTop(Math.floor($(document.activeElement).closest(\"ons-input\").position().top - 30));\r\n                    break;\r\n\r\n                case 2:\r\n                    // add padding to the bottom, to allow elements to scroll into view\r\n                    $(\"#login-page ons-carousel-item.third .login-page-form-container\").\r\n                    css({\"padding-bottom\": adjustedKeyboardHeight + \"px\"});\r\n                    // scroll to the currently focused input element\r\n                    $(\"#login-page ons-carousel-item.third .login-page-form-container\").\r\n                    scrollTop(Math.floor($(document.activeElement).closest(\"ons-input\").position().top - 30));\r\n                    break;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Terms & Conditions\" link is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async termsAndConditionsLinkClicked() {\r\n\r\n            // open inapp browser for t&c page\r\n            cordova.InAppBrowser.open(window.encodeURI('https://shopoakexclusive.com/terms-and-conditions/'), '_blank',\r\n                'location=yes,clearcache=yes,clearsessioncache=yes,closebuttoncolor=#ffffff,hardwareback=no,hidenavigationbuttons=yes,hideurlbar=yes,zoom=no,toolbarcolor=#3f51b5');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Sign In\" button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async signinButtonClicked() {\r\n\r\n            // run the validation method for the sign-in form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.loginFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Sign Up\" button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async signupButtonClicked() {\r\n\r\n            // run the validation method for the sign-in form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.signupFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Forgot Password\" button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async forgotPasswordButtonClicked() {\r\n\r\n            // open inapp browser for user to reset password\r\n            cordova.InAppBrowser.open(window.encodeURI('https://shopoakexclusive.com/my-account/lost-password/'), '_blank',\r\n                'location=yes,clearcache=yes,clearsessioncache=yes,closebuttoncolor=#ffffff,hardwareback=no,hidenavigationbuttons=yes,hideurlbar=yes,zoom=no,toolbarcolor=#3f51b5');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Reset Password\" button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async resetPasswordButtonClicked() {\r\n\r\n            // run the validation method for the sign-in form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.forgotPasswordFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the 3rd-party login button is clicked\r\n         *\r\n         * @param loginMode {String} this parameter identifies whether the user mode is\r\n         * 'sign in' or 'sign up'\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async thirdPartyLoginButtonClicked(loginMode = 'sign in'){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to ${loginMode}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // hide the tooltips on the login form\r\n            $('#login-page #login-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // hide the tooltips on the signup form\r\n            $('#login-page #signup-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            if(loginMode === \"sign in\"){ // the user is signing in\r\n                $('#third-party-login-modal #third-party-login-notice').css(\"display\", \"block\"); // show notice\r\n            }\r\n            if(loginMode === \"sign up\"){ // the user is signing up\r\n                $('#third-party-login-modal #third-party-login-notice').css(\"display\", \"none\"); // hide notice\r\n            }\r\n\r\n            // open the 'third-party-login-modal'\r\n            $('#third-party-login-modal').get(0).show();\r\n            // show the loader within the modal\r\n            $('#third-party-login-modal #third-party-login-loader').css(\"display\", \"block\");\r\n            // start the firebase ui app\r\n            utopiasoftware[utopiasoftware_app_namespace].model.firebaseUI.start('#third-party-login-block',\r\n                {\r\n                    signInOptions: [\r\n                        // Leave the lines as is for the providers you want to offer your users.\r\n                        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n                        {\r\n                            provider: firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n                            customParameters: {\r\n                                // Forces password re-entry.\r\n                                auth_type: 'reauthenticate'\r\n                            }\r\n                        },\r\n                        firebase.auth.TwitterAuthProvider.PROVIDER_ID\r\n                    ],\r\n                    //terms of service url\r\n                    tosUrl: 'https://shopoakexclusive.com/terms-and-conditions/',\r\n                    // Privacy policy url\r\n                    privacyPolicyUrl: \"https://shopoakexclusive.com/privacy-policy/\",\r\n                    //callbacks/handlers\r\n                    callbacks: {\r\n                        uiShown: function(){ // triggered callback when firebase ui is displayed\r\n                            // hide the loader within the modal\r\n                            $('#third-party-login-modal #third-party-login-loader').css(\"display\", \"none\");\r\n                        },\r\n\r\n                        signInFailure: async function(){\r\n                            // return a Promise object\r\n                            return new Promise(async function (resolve, reject) {\r\n\r\n                                // hide the 'third-party-login-modal'\r\n                                await $('#third-party-login-modal').get(0).hide();\r\n\r\n                                // inform the user of the error\r\n                                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                // display toast message\r\n                                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                toast.cssClass = 'error-ej2-toast';\r\n                                toast.timeOut = 3500;\r\n                                toast.content = `Error with user ${loginMode}. Try again `;\r\n                                toast.dataBind();\r\n                                toast.show();\r\n\r\n                                resolve(); // resolve the promise\r\n                            });\r\n                        },\r\n\r\n                        signInSuccessWithAuthResult: async function(authResult){ // triggers when forebase is successfully logged in\r\n\r\n                            // hide the 'third-party-login-modal'\r\n                            await $('#third-party-login-modal').get(0).hide();\r\n\r\n                            if(loginMode === \"sign in\"){\r\n                                try{\r\n                                    // display modal to user that signin is being completed\r\n                                    $('#loader-modal-message').html(\"Completing Signin...\");\r\n                                    await $('#loader-modal').get(0).show(); // show loader\r\n\r\n                                    // sign the user in with the email gotten from the 3rd party login\r\n                                    let resultArray = await Promise.resolve($.ajax(\r\n                                        {\r\n                                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/customers\",\r\n                                            type: \"get\",\r\n                                            //contentType: \"application/json\",\r\n                                            beforeSend: function(jqxhr) {\r\n                                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                            },\r\n                                            dataType: \"json\",\r\n                                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                            processData: true,\r\n                                            data: {email: authResult.user.email}\r\n                                        }\r\n                                    ));\r\n\r\n                                    // check if any user was returned\r\n                                    if(resultArray.length == 0){ // user with the specified email has not been registered before\r\n                                        throw \"error\";\r\n                                    }\r\n\r\n                                    // reset the user's password using the 3rd party auth user uid\r\n                                    resultArray[0] = await Promise.resolve($.ajax(\r\n                                        {\r\n                                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                                `/wp-json/wc/v3/customers/${resultArray[0].id}`,\r\n                                            type: \"put\",\r\n                                            contentType: \"application/json\",\r\n                                            beforeSend: function(jqxhr) {\r\n                                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                            },\r\n                                            dataType: \"json\",\r\n                                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                            processData: false,\r\n                                            data: JSON.stringify({password: authResult.user.uid})\r\n                                        }\r\n                                    ));\r\n                                    resultArray[0].password = authResult.user.uid;\r\n\r\n                                    // save the created user details data to ENCRYPTED app database as cached data\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                                        {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: resultArray[0]},\r\n                                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                                    // subscribe push notification for this user's device\r\n                                    window.plugins.OneSignal.setSubscription(true);\r\n                                    // set the tag used to identify users for push notification sending\r\n                                    window.plugins.OneSignal.sendTags({appMail: resultArray[0].email});\r\n\r\n                                    // hide loader\r\n                                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                                    // leave the signup page and go back to the previous page in the app main navigator. Call the backbuttonClicked() method\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.\r\n                                    backButtonClicked();\r\n\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast message\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'success-ej2-toast';\r\n                                    toast.timeOut = 3000;\r\n                                    toast.content = `User signin completed`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                                catch(err){\r\n\r\n                                    // hide loader\r\n                                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast message\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'error-ej2-toast';\r\n                                    toast.timeOut = 3500;\r\n                                    toast.content = `User does not have an account. User signin failed `;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                            }\r\n\r\n                            if(loginMode === \"sign up\"){\r\n                                try{\r\n                                    // display modal to user that signin is being completed\r\n                                    $('#loader-modal-message').html(\"Completing Signup...\");\r\n                                    await $('#loader-modal').get(0).show(); // show loader\r\n\r\n                                    // signup the user in with the email gotten from the 3rd party login\r\n                                    let userDetails = await Promise.resolve($.ajax(\r\n                                        {\r\n                                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                                \"/wp-json/wc/v3/customers\",\r\n                                            type: \"post\",\r\n                                            contentType: \"application/json\",\r\n                                            beforeSend: function(jqxhr) {\r\n                                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                            },\r\n                                            dataType: \"json\",\r\n                                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                            processData: false,\r\n                                            data: JSON.stringify({email: authResult.user.email,\r\n                                                username: authResult.user.email,\r\n                                                password: authResult.user.uid})\r\n                                        }\r\n                                    ));\r\n\r\n                                    userDetails.password = authResult.user.uid;\r\n\r\n                                    // save the created user details data to ENCRYPTED app database as cached data\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                                        {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: userDetails},\r\n                                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                                    // subscribe push notification for this user's device\r\n                                    window.plugins.OneSignal.setSubscription(true);\r\n                                    // set the tag used to identify users for push notification sending\r\n                                    window.plugins.OneSignal.sendTags({appMail: userDetails.email});\r\n\r\n                                    // hide loader\r\n                                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                                    // leave the signup page and go back to the previous page in the app main navigator. Call the backbuttonClicked() method\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.\r\n                                    backButtonClicked();\r\n\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast message\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'success-ej2-toast';\r\n                                    toast.timeOut = 3000;\r\n                                    toast.content = `User signup completed`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                                catch(err){\r\n\r\n                                    err = JSON.parse(err.responseText);\r\n\r\n                                    // hide loader\r\n                                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast message\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'error-ej2-toast';\r\n                                    toast.timeOut = 3000;\r\n                                    toast.content = `Error. ${err.message || \"User signup failed\"}`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                            }\r\n\r\n                            return false; // return false to prevent firebase ui from redirecting to any url\r\n                        }\r\n                    }\r\n                });\r\n\r\n            // disable firebase ui auto-signin\r\n            utopiasoftware[utopiasoftware_app_namespace].model.firebaseUI.disableAutoSignIn();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the login form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loginFormValidated(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to sign in`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // display modal to user that signin is being completed\r\n            $('#loader-modal-message').html(\"Completing Signin...\");\r\n            await $('#loader-modal').get(0).show(); // show loader\r\n\r\n            var promisesArray = []; // holds the array for the promises used to complete user signin\r\n            var userEmail = $('#login-page #login-form #login-email').val().trim(); // holds user email from the login form\r\n            var userPassword = $('#login-page #login-form #login-password').val().trim(); // holds the user password\r\n\r\n\r\n            // make the request to authenticate user login credentials\r\n            promisesArray.push(Promise.resolve($.ajax(\r\n                {\r\n                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json\",\r\n                    type: \"get\",\r\n                    // contentType: \"application/json\",\r\n                    beforeSend: function(jqxhr) {\r\n                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                            Base64.encode(`${userEmail}:${userPassword}`));\r\n                    },\r\n                    dataType: \"json\",\r\n                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                    processData: false\r\n                }\r\n            )));\r\n\r\n            // make the request to retrieve a user with the specified login email\r\n            promisesArray.push(Promise.resolve($.ajax(\r\n                {\r\n                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/customers\",\r\n                    type: \"get\",\r\n                    //contentType: \"application/json\",\r\n                    beforeSend: function(jqxhr) {\r\n                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                            utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                    },\r\n                    dataType: \"json\",\r\n                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                    processData: true,\r\n                    data: {email: userEmail}\r\n                }\r\n            )));\r\n\r\n            // get the promise created from the promisesArray\r\n            let promisesArrayPromise = Promise.all(promisesArray);\r\n\r\n            // listen for when the promisesArrayPromise resolves\r\n            promisesArrayPromise.then(async function(resultsArray){\r\n                // add the user's password to the user details retrieved from the server\r\n                resultsArray[1][0].password = userPassword;\r\n\r\n                // save the created user details data to ENCRYPTED app database as cached data\r\n                await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                    {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: resultsArray[1][0]},\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                // subscribe push notification for this user's device\r\n                window.plugins.OneSignal.setSubscription(true);\r\n                // set the tag used to identify users for push notification sending\r\n                window.plugins.OneSignal.sendTags({appMail: resultsArray[1][0].email});\r\n\r\n                // hide loader\r\n                await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                // leave the signup page and go back to the previous page in the app main navigator. Call the backbuttonClicked() method\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.backButtonClicked();\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'success-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User signin completed`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n            }).catch(async function(err){ // an error occurred\r\n\r\n                err = JSON.parse(err.responseText);\r\n\r\n                // hide loader\r\n                await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Invalid user email or password. User signin failed `;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n            });\r\n\r\n            return promisesArrayPromise; // return the resolved promisesArray\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the sign up form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async signupFormValidated(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to sign up`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // display modal to user that signup is being completed\r\n            $('#loader-modal-message').html(\"Completing Signup...\");\r\n            await $('#loader-modal').get(0).show(); // show loader\r\n\r\n            var promisesArray = []; // holds the array for the promises used to complete user signup\r\n\r\n            // make the request to create the new user account\r\n            promisesArray.push(new Promise(function(resolve, reject){\r\n                Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/customers\",\r\n                        type: \"post\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify({email: $('#login-page #signup-form #signup-email').val().trim(),\r\n                        username: $('#login-page #signup-form #signup-email').val().trim(),\r\n                        password: $('#login-page #signup-form #signup-password').val().trim()})\r\n                    }\r\n                )).then(async function(userDetails){\r\n                    // add the user's password to the user details retrieved from the server\r\n                    userDetails.password = $('#login-page #signup-form #signup-password').val().trim();\r\n\r\n                    // save the created user details data to ENCRYPTED app database as cached data\r\n                    await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                        {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails},\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                    // subscribe push notification for this user's device\r\n                    window.plugins.OneSignal.setSubscription(true);\r\n                    // set the tag used to identify users for push notification sending\r\n                    window.plugins.OneSignal.sendTags({appMail: userDetails.email});\r\n\r\n                    // hide loader\r\n                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                    // leave the signup page and go back to the previous page in the app main navigator. Call the backbuttonClicked() method\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.loginPageViewModel.backButtonClicked();\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'success-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `User signup completed`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n\r\n                    resolve(userDetails); // resolve the parent promise with the data gotten from the server\r\n\r\n                }).catch(async function(err){ // an error occurred\r\n\r\n                    err = JSON.parse(err.responseText);\r\n\r\n                    // hide loader\r\n                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Error. ${err.message || \"User signup failed\"}`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n\r\n                    reject(err); // reject the parent promise with the error\r\n                });\r\n            }));\r\n\r\n            return Promise.all(promisesArray); // return the resolved promisesArray\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the forgot password form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async forgotPasswordFormValidated(){\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Products page\r\n     */\r\n    productsPageViewModel: {\r\n\r\n        /**\r\n         * property holds the current \"page\" of the categories being accessed\r\n         */\r\n        currentPage: 0,\r\n\r\n        /**\r\n         * property holds the size i.e. number of items that can be contained in currentPage being accessed\r\n         */\r\n        pageSize: 20,\r\n\r\n        /**\r\n         * property holds the height of the \"content view\" for the page\r\n         */\r\n        viewContentHeight: 0,\r\n\r\n        /**\r\n         * property holds the index position of the last active\r\n         * navigation tab before user landed on this page\r\n         */\r\n        lastActiveNavTab: 0,\r\n\r\n        /**\r\n         * property holds the current query parameter used to display the products on screen\r\n         */\r\n        currentQueryParam: {\r\n            status: \"publish\"\r\n        },\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle page-infinite-scroll\r\n                event.target.onInfiniteScroll =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.pageInfiniteScroll;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#products-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#products-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#products-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#products-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#products-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                // get the height of the view content container\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.viewContentHeight =\r\n                    Math.floor($('#products-page .page__content').height());\r\n\r\n\r\n                // listen for the scroll event on the page\r\n                $('#products-page .page__content').on(\"scroll\", function(){\r\n                    // handle the logic in a different event queue slot\r\n                    window.setTimeout(function(){\r\n                        // get the scrollTop position of the view content\r\n                        var scrollTop = Math.floor($('#products-page .page__content').scrollTop());\r\n\r\n                        // get the percentage of scroll that has taken place from the top position\r\n                        var percentageScroll = (scrollTop /  utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            productsPageViewModel.viewContentHeight) * 100;\r\n                        if(percentageScroll >= 50){ // if the scroll position is >= halfway\r\n                            $('#products-page #products-page-scroll-top-fab').css(\r\n                                {\"transform\": \"scale(1)\",\r\n                                    \"display\": \"inline-block\"});\r\n                        }\r\n                        else{ // if the scroll position is < halfway\r\n                            $('#products-page #products-page-scroll-top-fab').css({\"transform\": \"scale(0)\"});\r\n                        }\r\n                    }, 0);\r\n                });\r\n\r\n                // listen for when the navigation tab has changed and update the lastActiveNavTab\r\n                $('#app-main-tabbar').on(\"prechange\", function(event){\r\n                    if(event.originalEvent.index === 4){ // if the tab index is this page, don't update the lastActiveNavTab\r\n                        return; // exit the method\r\n                    }\r\n\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productsPageViewModel.lastActiveNavTab = event.originalEvent.index;\r\n\r\n                });\r\n\r\n                // LISTEN FOR WHEN A PRODUCT CARD IS CLICKED\r\n                $thisPage.on(\"click\", \".e-card\", function(event){\r\n                    // call the method to load the product details page based on the product item clicked\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.\r\n                    productItemClicked(window.parseInt($(event.currentTarget).attr('data-product')),\r\n                        window.parseInt($(event.currentTarget).attr('data-page')));\r\n                });\r\n\r\n                try{\r\n\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(event){\r\n            $('#app-main-page ons-toolbar div.title-bar').html(\"Products\"); // change the title of the screen\r\n            // update cart count\r\n            $('#app-main-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n            // check if the page content should be reset\r\n            if($('#app-main-navigator').get(0)._resetPageDisplay !== false){ // page content can be refreshed\r\n                // flag that page infinite scroll should NOT be allowed\r\n                event.target._allowInfinitePageScroll = false;\r\n                // show the preloader\r\n                $('#products-page .page-preloader').css(\"display\", \"block\");\r\n                // empty the content of the page\r\n                $('#products-page #products-contents-container').html('');\r\n                // hide the page scroll fab\r\n                $('#products-page #products-page-scroll-top-fab').css({\"display\": \"none\"});\r\n            }\r\n\r\n\r\n            window.SoftInputMode.set('adjustPan');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.deviceOnlineListener, false);\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(event){\r\n            // flag that page infinite scroll should NOT be allowed\r\n            event.target._allowInfinitePageScroll = false;\r\n            delete $('#app-main-navigator').get(0)._resetPageDisplay;\r\n\r\n\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.deviceOnlineListener, false);\r\n\r\n            // remove all the infinite load indicator from the bottom of the page (if any exist)\r\n            $('#products-page .page__content .infinite-load-container').remove();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // go to the last active page (tab)\r\n            $('#app-main-tabbar').get(0).\r\n            setActiveTab(utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.lastActiveNavTab);\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to see updated products\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#products-page #products-page-pull-hook').attr(\"disabled\", true);\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                // start loading the page content\r\n                let productArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productsPageViewModel.loadProducts(utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.productsPageViewModel.currentQueryParam, 1);\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.displayPageContent(productArray[0]);\r\n            }\r\n            catch(err){ // an error occurred\r\n\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // hide the page preloader\r\n                $('#products-page .page-preloader').css(\"display\", \"none\");\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#products-page #products-page-pull-hook').removeAttr(\"disabled\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pageInfiniteScroll(doneCallBack = function(){}){\r\n            // check of page infinite scroll is allowed or not\r\n            if($('#products-page').get(0)._allowInfinitePageScroll === false){ // page infinite scroll is NOT allowed\r\n                doneCallBack();\r\n                return;\r\n            }\r\n\r\n            // append an infinite load indicator to the bottom of the page\r\n            $('#products-page .page__content').\r\n            append(`<div class=\"infinite-load-container\" style=\"text-align: center\">\r\n                        <ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>\r\n                    </div>`);\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            let productArray = []; // holds the array of products retrieved for display\r\n\r\n            try{\r\n                // start loading the NEXT page content\r\n                productArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productsPageViewModel.loadProducts(utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.productsPageViewModel.currentQueryParam,\r\n                    utopiasoftware[utopiasoftware_app_namespace].\r\n                        controller.productsPageViewModel.currentPage + 1);\r\n                // append the new content to the previous contents\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.\r\n                displayPageContent(productArray[0], true, false);\r\n\r\n            }\r\n            catch(err){ // an error occurred\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // check if any new products were retrieved\r\n                if(productArray && productArray[0].length > 0){ // products were retrieve\r\n                    // remove the infinite load indicator from the bottom of the page\r\n                    $('#products-page .page__content .infinite-load-container').remove();\r\n                }\r\n                else{ // no products were retrieved\r\n\r\n                    $('#products-page .page__content .infinite-load-container').css({\"visibility\": \"hidden\"});\r\n                }\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load products to the page\r\n         *\r\n         * @param pageToAccess {Integer} the page within the paginated categories to retrieve\r\n         *\r\n         * @param pageSize {Integer} the size of the page i.e. the number of category items to retrieve\r\n         *\r\n         * @param queryParam {Object} holds the objects that contains the query\r\n         * params for the type of products to retrieve\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadProducts(queryParam, pageToAccess = queryParam.page || utopiasoftware[utopiasoftware_app_namespace].\r\n                                 controller.productsPageViewModel.currentPage + 1,\r\n                             pageSize = queryParam.per_page || utopiasoftware[utopiasoftware_app_namespace].\r\n                                 controller.productsPageViewModel.pageSize){\r\n            queryParam.page = pageToAccess;\r\n            queryParam.per_page = pageSize;\r\n\r\n            var productPromisesArray = []; // holds the array for the promises used to load the products\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load the requested products list from the server\r\n                productPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/products\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: queryParam\r\n                        }\r\n                    )).then(function(productsArray){\r\n                        // check if there is any data to cache in the app database\r\n                        if(productsArray.length > 0){ // there is data to cache\r\n                            // generate an id for the data being cached\r\n                            let cachedDataId = (\"\" + pageToAccess).padStart(7, \"0\") + \"products\";\r\n                            // save the retrieved data to app database as cached data\r\n                            utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                                {_id: cachedDataId, docType: \"PRODUCTS\", products: productsArray},\r\n                                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                            // update the current page being viewed\r\n                            utopiasoftware[utopiasoftware_app_namespace].\r\n                                controller.productsPageViewModel.currentPage = queryParam.page;\r\n                            // update the current query parameter for the page\r\n                            utopiasoftware[utopiasoftware_app_namespace].\r\n                                controller.productsPageViewModel.currentQueryParam = queryParam;\r\n                        }\r\n                        resolve(productsArray); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            } // end of loading products with Internet Connection\r\n            else{ // there is no internet connection\r\n                // display toast to show that there is no internet connection\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.hide('All');\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.content = \"No Internet connection. Pull down to refresh and see updated products\";\r\n                toast.dataBind();\r\n                toast.show();\r\n                // load the requested products from cached data\r\n                productPromisesArray.push(new Promise(function(resolve, reject){\r\n                    // generate the id for the cached data being retrieved\r\n                    let cachedDataId = (\"\" + pageToAccess).padStart(7, \"0\") + \"products\";\r\n                    Promise.resolve(utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(cachedDataId, utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).\r\n                    then(function(cachedProductsData){\r\n                        // update the current page being viewed\r\n                        utopiasoftware[utopiasoftware_app_namespace].\r\n                            controller.productsPageViewModel.currentPage = queryParam.page;\r\n                        resolve(cachedProductsData.products); // resolve the parent promise with the cached products data\r\n                    }).\r\n                    catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n            }\r\n\r\n            return Promise.all(productPromisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the retrieved products on the app screen\r\n         *\r\n         * @param productsArray\r\n         *\r\n         * @param appendContent {Boolean} if the value is true,\r\n         * add each content to the end of other items on the screen.\r\n         * Else, prepend the content to the top of other items\r\n         *\r\n         * @param overwriteContent {Boolean} should the old content be replaced or added to\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayPageContent(productsArray, appendContent = true, overwriteContent = true){\r\n\r\n            var displayCompletedPromise = new Promise(function(resolve, reject){\r\n\r\n                let productsContent = \"\"; // holds the contents for the products\r\n\r\n                // check if the productsArray is empty or not\r\n                if(productsArray.length <= 0){ // there are no new content to display\r\n                    resolve(productsArray.length); // resolve promise with the length of the products array\r\n                }\r\n                else{ // there are some products to display\r\n\r\n                    // loop through the array content and display it\r\n                    for(let index = 0; index < productsArray.length; index++){\r\n                        if(!productsArray[index].regular_price || productsArray[index].regular_price == \"\"){ // regular price was NOT set, so set it\r\n                            productsArray[index].regular_price = \"0.00\";\r\n                        }\r\n\r\n                        productsContent += `<div class=\"col-xs-4\" `;\r\n                        if((index + 1) % 3 !== 0){ // this is NOT the last column in the row\r\n                            productsContent += `style=\"border-right: 1px lightgray solid; border-bottom: 1px lightgray solid\">`;\r\n                        }\r\n                        else{ // this is the last column in the row\r\n                            productsContent += `style=\"border-bottom: 1px lightgray solid\">`;\r\n                        }\r\n                        productsContent += `\r\n                        <ons-ripple background=\"rgba(63, 81, 181, 0.3)\"></ons-ripple>\r\n                        <div class=\"e-card\" \r\n                        data-product=\"${index}\" \r\n                        data-page=\"${utopiasoftware[utopiasoftware_app_namespace].controller.productsPageViewModel.currentPage}\">\r\n                            <div class=\"e-card-image\" style=\"min-height: 100px; \r\n                            background-image: url('${productsArray[index].images[0].src}');\">\r\n                            ${productsArray[index].on_sale === true ? `\r\n                            <span class=\"e-badge e-badge-danger\" style=\"float: right; clear: both; \r\n                                                    background-color: transparent; color: #d64113;\r\n                                                    border: 1px #d64113 solid; font-size: 0.6em;\">\r\n                                                    ${Math.ceil((Math.abs(kendo.parseFloat(productsArray[index].price) -\r\n                            kendo.parseFloat(productsArray[index].regular_price)) /\r\n                            kendo.parseFloat(productsArray[index].regular_price === \"0.00\" ?\r\n                                productsArray[index].price : productsArray[index].regular_price))\r\n                            * 100)}% OFF\r\n                             </span>` : \"\"}\r\n                            </div>\r\n                            <div class=\"e-card-header\">\r\n                                <div class=\"e-card-header-caption\"  style=\"padding-left: 3px; padding-right: 5px\">\r\n                                    <div class=\"e-card-sub-title\" style=\"color: #000000; font-size: 14px; text-align: center; text-transform: capitalize\">\r\n                                        ${productsArray[index].name}\r\n                                    </div>\r\n                        <div style=\"color: gold; font-size: 0.6em !important; white-space: nowrap !important; \r\n                        text-overflow: ellipsis; overflow: hidden;\">\r\n                        ${Math.floor(kendo.parseFloat(productsArray[index].average_rating)) > 0 ? \r\n                            `<ons-icon icon=\"md-star\" fixed-width></ons-icon>`.\r\n                        repeat(Math.floor(kendo.parseFloat(productsArray[index].average_rating))):\r\n                            `<ons-icon icon=\"md-star-outline\" style=\"color: lightgray\" fixed-width></ons-icon>`.repeat(5)}\r\n                            <span style=\"display: inline-block; color: gray;\">\r\n                            ${Math.floor(kendo.parseFloat(productsArray[index].average_rating)) > 0 ? \r\n                        `(${productsArray[index].rating_count})` : \"\"}\r\n                           </span>\r\n                        </div>\r\n                        <div class=\"e-card-sub-title\" style=\"text-align: left;\">&#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].price), \"n2\")}</div>\r\n                        <div class=\"e-card-sub-title\" style=\"text-align: left; text-decoration: line-through; \r\n                        ${productsArray[index].on_sale === true ? \"visibility: visible\": \"visibility: hidden\"}\">&#x20a6;${kendo.toString(kendo.parseFloat(productsArray[index].regular_price), \"n2\")}</div>\r\n                        </div>\r\n                        </div>\r\n                        </div>\r\n                        </div>`;\r\n\r\n                    }\r\n\r\n                    // check if the contents are to be overwritten\r\n                    if(overwriteContent === true){ // content wants to be overwritten\r\n                        $('#products-page #products-contents-container').html(productsContent);\r\n                    }\r\n                    else{ // content is NOT to be overwritten\r\n                        if(appendContent === true){ // append content\r\n                            $('#products-page #products-contents-container').append(productsContent);\r\n                        }\r\n                        else{ // prepend content\r\n                            $('#products-page #products-contents-container').prepend(productsContent);\r\n                        }\r\n                    }\r\n\r\n                    // allow infinite page scroll to be triggered\r\n                    $('#products-page').get(0)._allowInfinitePageScroll = true;\r\n                    resolve(productsArray.length); // resolve the promise with length of the productsArray\r\n                }\r\n\r\n            });\r\n\r\n            return displayCompletedPromise; // return the promise object ot indicate if the display has been completed or not\r\n\r\n        },\r\n\r\n        /**\r\n         * method scrolls the page to the top\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollPageToTop(){\r\n            window.setTimeout(function(){\r\n                $('#products-page .page__content').animate({ scrollTop: 0 }, 400);\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks any product item from the products collection\r\n         *\r\n         * @param productIndex {Integer} holds the index position for the product that was clicked.\r\n         * The index position is gotten from the 'appropriate' cached array of product items\r\n         *\r\n         * @param productPage {Integer} specifies which query page/collection from the cached products\r\n         * the clicked product item belongs to.\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async productItemClicked(productIndex, productPage){\r\n            // handle the function task in a different event queue\r\n            window.setTimeout(async function(){\r\n\r\n                try{\r\n                    // get the product items collection\r\n                    let productItemsArray = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData((\"\" + productPage).padStart(7, \"0\") + \"products\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).products;\r\n\r\n                    // display the products details page using the selected product\r\n                    $('#app-main-navigator').get(0).pushPage(\"product-details-page.html\",\r\n                        {animation: \"lift\", data: {product : productItemsArray[productIndex]}});\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n            }, 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Product Details page\r\n     */\r\n    productDetailsPageViewModel: {\r\n\r\n        /**\r\n         * holds the object which contains the current product and its details\r\n         */\r\n        currentProductDetails: null,\r\n\r\n        /**\r\n         * holds the index position (within the productVaritionsArray) of the\r\n         * current product variation selected by the user\r\n         */\r\n        currentProductVariationIndex: -1,\r\n\r\n        /**\r\n         * holds the product variations array\r\n         */\r\n        productVariationsArray: [],\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#product-details-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#product-details-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#product-details-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#product-details-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#product-details-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                try{\r\n                    // create the \"Pick Quantity\" button\r\n                    new ej.inputs.NumericTextBox({\r\n                        cssClass: 'product-details-quantity-class',\r\n                        currency: null,\r\n                        decimals: 0,\r\n                        floatLabelType: 'Auto',\r\n                        format: 'n',\r\n                        showSpinButton: false,\r\n                        min: 1,\r\n                        max: 10,\r\n                        placeholder: 'Pick Quantity',\r\n                        step: 1,\r\n                        strictMode: true,\r\n                        // sets value to the NumericTextBox\r\n                        value: 1\r\n                    }).appendTo('#product-details-quantity');\r\n\r\n                    // create the \"Add To Cart\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#product-details-add-to-cart');\r\n\r\n                    // create the \"Customise\" button\r\n                    new ej.buttons.Button({\r\n                        //iconCss: \"zmdi zmdi-brush utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo('#product-details-customise-product');\r\n\r\n                    // create the \"Review\" button\r\n                    new ej.buttons.Button({\r\n                        cssClass: 'e-flat e-small',\r\n                        iconCss: \"zmdi zmdi-star-outline\",\r\n                        iconPosition: \"Left\"\r\n                    }).appendTo('#product-details-review');\r\n\r\n                    // create the \"Share\" button\r\n                    new ej.buttons.Button({\r\n                        cssClass: 'e-flat e-small',\r\n                        iconCss: \"zmdi zmdi-share\",\r\n                        iconPosition: \"Left\"\r\n                    }).appendTo('#product-details-share');\r\n\r\n                    // create the product-rater widget. which is contained in the 'rate-product-modal'\r\n                    $('#rate-product-modal #rate-product-rater-widget').rateYo({\r\n                        starWidth: \"20px\",\r\n                        normalFill: \"#808080\",\r\n                        ratedFill: \"#F39C12\",\r\n                        numStars: 5,\r\n                        precision: 0,\r\n                        rating: 0,\r\n                        fullStar: true,\r\n                        spacing: \"10px\",\r\n                        onChange: async function(ratingValue, ratingWidgetInstance){\r\n                            // enable the the comment input and \"Rate\" button\r\n                            $('#rate-product-modal #rate-product-comment').removeAttr(\"disabled\");\r\n                            $('#rate-product-modal #rate-product-rate-button').removeAttr(\"disabled\");\r\n                        }\r\n                    });\r\n\r\n                    // load product variations asynchronously without waiting for the response\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.loadProductVariations();\r\n                    // load product details\r\n                    let productDetailsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    productDetailsPageViewModel.loadProduct();\r\n                    // display the loaded product details\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.displayProductDetails(productDetailsArray[0]);\r\n                    // enable the \"Add To Cart\" button\r\n                    $('#product-details-page #product-details-add-to-cart').removeAttr(\"disabled\");\r\n\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the preloader\r\n                    $('#product-details-page .page-preloader').css(\"display\", \"none\");\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // update cart count\r\n            $('#product-details-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustResize');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // destroy properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productDetailsPageViewModel.currentProductDetails = null;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productDetailsPageViewModel.currentProductVariationIndex = -1;\r\n            // reset the product variations array\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productDetailsPageViewModel.productVariationsArray = [];\r\n\r\n            // destroy the ej2 components on the page\r\n            $('#product-details-quantity').get(0).ej2_instances[0].destroy();\r\n            $('#product-details-review').get(0).ej2_instances[0].destroy();\r\n            $('#product-details-share').get(0).ej2_instances[0].destroy();\r\n            $('#product-details-add-to-cart').get(0).ej2_instances[0].destroy();\r\n            $('#product-details-customise-product').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy any product variation dropdown list\r\n            $('#product-details-page .product-details-variation-option').each(function(index, element){\r\n                element.ej2_instances[0].destroy(); // destroy the dropdown list component\r\n            });\r\n\r\n            // destroy the product rater widget\r\n            $(\"#rate-product-modal #rate-product-rater-widget\").rateYo(\"destroy\");\r\n\r\n            // reset the review comment textarea\r\n            $('#rate-product-modal #rate-product-comment').val(\"\");\r\n            $('#rate-product-modal #rate-product-comment').attr(\"disabled\", true);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n\r\n            // get the pages stack from the app main navigator\r\n            var pagesStackArray = $('#app-main-navigator').get(0).pages;\r\n\r\n            // check that there is more than 1 page in the stack\r\n            if(pagesStackArray.length > 1){ // there is more than 1 page in the page stack\r\n                // get the previous Page in stack before this one\r\n                let previousPage = $(pagesStackArray[pagesStackArray.length - 2]).get(0);\r\n\r\n                // check which page has is being displayed AFTER a page was popped\r\n                switch(previousPage.id){\r\n                    case \"app-main-page\": // the page that is being displayed is the \"App-Main\" page\r\n                        // check which page on the app-main tab is visible\r\n                        if($('#app-main-tabbar').get(0).getActiveTabIndex() === 4){ // the \"Products\" page is visible\r\n                            // get back to the previous page on the app-main navigator stack\r\n                            // and set the 'resetPageDisplay' to false\r\n                            $('#app-main-navigator').get(0)._resetPageDisplay = false;\r\n                            // allow infinite page scroll to be triggered on the \"Products\" page\r\n                            $('#products-page').get(0)._allowInfinitePageScroll = true;\r\n                            $('#app-main-navigator').get(0).popPage();\r\n                        }\r\n                        else{\r\n                            // get back to the previous page on the app-main navigator stack\r\n                            $('#app-main-navigator').get(0).popPage();\r\n                        }\r\n                        break;\r\n                    default:\r\n                        // get back to the previous page on the app-main navigator stack\r\n                        $('#app-main-navigator').get(0).popPage();\r\n                        break\r\n                }\r\n            }\r\n            else{ // there is only 1 page in the stack\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Share\" button is clicked\r\n         * @returns {Promise<void>}\r\n         */\r\n        async shareButtonClicked(){\r\n            var shareOptions = {}; // holds the options for sharing\r\n            shareOptions.message = \"check out this #ShopOakExclusive product\";\r\n            shareOptions.chooserTitle = \"share product with...\";\r\n\r\n            // handle the task in a separate event block\r\n            window.setTimeout(function(){\r\n                if(utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                    currentProductVariationIndex !== -1){ // a product variation was selected\r\n                    // get the index of the currently selected variation\r\n                    let productVariationIndex = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.currentProductVariationIndex;\r\n                    // get the currently selected product variation using the selected index\r\n                    let productVariation = utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                        productVariationsArray[productVariationIndex];\r\n                    // update the url for the product\r\n                    shareOptions.url = productVariation.permalink;\r\n                    // update the file/image of the product to be share\r\n                    shareOptions.files = [productVariation.image && productVariation.image !== \"\"? productVariation.image.src :\r\n                        utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                            currentProductDetails.images[0].src];\r\n                }\r\n                else{ // no product variation was selected, so use the default product details\r\n                    shareOptions.url = utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                        currentProductDetails.permalink;\r\n                    // update the file/image of the product to be share\r\n                    shareOptions.files = [utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                        currentProductDetails.images[0].src];\r\n                }\r\n\r\n                // also copy the text to clipboard\r\n                cordova.plugins.clipboard.copy(`${shareOptions.message} | ${shareOptions.url}`,\r\n                    function(){\r\n                        // inform the user that message has been copied to clipboard\r\n                        window.plugins.toast.showWithOptions({\r\n                            message: \"shared message copied to clipboard\",\r\n                            duration: 3000,\r\n                            position: \"center\",\r\n                            styling: {\r\n                                cornerRadius: 0,\r\n                                opacity: 1,\r\n                                backgroundColor: '#3F51B5',\r\n                                textColor: '#FFFFFF',\r\n                                textSize: 14\r\n                            }\r\n                        });\r\n                    }, function(){});\r\n                // open the device share dialog\r\n                window.plugins.socialsharing.shareWithOptions(shareOptions, function(){}, function(){});\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Rate\" button is clicked\r\n         * @returns {Promise<void>}\r\n         */\r\n        async rateButtonClicked(){\r\n\r\n            let userDetails = null; // holds the user details\r\n\r\n            // display page preloader\r\n            $('#product-details-page .page-preloader').css(\"display\", \"block\");\r\n\r\n            // check if a user has signed in\r\n            try{\r\n                // load the use details from the encrypted app database\r\n                userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n            }\r\n            catch(err){\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Please sign in to rate this product`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                // hide page preloader\r\n                $('#product-details-page .page-preloader').css(\"display\", \"none\");\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to rate this product`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                // hide page preloader\r\n                $('#product-details-page .page-preloader').css(\"display\", \"none\");\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            try{\r\n                // display the page loader modal\r\n                $('#product-details-page .modal').css(\"display\", \"table\");\r\n\r\n                // check if the current user has ever purchased this product before\r\n                let ordersArray = await Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                            `/wp-json/wc/v3/orders`,\r\n                        type: \"get\",\r\n                        //contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: true,\r\n                        data: {status: \"completed\", customer: userDetails.id,\r\n                            product: utopiasoftware\r\n                                [utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                                currentProductDetails.id}\r\n                    }\r\n                ));\r\n\r\n                if(ordersArray.length === 0){ // user has NOT placed a completed order for this product before\r\n                    throw \"error\"; // throw error\r\n                }\r\n            }\r\n            catch(err){\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Sorry, you need to have purchased this product before it can be rated`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n            finally{\r\n                // hide page preloader\r\n                $('#product-details-page .page-preloader').css(\"display\", \"none\");\r\n                // hide page loader\r\n                $('#product-details-page .modal').css(\"display\", \"none\");\r\n            }\r\n\r\n            // set the handlers for the buttons on the \"Rate Product\" modal\r\n            $('#rate-product-modal #rate-product-cancel-button').get(0).onclick = async function(){ // handler for Cancel button\r\n                // hide \"Rate Product\" modal\r\n                await $('#rate-product-modal').get(0).hide();\r\n            };\r\n\r\n            $('#rate-product-modal #rate-product-rate-button').get(0).onclick = async function(){ // handler for Rate button\r\n                try{\r\n\r\n                    // hide \"Rate Product\" modal\r\n                    await $('#rate-product-modal').get(0).hide();\r\n\r\n                    // inform user that review is being sent\r\n                    $('#loader-modal-message').html(\"Sending User Review...\");\r\n                    await $('#loader-modal').get(0).show(); // show loader\r\n\r\n                    // send the user's review to the server\r\n                    await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/products/reviews`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify({product_id: utopiasoftware\r\n                                    [utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                                    currentProductDetails.id, status: \"hold\",\r\n                                reviewer: userDetails.first_name, reviewer_email: userDetails.email,\r\n                                review: $('#rate-product-modal #rate-product-comment').val().trim() + \" \",\r\n                                rating: $('#rate-product-modal #rate-product-rater-widget').rateYo(\"rating\"),\r\n                                verified: true})\r\n                        }\r\n                    ));\r\n\r\n                    // reset the review widget and the review comment textarea\r\n                    $('#rate-product-modal #rate-product-rater-widget').rateYo(\"rating\", 0);\r\n                    $('#rate-product-modal #rate-product-comment').val(\"\");\r\n                    $('#rate-product-modal #rate-product-comment').attr(\"disabled\", true);\r\n\r\n                    // hide the loader\r\n                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show success\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'success-ej2-toast';\r\n                    toast.timeOut = 3500;\r\n                    toast.content = `Thank you. Your product review has been received`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                catch(err){\r\n\r\n                    // hide the loader\r\n                    await $('#loader-modal').get(0).hide(); // hide loader\r\n\r\n                    // display \"Rate Product\" modal\r\n                    await $('#rate-product-modal').get(0).show();\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3500;\r\n                    toast.content = `Error. Your product review could not be sent. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{}\r\n                // hide \"Rate Product\" modal\r\n                await $('#rate-product-modal').get(0).hide();\r\n            };\r\n\r\n            // display \"Rate Product\" modal\r\n            await $('#rate-product-modal').get(0).show();\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#product-details-page #product-details-page-pull-hook').attr(\"disabled\", true);\r\n\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            // disable the \"Add To Cart\" button\r\n            $('#product-details-page #product-details-add-to-cart').attr(\"disabled\", true);\r\n            // remove the spinner from the 'Add To Cart'\r\n            $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n            $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].dataBind();\r\n            $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].stop();\r\n\r\n            try{\r\n                // load product variations asynchronously without waiting for the response\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productDetailsPageViewModel.loadProductVariations();\r\n                // load product details\r\n                let productDetailsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productDetailsPageViewModel.loadProduct();\r\n                // display the loaded product details\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                productDetailsPageViewModel.displayProductDetails(productDetailsArray[0]);\r\n            }\r\n            catch(err){ // an error occurred\r\n\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#product-details-page #product-details-page-pull-hook').removeAttr(\"disabled\");\r\n                // enable the \"Add To Cart\" button\r\n                $('#product-details-page #product-details-add-to-cart').removeAttr(\"disabled\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load a particular product detail.\r\n         *\r\n         * The product to be loaded can be directly passed to the page for loading OR\r\n         * the id of the product can be provided to the page, so that the product is\r\n         * retrieved from the remote server\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadProduct(){\r\n            var productPromisesArray = []; // holds the array for the promises used to load the product\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to see updated product details`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            // check if all the product details were provided to the page\r\n            if($('#app-main-navigator').get(0).topPage.data.product){ // all product details were provided\r\n                let aProduct = $('#app-main-navigator').get(0).topPage.data.product; // get the product details\r\n\r\n                if(!aProduct.regular_price || aProduct.regular_price == \"\"){ // regular price was NOT set, so set it\r\n                    aProduct.regular_price = \"0.00\";\r\n                }\r\n\r\n                // set the current product to that which was provided to the page\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                    currentProductDetails = aProduct;\r\n\r\n                productPromisesArray.push(Promise.resolve(aProduct)); // resolve the promise with the product details\r\n            }\r\n            else{ // at least the product id was provided\r\n                // load the requested products list from the server\r\n                productPromisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/products/${jQuery('#app-main-navigator').get(0).topPage.data.productId}`,\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true\r\n                        }\r\n                    )).then(function(product){\r\n                        if(!product.regular_price || product.regular_price == \"\"){ // regular price was NOT set, so set it\r\n                            product.regular_price = \"0.00\";\r\n                        }\r\n                        // set the current product to that which was retrieved from the server\r\n                        utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                            currentProductDetails = product;\r\n                        resolve(product); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            }\r\n\r\n            return Promise.all(productPromisesArray); // return a Promise which resolves when all promises resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to load a particular product variations.\r\n         *\r\n         * The product variations to be loaded is gotten from the product directly passed to the page OR\r\n         * the prduct id passed to the page\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadProductVariations(){\r\n            var productPromisesArray = []; // holds the array for the promises used to load the product\r\n            var productId = null; // holds the product id\r\n\r\n            // check if all the product details were provided to the page\r\n            if($('#app-main-navigator').get(0).topPage.data.product){ // all product details were provided\r\n                // save the product id\r\n                productId = $('#app-main-navigator').get(0).topPage.data.product.id;\r\n\r\n            }\r\n            else{ // at least the product id was provided\r\n                // save the product id\r\n                productId = jQuery('#app-main-navigator').get(0).topPage.data.productId;\r\n            }\r\n\r\n            // load the requested products variations from the server\r\n            productPromisesArray.push(new Promise(function(resolve, reject){\r\n                Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/products/${productId}/variations`,\r\n                        type: \"get\",\r\n                        //contentType: \"application/x-www-form-urlencoded\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: true,\r\n                        data: {page: 1, per_page: 99, status: 'publish'}\r\n                    }\r\n                )).then(function(productVariations){\r\n                    // map the retrieved variations and save the unique value for the variation.\r\n                    // The unique value is used to uniquely identify the variation\r\n                    productVariations = productVariations.map(function(currentElement, index){\r\n                        // join all options from the variation attributes to create a unique value\r\n                        currentElement._variationValue = currentElement.attributes.map(function(attribute){\r\n                            return attribute.option;\r\n                        }).join(\"\");\r\n\r\n                        return currentElement;\r\n                    });\r\n\r\n                    // save the retrieved production variations\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.productVariationsArray = productVariations;\r\n\r\n                    resolve(productVariations); // resolve the parent promise with the data gotten from the server\r\n\r\n                }).catch(function(err){ // an error occurred\r\n\r\n                    reject(err); // reject the parent promise with the error\r\n                });\r\n            }));\r\n\r\n            return Promise.all(productPromisesArray); // return a Promise which resolves when all promises resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the product details on the page\r\n         *\r\n         * @param productDetails {Object} the product object to be displayed\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayProductDetails(productDetails){\r\n            // update the product details image\r\n            $('#product-details-page .e-card-image').css(\"background-image\", `url(\"${productDetails.images[0].src}\")`);\r\n\r\n            // check if the product is on-sale\r\n            if(productDetails.on_sale === true){ // product is on-sale\r\n                $('#product-details-page .e-card-image').\r\n                html(`\r\n                <span class=\"e-badge e-badge-danger\" style=\"float: right; clear: both; \r\n                                                    background-color: transparent; color: #d64113;\r\n                                                    border: 1px #d64113 solid; font-size: 0.6em;\">\r\n                                                    ${Math.ceil((Math.abs(kendo.parseFloat(productDetails.price) -\r\n                    kendo.parseFloat(productDetails.regular_price)) /\r\n                    kendo.parseFloat(productDetails.regular_price === \"0.00\" ?\r\n                        productDetails.price : productDetails.regular_price))\r\n                    * 100)}% OFF\r\n                 </span>`);\r\n            }\r\n\r\n            // update the product title/name\r\n            $('#product-details-page .e-card-title').html(`${productDetails.name}`);\r\n            // update product price\r\n            $('#product-details-page .product-details-price').\r\n            html(`&#x20a6;${kendo.toString(kendo.parseFloat(productDetails.price), \"n2\")}`);\r\n\r\n            // check if product is on-sale\r\n            if(productDetails.on_sale === true){ // product is on-sale\r\n                // update the regular price\r\n                $('#product-details-page .product-details-regular-price').\r\n                html(`&#x20a6;${kendo.toString(kendo.parseFloat(productDetails.regular_price), \"n2\")}`);\r\n                // make the regular price visible\r\n                $('#product-details-page .product-details-regular-price').css(\"visibility\", \"visible\");\r\n                // add 'sales' class to the quantity component\r\n                $('#product-details-quantity').get(0).ej2_instances[0].cssClass = \"product-details-quantity-class sales\";\r\n                $('#product-details-quantity').get(0).ej2_instances[0].dataBind();\r\n            }\r\n            else{ // product is NOT on-sale\r\n                // make the regular price invisible\r\n                $('#product-details-page .product-details-regular-price').css(\"visibility\", \"collapse\");\r\n                // remove 'sales' class from the quantity component\r\n                $('#product-details-quantity').get(0).ej2_instances[0].cssClass = \"product-details-quantity-class\";\r\n                $('#product-details-quantity').get(0).ej2_instances[0].dataBind();\r\n            }\r\n\r\n            // reset the product details quantity numeric input field\r\n            $('#product-details-quantity').get(0).ej2_instances[0].value = 1;\r\n            $('#product-details-quantity').get(0).ej2_instances[0].dataBind();\r\n\r\n            // update the product details description\r\n            $('#product-details-page .product-details-description').html(`${productDetails.short_description}`);\r\n\r\n            // destroy any previous product variation dropdown list that may previously exist before creating the new ones\r\n            $('#product-details-page .product-details-variation-option').each(function(index, element){\r\n                element.ej2_instances[0].destroy(); // destroy the dropdown list component\r\n            });\r\n\r\n            // add/update product details variation\r\n            // expand the variations content\r\n            $('#product-details-page .product-details-variations').removeClass('expandable-content');\r\n            let variationContent = ''; // holds the product details variation content\r\n            for(let index = 0; index < productDetails.attributes.length; index++){\r\n                // create the product details variations\r\n                variationContent += `<div class=\"col-xs-4\" style=\"padding-right: 5px; padding-left: 5px;\">\r\n                    <select name=\"${productDetails.attributes[index].name}\" class=\"product-details-variation-option\">\r\n                        ${productDetails.attributes[index].options.map(function(arrayElem){\r\n                            return `<option value=\"${arrayElem}\">${arrayElem}</option>`;\r\n                }).join(\"\")}\r\n                    </select>\r\n                </div>`;\r\n            }\r\n            // insert the created Select inputs to the page\r\n            $('#product-details-page .product-details-variations').html(variationContent);\r\n\r\n            // create the dropdown list from each of the select input\r\n            $('#product-details-page .product-details-variation-option').each(function(index, element){\r\n                // check if this product details has default attributes set\r\n                if(productDetails.default_attributes.length > 0){ // there are default attributes\r\n                    // set those default attributes for the variations\r\n                    $(`option[value=\"${productDetails.default_attributes[index].option}\"]`, element).attr(\"selected\", true);\r\n                }\r\n                // create the dropdown list from the select input\r\n                new ej.dropdowns.DropDownList(\r\n                    {\r\n                        cssClass: \"product-details-variation-class\",\r\n                        placeholder: productDetails.attributes[index].name,\r\n                        floatLabelType: 'Always',\r\n                        change: async function () { // listen for when dropdown list value changes\r\n                            // return a Promise which resolves when the change is completed\r\n                            return new Promise(function(resolve2, reject2){\r\n\r\n                                // handle the change in a separate event block\r\n                                window.setTimeout(async function(){\r\n                                    let concatenatedVarationValue = \"\"; // holds the concatenated variation values\r\n                                    // get the value from all the variation select-input/dropdown and concatenate them\r\n                                    $('#product-details-page .product-details-variation-option').each(function(index2, element2){\r\n                                        concatenatedVarationValue += element2.ej2_instances[0].value;\r\n                                    });\r\n\r\n                                    // since the concatenated variation value, is also what is used to uniquely identify each varition,\r\n                                    // check if there is any variation with the same unique value has the concatenated variation value.\r\n                                    // Also, assign the index position of the 'found' variation (if anty) to the current variation index property\r\n                                    let variationIndexPosition =\r\n                                        utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                        productDetailsPageViewModel.productVariationsArray.findIndex(function(element3){\r\n                                            return concatenatedVarationValue === element3._variationValue;\r\n                                        });\r\n                                    utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                                        currentProductVariationIndex = variationIndexPosition;\r\n\r\n                                    // check if there is a product variation that matches the user's selection\r\n                                    if(utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                                        currentProductVariationIndex !== -1){ // there is a product variation\r\n                                        // get the product variation\r\n                                        let productVariation = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                            productDetailsPageViewModel.productVariationsArray[variationIndexPosition];\r\n                                        // update the product details display image and price to that of the selected variation (if any)\r\n                                        if(productVariation.image && productVariation.image !== \"\"){\r\n                                            // update the product details image\r\n                                            $('#product-details-page .e-card-image').css(\"background-image\",\r\n                                                `url(\"${productVariation.image.src}\")`);\r\n                                        }\r\n                                        if(productVariation.price && productVariation.price !== \"\"){\r\n                                            // update product price\r\n                                            $('#product-details-page .product-details-price').\r\n                                            html(`&#x20a6;${kendo.toString(kendo.parseFloat(productVariation.price), \"n2\")}`);\r\n                                        }\r\n                                    }\r\n\r\n                                    // resolve the parent Promise object to signified that change is completed\r\n                                    resolve2();\r\n\r\n                                }, 0);\r\n                            });\r\n                        }\r\n                    }).appendTo(element);\r\n            });\r\n\r\n            // collapse the variations content\r\n            $('#product-details-page .product-details-variations').addClass('expandable-content');\r\n\r\n            // update the rating for the product details\r\n            $('#product-details-page .product-details-rating').\r\n            html(`\r\n            ${Math.floor(kendo.parseFloat(productDetails.average_rating)) > 0 ?\r\n                '<ons-icon icon=\"md-star\" fixed-width></ons-icon>'.\r\n                repeat(Math.floor(kendo.parseFloat(productDetails.average_rating))) :\r\n                '<ons-icon icon=\"md-star-outline\" style=\"color: lightgray\" fixed-width></ons-icon>'.repeat(5)}\r\n                <span style=\"display: inline-block; color: gray;\">\r\n                ${Math.floor(kendo.parseFloat(productDetails.average_rating)) > 0 ? \r\n                `(${productDetails.rating_count})` : \"\"}\r\n                </span>\r\n            `);\r\n\r\n            // update the extra/more details for the product\r\n            $('#product-details-page .product-details-more-description').html(`\r\n            ${productDetails.description}`);\r\n\r\n            // update the dimensions for the product details\r\n            $('#product-details-page .product-details-dimensions').html(`\r\n            <span class=\"list-item__subtitle\" style=\"display: block\">length - ${!productDetails.dimensions.length ||\r\n            productDetails.dimensions.length == \"\" ? \"(Not Available)\" : `${productDetails.dimensions.length}`}</span>\r\n            <span class=\"list-item__subtitle\" style=\"display: block\">width - ${!productDetails.dimensions.width ||\r\n            productDetails.dimensions.width == \"\" ? \"(Not Available)\" : `${productDetails.dimensions.width}`}</span>\r\n            <span class=\"list-item__subtitle\" style=\"display: block\">height - ${!productDetails.dimensions.height ||\r\n            productDetails.dimensions.height == \"\" ? \"(Not Available)\" : `${productDetails.dimensions.height}`}</span>`);\r\n\r\n            // update the weight for the product\r\n            $('#product-details-page .product-details-weight').html(`${!productDetails.weight ||\r\n            productDetails.weight == \"\" ? \"(Not Available)\" : `${productDetails.weight}`}`);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the customise button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async customiseButtonClicked(){\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Please connect to the Internet to customise product`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // perform the method task in a separate event block\r\n            window.setTimeout(async function(){\r\n                var productUrl = \"\"; // holds the url for the product being customised\r\n\r\n                // check if the user has selected a product variation or if the default product is being customised\r\n                if(utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                    currentProductVariationIndex !== -1){ // a product variation was selected\r\n                    // get the index position of the selected variation\r\n                    let variationIndex = utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                        currentProductVariationIndex;\r\n                    // get the production variation object\r\n                    let productVariation = utopiasoftware[utopiasoftware_app_namespace].controller.productDetailsPageViewModel.\r\n                        productVariationsArray[variationIndex];\r\n                    productUrl = productVariation.permalink; // set the product url\r\n                }\r\n                else{ // no product variation was selected, so use the default product details\r\n                    productUrl = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.currentProductDetails.permalink; // set the product url\r\n                }\r\n\r\n                // load the \"Customise Product\" page to the app-main-navigator\r\n                await $('#app-main-navigator').get(0).pushPage(\"customise-product-page.html\");\r\n                // load the product customisation url\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    customiseProductPageViewModel.loadProductCustomisation(productUrl);\r\n\r\n            }, 0);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Add To Cart\" button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async addToCartButtonClicked(){\r\n\r\n            // disable the \"Add To Cart\" button\r\n            $('#product-details-page #product-details-add-to-cart').attr(\"disabled\", true);\r\n            // add the spinner from the 'Add To Cart'\r\n            $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].cssClass = '';\r\n            $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].dataBind();\r\n            $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].start();\r\n\r\n            // perform the task of including the product into the local cart in a separate event block\r\n            window.setTimeout(async function(){\r\n                let localCart = []; // holds the local cart collection\r\n                let utopiasoftwareCartObject = {cartData: {}}; // holds the object whose properties make up the cart item\r\n\r\n                // get the cached user cart\r\n                try{\r\n                    localCart = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.loadData(\"user-cart\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart;\r\n                }\r\n                catch(err){}\r\n\r\n                // check if a product variation was selected\r\n                if(utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    productDetailsPageViewModel.currentProductVariationIndex !== -1){ // a product variation was selected\r\n                    // get the selected product variation index position and the accompanying variation object\r\n                    let variationIndex = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.currentProductVariationIndex;\r\n                    let productVariation = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        productDetailsPageViewModel.productVariationsArray[variationIndex];\r\n\r\n                    utopiasoftwareCartObject.cartData.variation_id = productVariation.id;\r\n\r\n                    // get the search parameters object from the product variation url\r\n                    let searchParams = new URLSearchParams(productVariation.permalink.split(\"?\")[1]);\r\n                    // get the variation attributes from searchParams object and assign them in cartData object\r\n                    utopiasoftwareCartObject.cartData.variation = {};\r\n                    for(let [key, value] of searchParams){\r\n                        utopiasoftwareCartObject.cartData.variation[key] = value;\r\n                    }\r\n\r\n                    // store the product variation object as additional data just for the mobile app\r\n                    utopiasoftwareCartObject.productVariation = productVariation;\r\n                }\r\n                // set the other properties of the cart data\r\n                utopiasoftwareCartObject.cartData.product_id = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    productDetailsPageViewModel.currentProductDetails.id;\r\n                utopiasoftwareCartObject.cartData.quantity = $('#product-details-quantity').get(0).ej2_instances[0].value;\r\n\r\n                // store the product object as additional data just for the mobile app\r\n                utopiasoftwareCartObject.product = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    productDetailsPageViewModel.currentProductDetails;\r\n                // store a unique local-cart uid to identify the product\r\n                utopiasoftwareCartObject.uid = Random.uuid4(utopiasoftware[utopiasoftware_app_namespace].randomisationEngine);\r\n\r\n                try{\r\n                    // add the created 'utopiasoftwareCartObject' to the user cart collection\r\n                    localCart.push(utopiasoftwareCartObject);\r\n                    // save the updated cached user cart\r\n                    await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                        {_id: \"user-cart\", docType: \"USER_CART\", cart: localCart},\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                    // inform the user that the product has been added to cart\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'success-ej2-toast';\r\n                    toast.timeOut = 2000;\r\n                    toast.content = `Product has been added to your cart`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3500;\r\n                    toast.content = `Error adding product to your cart. Try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{\r\n                    // enable the \"Add To Cart\" button\r\n                    $('#product-details-page #product-details-add-to-cart').removeAttr(\"disabled\");\r\n                    // hide the spinner from the 'Add To Cart'\r\n                    $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                    $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].dataBind();\r\n                    $('#product-details-page #product-details-add-to-cart').get(0).ej2_instances[0].stop();\r\n                }\r\n\r\n            }, 0);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Customise Product page\r\n     */\r\n    customiseProductPageViewModel: {\r\n\r\n        /**\r\n         * holds the current customisation url that has been loaded\r\n         */\r\n        currentCustomisationUrl : \"\",\r\n\r\n        /**\r\n         * holds the remote/server cart item key for the current customised product\r\n         */\r\n        currentCustomisationCartKey: null,\r\n\r\n        /**\r\n         * holds the number of times the customisation page has been loaded from the parent server\r\n         */\r\n        customisationPageLoadCount: 0,\r\n\r\n        /**\r\n         * holds the fixed-length queue containing the previous cart object and the new/update cart object.\r\n         * The queue can only contain a max of 2 items. older items are pushed out first.\r\n         * The initial cart object is also gotten the first time this app page is loaded or refreshed\r\n         */\r\n        cartsQueue: [],\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        customiseProductPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#customise-product-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        customiseProductPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for listening to messages from the parent site\r\n                window.addEventListener(\"message\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    customiseProductPageViewModel.receiveMessageListener, false);\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#customise-product-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#customise-product-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#customise-product-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#customise-product-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                try{\r\n\r\n                    // create the \"Cancel\" button\r\n                    new ej.buttons.Button({\r\n                        //iconCss: \"zmdi zmdi-shopping-cart-add utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo('#customise-product-cancel');\r\n\r\n                    // create the \"Add To Cart\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#customise-product-add-to-cart');\r\n\r\n\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n                finally {\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // update cart count\r\n            $('#customise-product-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.deviceOnlineListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.deviceOnlineListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // reset the current customisation url\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                customiseProductPageViewModel.currentCustomisationUrl = \"\";\r\n            // reset the current customisation remote cart item key\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                customiseProductPageViewModel.currentCustomisationCartKey = null;\r\n            // reset the customisation page load count\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                customiseProductPageViewModel.customisationPageLoadCount = 0;\r\n            // reset the cartsQueue\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                customiseProductPageViewModel.cartsQueue = [];\r\n\r\n            // remove listener for listening to messages from the parent site\r\n            window.removeEventListener(\"message\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                customiseProductPageViewModel.receiveMessageListener, false);\r\n\r\n            $('#customise-product-cancel').get(0).ej2_instances[0].destroy();\r\n            $('#customise-product-add-to-cart').get(0).ej2_instances[0].destroy();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n            $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to customise product\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n\r\n        /**\r\n         * method is used to handle the receipt of messages from the parent website\r\n         *\r\n         * @param receiveEvent {Event} this is the event object of the \"Message\" event\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async receiveMessageListener(receiveEvent){\r\n            // check where the message originated from\r\n            if(receiveEvent.origin !== \"https://shopoakexclusive.com\"){ // message is not from the parent website\r\n                return; // exit\r\n            }\r\n\r\n            // check the data that was sent\r\n            if(receiveEvent.data === \"page ready\"){ // parent site is ready to work together\r\n                // update the customisation page load count by 1\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                    customisationPageLoadCount += 1;\r\n                // remove the page preloader\r\n                $('#customise-product-page .page-preloader').css(\"display\", \"none\");\r\n                return;\r\n            }\r\n            else{ // the page sent cart data\r\n                // access the cart data\r\n                let cartData = JSON.parse(receiveEvent.data);\r\n                if(Array.isArray(cartData)){ // the cart data is an array, therefore it's empty\r\n                    // push an empty object into the cart queue property\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.cartsQueue.\r\n                    push({});\r\n                }\r\n                else{ // cart data is not an array\r\n                    // push the cart data into the cart queue\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.cartsQueue.\r\n                    push(cartData);\r\n                }\r\n\r\n                // check if the cartQueue property is greater than its maximum allowed length of 2\r\n                if(utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                    cartsQueue.length > 2){ // cartQueue property is greater than 2 elements\r\n                    // remove the oldest element from the queue\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                        cartsQueue.shift();\r\n                }\r\n\r\n                // save the customised product to local cart cache (do this in a separate event queue)\r\n                window.setTimeout(utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                saveCustomisedProductToCart, 0);\r\n\r\n                // enable the \"Add To Cart\" button\r\n                $('#customise-product-page #customise-product-add-to-cart').removeAttr(\"disabled\");\r\n                // hide the spinner on the 'Add To Cart'\r\n                $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].dataBind();\r\n                $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].stop();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // show the page preloader\r\n            $('#customise-product-page .page-preloader').css(\"display\", \"block\");\r\n            // disable the \"Add To Cart\" button\r\n            $('#customise-product-page #customise-product-add-to-cart').attr(\"disabled\", true);\r\n            // remove the spinner from the 'Add To Cart'\r\n            $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n            $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].dataBind();\r\n            $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].stop();\r\n\r\n            // hide page loader\r\n            $('#customise-product-page #customise-product-page-iframe-container .modal').css(\"display\", \"none\");\r\n\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#customise-product-page #customise-product-page-pull-hook').attr(\"disabled\", true);\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                // reload the current product customisation url  & current remote cart item key into the iframe\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n               customiseProductPageViewModel.\r\n                loadProductCustomisation(utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    customiseProductPageViewModel.currentCustomisationUrl,\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        customiseProductPageViewModel.currentCustomisationCartKey);\r\n            }\r\n            catch(err){ // an error occurred\r\n\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                window.setTimeout(function(){ // wait for 2 sec before declaring loading done\r\n                    // enable pull-to-refresh widget till loading is done\r\n                    $('#customise-product-page #customise-product-page-pull-hook').removeAttr(\"disabled\");\r\n                    // signal that loading is done\r\n                    doneCallBack();\r\n                }, 2000);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load a particular product/product variation customisation.\r\n         *\r\n         * @param customisationUrl {String} holds the url for the product to be customised\r\n         *\r\n         * @param remoteCartItemKey {String} holds the remote cart item key for the\r\n         * product being customised\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadProductCustomisation(customisationUrl = utopiasoftware[utopiasoftware_app_namespace].\r\n            controller.customiseProductPageViewModel.currentCustomisationUrl, remoteCartItemKey){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Please connect to the Internet to customise product and Pull Down to refresh`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // display the page preloader\r\n            $('#customise-product-page .page-preloader').css(\"display\", \"block\");\r\n\r\n            // check if the 'remoteCartItemKey' has been provided\r\n            if(remoteCartItemKey){ // the remote cart item key was provided\r\n                if(customisationUrl.indexOf(\"?\") < 0){ // there are NO previous query parameters\r\n                    // attach the cart item key to the available customisation url & load it\r\n                    // load the specified url into the customisation iframe\r\n                    $('#customise-product-page #customise-product-page-iframe').attr(\"src\",\r\n                        customisationUrl + `?cart_item_key=${window.encodeURIComponent(remoteCartItemKey)}`);\r\n                }\r\n                else{ // there are previous query parameters\r\n                    // attach the cart item key to the previous query parameters and load the customisation url\r\n                    // load the specified url into the customisation iframe\r\n                    $('#customise-product-page #customise-product-page-iframe').attr(\"src\",\r\n                        customisationUrl + `&cart_item_key=${window.encodeURIComponent(remoteCartItemKey)}`);\r\n                }\r\n            }\r\n            else{ // NO remote cart item key was provided\r\n                // load the specified url (as is) into the customisation iframe\r\n                $('#customise-product-page #customise-product-page-iframe').attr(\"src\", customisationUrl);\r\n            }\r\n\r\n            // update the current customisation url\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                currentCustomisationUrl = customisationUrl;\r\n\r\n            // update the current remote/server cart item key for the product being customised\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                currentCustomisationCartKey = remoteCartItemKey;\r\n\r\n            // reset the page load count and cartsQueue properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                customisationPageLoadCount = 0;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.cartsQueue = [];\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * method is used to compare the cartQueue property and saves the latest customised product to\r\n         * local cart cache in the app database\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async saveCustomisedProductToCart(){\r\n            // get the previous remote cart object and the new/updated remote cart object\r\n            let previousCartObject = utopiasoftware[utopiasoftware_app_namespace].\r\n                controller.customiseProductPageViewModel.cartsQueue[0];\r\n            let updatedCartObject = utopiasoftware[utopiasoftware_app_namespace].\r\n                controller.customiseProductPageViewModel.cartsQueue[1];\r\n\r\n            // get the latest customised product by comparing the properties of the updateCartObject with the previousCartObject\r\n            for(let property in updatedCartObject){\r\n                // check if this property in the updateCartObject exist in the previousCartObject\r\n                if(! previousCartObject[property]){ // property does not exist in the previousCartObject, so this property belongs to the latest customised product\r\n                    // get the latest customised product\r\n                    let customisedProduct = updatedCartObject[property];\r\n\r\n                    let localCart = []; // holds the local cart collection\r\n                    let utopiasoftwareCartObject = {cartData: {}}; // holds the object whose properties make up the cart item\r\n\r\n                    // get the cached user cart\r\n                    try{\r\n                        localCart = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.loadData(\"user-cart\",\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart;\r\n\r\n                        // check if this is a save of an \"edited\" previously customised product\r\n                        if(utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                            currentCustomisationCartKey){ // since a current customisation cart key exist, this is an update\r\n\r\n                            // get the utopiasoftwareCartObject for the old customised product being updated.\r\n                            // This old object will be replaced by the newly customised product, so delete it from app local cache/database\r\n                            let customisedIndex = localCart.findIndex(function(cartObject){\r\n                                return cartObject.anon_cart_key === utopiasoftware[utopiasoftware_app_namespace].\r\n                                    controller.customiseProductPageViewModel.currentCustomisationCartKey;\r\n                            });\r\n                            localCart.splice(customisedIndex, 1); // delete the old customised product\r\n                        }\r\n                    }\r\n                    catch(err){}\r\n\r\n                    // set the other properties of the cart data\r\n                    utopiasoftwareCartObject.cartData.product_id = customisedProduct.product_id;\r\n                    utopiasoftwareCartObject.cartData.quantity = customisedProduct.quantity;\r\n                    utopiasoftwareCartObject.cartData.variation_id = customisedProduct.variation_id;\r\n                    utopiasoftwareCartObject.cartData.variation = customisedProduct.variation;\r\n                    utopiasoftwareCartObject.cartData.cart_item_data = {fpd_data: customisedProduct.fpd_data}; // holds the fancy product designer data\r\n\r\n                    // store the cart key used to identify the customised product as additional data just for the mobile app\r\n                    utopiasoftwareCartObject.anon_cart_key = customisedProduct.key;\r\n                    // store the name of the customised product as additional data just for the mobile app\r\n                    utopiasoftwareCartObject.product_name = customisedProduct.product_name;\r\n                    // store the cutomisationUrl of this product as additional data just for the mobile app\r\n                    utopiasoftwareCartObject.customisationUrl = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        customiseProductPageViewModel.currentCustomisationUrl;\r\n                    // store a unique local-cart uid to identify the product just for the mobile app\r\n                    utopiasoftwareCartObject.uid = Random.uuid4(utopiasoftware[utopiasoftware_app_namespace].randomisationEngine);\r\n\r\n                    try{\r\n                        // add the created 'utopiasoftwareCartObject' to the user cart collection\r\n                        localCart.push(utopiasoftwareCartObject);\r\n                        // save the updated cached user cart\r\n                        await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                            {_id: \"user-cart\", docType: \"USER_CART\", cart: localCart},\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                        // inform the user that the product has been added to cart\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'success-ej2-toast';\r\n                        toast.timeOut = 2000;\r\n                        toast.content = `Customised product has been added to your cart`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    catch(err){\r\n\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'error-ej2-toast';\r\n                        toast.timeOut = 3500;\r\n                        toast.content = `Error adding customised product to your cart. Try again`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n\r\n                    }\r\n                    finally{\r\n                        // check if this is a save of an \"edited\" previously customised product\r\n                        if(utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                            currentCustomisationCartKey){ // since a current customisation cart key exist, this is an update\r\n                            // update the 'currentCustomisationCartKey' property with the key of the newly customised product\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.customiseProductPageViewModel.\r\n                                currentCustomisationCartKey = customisedProduct.key;\r\n                        }\r\n\r\n                        // hide page loader after saving the customised product to user cart\r\n                        $('#customise-product-page #customise-product-page-iframe-container .modal').css(\"display\", \"none\");\r\n                    }\r\n\r\n                    break; // break the for-loop since the latest customised product has been found\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Add To Cart\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async addToCartButtonClicked(){\r\n\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Please connect to the Internet to add customised product to cart`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // show the spinner on the 'Add To Cart' button to indicate process is ongoing\r\n            $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].cssClass = '';\r\n            $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].dataBind();\r\n            $('#customise-product-page #customise-product-add-to-cart').get(0).ej2_instances[0].start();\r\n\r\n            // display page loader while completing the \"add to cart\" request\r\n            $('#customise-product-page #customise-product-page-iframe-container .modal').css(\"display\", \"table\");\r\n\r\n            // call the method to submit the product customisation form located in the iframe window\r\n            $('#customise-product-page #customise-product-page-iframe').get(0).contentWindow.utopiasoftware_addUsage();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the View Cart page\r\n     */\r\n    viewCartPageViewModel: {\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.viewCartPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#view-cart-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.viewCartPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#view-cart-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#view-cart-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#view-cart-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#view-cart-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                try{\r\n                    // create the \"Checkout\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#view-cart-checkout');\r\n\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred. Pull down to refresh`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // update cart count\r\n            $('#view-cart-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustResize');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // destroy View Cart button\r\n            $('#view-cart-checkout').get(0).ej2_instances[0].destroy();\r\n            // destroy all the \"Edit\" buttons on the View Cart page\r\n            $(\"#view-cart-page .view-cart-edit-button\").each(function(index, element){\r\n                // destroy the \"Edit\" button\r\n                element.ej2_instances[0].destroy();\r\n            });\r\n\r\n            // destroy all the \"Remove\" buttons required for the View Cart page\r\n            $(\"#view-cart-page .view-cart-remove-button\").each(function(index, element){\r\n                // destroy the \"Remove\" button\r\n                element.ej2_instances[0].destroy();\r\n            });\r\n\r\n            // destroy all the \"Quantity\" input required for the View Cart page\r\n            $(\"#view-cart-page .view-cart-quantity-input\").each(function(index, element){\r\n                // destroy the \"Quantity\" input\r\n                element.ej2_instances[0].destroy();\r\n            });\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#view-cart-page #view-cart-page-pull-hook').attr(\"disabled\", true);\r\n\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            // disable the \"Checkout\" button\r\n            $('#view-cart-page #view-cart-checkout').attr(\"disabled\", true);\r\n            // remove the spinner from the 'Add To Cart'\r\n            $('#view-cart-page #view-cart-checkout').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n            $('#view-cart-page #view-cart-checkout').get(0).ej2_instances[0].dataBind();\r\n            $('#view-cart-page #view-cart-checkout').get(0).ej2_instances[0].stop();\r\n\r\n            try{\r\n                // display the loaded product details\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.viewCartPageViewModel.displayUserCart();\r\n            }\r\n            catch(err){ // an error occurred\r\n\r\n                // display toast to show that error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = \"Sorry, an error occurred. Refresh to try again\";\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#view-cart-page #view-cart-page-pull-hook').removeAttr(\"disabled\");\r\n                // enable the \"Checkout\" button\r\n                $('#view-cart-page #view-cart-checkout').removeAttr(\"disabled\");\r\n                // hide the preloader\r\n                $('#view-cart-page .page-preloader').css(\"display\", \"none\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to display the user cart on the View Cart page.\r\n         * @param localCart {Array}\r\n         *\r\n         * @returns Promise\r\n         */\r\n        async displayUserCart(localCart){\r\n            var displayContent = \"\"; // holds the cart content to be displayed\r\n            try{\r\n\r\n                try{\r\n                    // get the localCart from the parameter passed OR from the the cached loCart from app database\r\n                    localCart = localCart || (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"user-cart\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart;\r\n                }\r\n                catch(err){\r\n                    // if error occurred during local cart retrieval\r\n                    localCart = []; // set localCart to empty array\r\n                }\r\n\r\n                if(localCart.length === 0){ // localCart is empty\r\n                    // display message to inform user that cart is empty\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'default-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Your cart is empty. Go order some products!`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n\r\n                    return; // exit method\r\n                }\r\n\r\n                // destroy all the \"Edit\" buttons on the View Cart page\r\n                $(\"#view-cart-page .view-cart-edit-button\").each(function(index, element){\r\n                    // destroy the \"Edit\" button\r\n                    element.ej2_instances[0].destroy();\r\n                });\r\n\r\n                // destroy all the \"Remove\" buttons required for the View Cart page\r\n                $(\"#view-cart-page .view-cart-remove-button\").each(function(index, element){\r\n                    // destroy the \"Remove\" button\r\n                    element.ej2_instances[0].destroy();\r\n                });\r\n\r\n                // destroy all the \"Quantity\" input required for the View Cart page\r\n                $(\"#view-cart-page .view-cart-quantity-input\").each(function(index, element){\r\n                    // destroy the \"Quantity\" input\r\n                    element.ej2_instances[0].destroy();\r\n                });\r\n\r\n                // display the contents of the cart using a for-loop\r\n                for(let index = 0; index < localCart.length; index++){\r\n                    displayContent +=\r\n                        `<div class=\"col-xs-12\" style=\"border-bottom: 1px lightgray solid\" \r\n                            data-utopiasoftware-product-uid=\"${localCart[index].uid}\">\r\n                        <div class=\"e-card e-card-horizontal\">`;\r\n\r\n                    if(localCart[index].anon_cart_key){ // this item is a customised product\r\n                        displayContent +=\r\n                            `<div class=\"e-card-image\" style=\"-webkit-flex-basis: auto; flex-basis: auto; width: 30%;\r\n                            min-height: 100%; \r\n                            background-image: url('${localCart[index].cartData.cart_item_data.fpd_data.fpd_product_thumbnail}');\">\r\n                            </div>\r\n                            <div class=\"e-card-stacked\" style=\"-webkit-flex-basis: auto; flex-basis: auto; width: 70%\">\r\n                            <div class=\"e-card-header\" style=\"padding: 0\">\r\n                            <div class=\"e-card-header-caption\"  style=\"padding-left: 3px; padding-right: 5px\">\r\n                            <div class=\"e-card-sub-title\" style=\"font-size: 14px; text-align: center; text-transform: capitalize\">\r\n                                ${localCart[index].product_name}\r\n                            </div>\r\n                            <div class=\"e-card-sub-title\" style=\"font-size: 11px; text-align: center; text-transform: capitalize\">\r\n                                &#x20a6;${kendo.toString(localCart[index].cartData.quantity * kendo.parseFloat(localCart[index].cartData.cart_item_data.fpd_data.fpd_product_price), \"n2\")}\r\n                            </div>\r\n                            </div>\r\n                            </div>\r\n                            <div class=\"e-card-content row\" style=\"padding: 0;\">\r\n                            <div class=\"col-xs-3\">\r\n                                <button type=\"button\" class=\"view-cart-edit-button\"\r\n                                        style=\"background-color: #ffffff; color: #3f51b5; height: 10px;\" \r\n                                        onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                        viewCartPageViewModel.\r\n                                        editCartItemButtonClicked('${localCart[index].customisationUrl}', \r\n                                        '${localCart[index].anon_cart_key}')\"></button>\r\n                            </div>\r\n                            <div class=\"col-xs-4\">\r\n                                <button type=\"button\" class=\"view-cart-remove-button\"\r\n                                        style=\"background-color: #ffffff; color: #3f51b5; height: 10px;\" \r\n                                        onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                        viewCartPageViewModel.deleteCartItemButtonClicked('${localCart[index].uid}')\"></button>\r\n                            </div>\r\n                            <div class=\"col-xs-5\">\r\n                                <input class=\"view-cart-quantity-input\" type=\"number\" style=\"padding-top: 2px;\" \r\n                                value=\"${localCart[index].cartData.quantity}\" \r\n                                data-utopiasoftware-product-uid=\"${localCart[index].uid}\">\r\n                            </div>\r\n                            </div>\r\n                            </div>`;\r\n                    }\r\n                    else if(localCart[index].productVariation){ // this product was NOT saved with customisation, but has variations\r\n                        displayContent +=\r\n                            `<div class=\"e-card-image\" style=\"-webkit-flex-basis: auto; flex-basis: auto; width: 30%;\r\n                            min-height: 100%; \r\n                            background-image: \r\n                            url('${localCart[index].productVariation.image && localCart[index].productVariation.image !== \"\" ?\r\n                                localCart[index].productVariation.image.src : localCart[index].product.images[0].src}');\">\r\n                            </div>\r\n                            <div class=\"e-card-stacked\" style=\"-webkit-flex-basis: auto; flex-basis: auto; width: 70%\">\r\n                            <div class=\"e-card-header\" style=\"padding: 0\">\r\n                            <div class=\"e-card-header-caption\"  style=\"padding-left: 3px; padding-right: 5px\">\r\n                            <div class=\"e-card-sub-title\" style=\"font-size: 14px; text-align: center; text-transform: capitalize\">\r\n                                ${localCart[index].product.name}\r\n                            </div>\r\n                            <div class=\"e-card-sub-title\" style=\"font-size: 11px; text-align: center; text-transform: capitalize\">\r\n                                &#x20a6;${kendo.toString(localCart[index].cartData.quantity * kendo.parseFloat((localCart[index].productVariation.price && localCart[index].productVariation.price !== \"\" ?\r\n                                localCart[index].productVariation.price : localCart[index].product.price)), \"n2\")}\r\n                            </div>\r\n                            </div>\r\n                            </div>\r\n                            <div class=\"e-card-content row\" style=\"padding: 0;\">\r\n                            <div class=\"col-xs-3\">\r\n                            </div>\r\n                            <div class=\"col-xs-4\">\r\n                                <button type=\"button\" class=\"view-cart-remove-button\"\r\n                                        style=\"background-color: #ffffff; color: #3f51b5; height: 10px;\" \r\n                                        onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                        viewCartPageViewModel.deleteCartItemButtonClicked('${localCart[index].uid}')\"></button>\r\n                            </div>\r\n                            <div class=\"col-xs-5\">\r\n                                <input class=\"view-cart-quantity-input\" type=\"number\" style=\"padding-top: 2px;\" \r\n                                value=\"${localCart[index].cartData.quantity}\" \r\n                                data-utopiasoftware-product-uid=\"${localCart[index].uid}\">\r\n                            </div>\r\n                            </div>\r\n                            </div>`;\r\n                    }\r\n                    else if(! localCart[index].productVariation) { // this product was NOT ssaved with customisation, and has NO variations\r\n                        displayContent +=\r\n                            `<div class=\"e-card-image\" style=\"-webkit-flex-basis: auto; flex-basis: auto; width: 30%;\r\n                            min-height: 100%; \r\n                            background-image: url('${localCart[index].product.images[0].src}');\">\r\n                            </div>\r\n                            <div class=\"e-card-stacked\" style=\"-webkit-flex-basis: auto; flex-basis: auto; width: 70%\">\r\n                            <div class=\"e-card-header\" style=\"padding: 0\">\r\n                            <div class=\"e-card-header-caption\"  style=\"padding-left: 3px; padding-right: 5px\">\r\n                            <div class=\"e-card-sub-title\" style=\"font-size: 14px; text-align: center; text-transform: capitalize\">\r\n                                ${localCart[index].product.name}\r\n                            </div>\r\n                            <div class=\"e-card-sub-title\" style=\"font-size: 11px; text-align: center; text-transform: capitalize\">\r\n                                &#x20a6;${kendo.toString(localCart[index].cartData.quantity * kendo.parseFloat(localCart[index].product.price), \"n2\")}\r\n                            </div>\r\n                            </div>\r\n                            </div>\r\n                            <div class=\"e-card-content row\" style=\"padding: 0;\">\r\n                            <div class=\"col-xs-3\">                          \r\n                            </div>\r\n                            <div class=\"col-xs-4\">\r\n                                <button type=\"button\" class=\"view-cart-remove-button\"\r\n                                        style=\"background-color: #ffffff; color: #3f51b5; height: 10px;\" \r\n                                        onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                        viewCartPageViewModel.deleteCartItemButtonClicked('${localCart[index].uid}')\"></button>\r\n                            </div>\r\n                            <div class=\"col-xs-5\">\r\n                                <input class=\"view-cart-quantity-input\" type=\"number\" style=\"padding-top: 2px;\" \r\n                                value=\"${localCart[index].cartData.quantity}\" \r\n                                data-utopiasoftware-product-uid=\"${localCart[index].uid}\">\r\n                            </div>\r\n                            </div>\r\n                            </div>`;\r\n                    }\r\n\r\n                    displayContent +=\r\n                        `</div>\r\n                         </div>`;\r\n                }\r\n\r\n                // attach the displayContent to the page\r\n                $('#view-cart-page #view-cart-contents-container').html(displayContent);\r\n\r\n                // create all the \"Edit\" buttons required for the View Cart page\r\n                $(\"#view-cart-page .view-cart-edit-button\").each(function(index, element){\r\n                    // create the \"Edit\" button\r\n                    new ej.buttons.Button({\r\n                        cssClass: 'e-flat e-round',\r\n                        iconCss: \"zmdi zmdi-edit utopiasoftware-icon-zoom-one-point-two\",\r\n                        iconPosition: \"Left\"\r\n                    }).appendTo(element);\r\n                });\r\n\r\n                // create all the \"Remove\" buttons required for the View Cart page\r\n                $(\"#view-cart-page .view-cart-remove-button\").each(function(index, element){\r\n                    // create the \"Remove\" button\r\n                    new ej.buttons.Button({\r\n                        cssClass: 'e-flat e-round',\r\n                        iconCss: \"zmdi zmdi-delete utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo(element);\r\n                });\r\n\r\n                // create all the \"Quantity\" input required for the View Cart page\r\n                $(\"#view-cart-page .view-cart-quantity-input\").each(function(index, element){\r\n                    new ej.inputs.NumericTextBox({\r\n                        value: element.value,\r\n                        cssClass: 'view-cart-quantity-input-class',\r\n                        currency: null,\r\n                        decimals: 0,\r\n                        floatLabelType: 'Auto',\r\n                        format: 'n',\r\n                        showSpinButton: true,\r\n                        min: 1,\r\n                        max: 10,\r\n                        placeholder: ' ',\r\n                        step: 1,\r\n                        strictMode: true,\r\n                        width: '60%',\r\n                        // sets value to the NumericTextBox\r\n                        value: 1,\r\n                        change: function(){ // track changes in the quantity numeric input for every product\r\n                            let currentQuantityValue = this.value; // holds the current quantity value from the numeric input\r\n                            let product_uid = $(element).attr('data-utopiasoftware-product-uid');\r\n                            // dissplay page preloader\r\n                            $('#view-cart-page .page-preloader').css(\"display\", \"block\");\r\n\r\n                            // handle task in a separate event block\r\n                            window.setTimeout(async function(){\r\n                                try {\r\n\r\n                                    // find the product to be updated within the app localCart\r\n                                    let selectedProduct = localCart.find(function(productElement){\r\n                                        return productElement.uid === product_uid;\r\n                                    });\r\n                                    // update the quantity for the selected product\r\n                                    selectedProduct.cartData.quantity = currentQuantityValue;\r\n                                    // save the updated localCart object to the app cache/persistent storage\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                                        {_id: \"user-cart\", docType: \"USER_CART\", cart: localCart},\r\n                                        utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n                                    // display the updated user cart\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                    viewCartPageViewModel.displayUserCart(localCart);\r\n\r\n                                    // inform the user that the product has been added to cart\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast to show that an error\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'success-ej2-toast';\r\n                                    toast.timeOut = 2000;\r\n                                    toast.content = `Product quantity updated`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                                catch(err){\r\n\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast to show that an error occurred\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'error-ej2-toast';\r\n                                    toast.timeOut = 3500;\r\n                                    toast.content = `Product quantity not updated. Try again`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                                finally{\r\n                                    // hide page preloader\r\n                                    $('#view-cart-page .page-preloader').css(\"display\", \"none\");\r\n                                }\r\n\r\n                            }, 0);\r\n                        }\r\n                    }).appendTo(element);\r\n                });\r\n\r\n\r\n                // update the total price of items displayed\r\n                $('#view-cart-page #view-cart-total-price').html(`&#x20a6;${kendo.toString(\r\n                    utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.viewCartPageViewModel.calculateCartTotalPrice(localCart), \"n2\")}`);\r\n            }\r\n            finally{\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is a utility/helper function used to view/load and display the user's cart\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async viewCartPage(){\r\n\r\n            try{\r\n                // load the View Cart page\r\n                await $('#app-main-navigator').get(0).bringPageTop(\"view-cart-page.html\");\r\n                // display the user cart\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.viewCartPageViewModel.displayUserCart();\r\n                // enable the checkout button\r\n                $('#view-cart-page #view-cart-checkout').removeAttr(\"disabled\");\r\n            }\r\n            catch(err){\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = `Sorry, an error occurred. Pull down to refresh`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally {\r\n                // hide the preloader\r\n                $('#view-cart-page .page-preloader').css(\"display\", \"none\");\r\n            }\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is a utility function used to calculate the approximate total process of all items in\r\n         * a user's local cart\r\n         *\r\n         * @param localCart {Array} containing an array of items in the user's local cart\r\n         *\r\n         * @returns {number} the total price for all the items contained in cart\r\n         */\r\n        calculateCartTotalPrice(localCart = []){\r\n\r\n            if(localCart.length === 0){ // this is an empty cart, so just return 0\r\n                return 0.00;\r\n            }\r\n\r\n            // run an array reduce function which gets the sub-total price of each item in the cart by multiplying their\r\n            // quantity by the unit price. Then adding all sub-totals to get the total price\r\n\r\n            return localCart.reduce(function(accumulator, currentElement, currentIndex, thisArray){\r\n\r\n                // check the types of products in the cart\r\n                if(currentElement.anon_cart_key){ // this item is a customised product\r\n                    // multiply the product unit price with the specified quantity and add the to the current cumulative total\r\n                    return accumulator + (currentElement.cartData.quantity *\r\n                        kendo.parseFloat(currentElement.cartData.cart_item_data.fpd_data.fpd_product_price));\r\n                }\r\n                else if(currentElement.productVariation){ // this product was NOT saved with customisation, but has variations\r\n                    // multiply the product unit price with the specified quantity and add the to the current cumulative total\r\n                    return accumulator + (currentElement.cartData.quantity *\r\n                    kendo.parseFloat((currentElement.productVariation.price && currentElement.productVariation.price !== \"\" ?\r\n                        currentElement.productVariation.price : currentElement.product.price)));\r\n                }\r\n                else if(! currentElement.productVariation) { // this product was NOT saved with customisation, and has NO variations\r\n                    // multiply the product unit price with the specified quantity and add the to the current cumulative total\r\n                    return accumulator + (currentElement.cartData.quantity * kendo.parseFloat(currentElement.product.price));\r\n                }\r\n\r\n            }, 0);\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when the Delete/Remove\" cart item button (attached to each product on the\r\n         * View Cart page) is clicked.\r\n         *\r\n         * @param productUId {String} the unique uid created for each product in\r\n         * the user's local cart. This identifies the product to be deleted from cart\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async deleteCartItemButtonClicked (productUId = \"\"){\r\n\r\n            // attach functions to handle the \"Reject/No\" and \"Accept/Yes\" buttons click event.\r\n            // These buttons are located in the 'Delete Cart Item Action Sheet'.\r\n            // Click event handlers must always be defined for these buttons when using this action sheet\r\n\r\n            // function for \"Reject/No\" button\r\n            $('#view-cart-page-delete-cart-item-action-sheet #view-cart-page-delete-cart-item-no').get(0).onclick =\r\n                async function(){\r\n                    // hide the action sheet\r\n                    await document.getElementById('view-cart-page-delete-cart-item-action-sheet').hide();\r\n                };\r\n\r\n            // function for \"Accept/Yes\" button\r\n            $('#view-cart-page-delete-cart-item-action-sheet #view-cart-page-delete-cart-item-yes').get(0).onclick =\r\n                async function(){\r\n                    let localCart = []; // holds the local cart array\r\n                    try{\r\n\r\n                        // display page preloader\r\n                        $('#view-cart-page .page-preloader').css(\"display\", \"block\");\r\n                        // hide the action sheet\r\n                        await document.getElementById('view-cart-page-delete-cart-item-action-sheet').hide();\r\n\r\n                        try{\r\n                            // get the localCart from the cached localCart of the app database\r\n                            localCart = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                            loadData(\"user-cart\",\r\n                                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart;\r\n                        }\r\n                        catch(err){}\r\n\r\n                        // get the product to be deleted from the cart\r\n                        let productIndex = localCart.findIndex(function(productElement, index){\r\n                            // check if this is the product being search for by comparing the product uid\r\n                            return productUId === productElement.uid;\r\n                        });\r\n\r\n                        // check if a product was found\r\n                        if(productIndex !== -1){ // product was found\r\n                            // delete the product from localCart\r\n                            localCart.splice(productIndex, 1);\r\n                        }\r\n\r\n                        // save the updated cart\r\n                        await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                            {_id: \"user-cart\", docType: \"USER_CART\", cart: localCart},\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n\r\n                        // hide from display, the cart item belonging to the deleted product\r\n                        let $cartDisplayedItem = $(`#view-cart-page .col-xs-12[data-utopiasoftware-product-uid=\"${productUId}\"]`);\r\n                        await kendo.fx($cartDisplayedItem).expand(\"vertical\").duration(250).reverse();\r\n                        // update the total price of items displayed\r\n                        $('#view-cart-page #view-cart-total-price').html(`&#x20a6;${kendo.toString(\r\n                            utopiasoftware[utopiasoftware_app_namespace].\r\n                            controller.viewCartPageViewModel.calculateCartTotalPrice(localCart), \"n2\")}`);\r\n\r\n                        // inform the user that the product has been removed from cart\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 2000;\r\n                        toast.content = `Product has been deleted from your cart`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    catch(err){\r\n\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'error-ej2-toast';\r\n                        toast.timeOut = 3500;\r\n                        toast.content = `Error deleting product from your cart. Try again`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    finally {\r\n                        // hide page preloader\r\n                        $('#view-cart-page .page-preloader').css(\"display\", \"none\");\r\n                    }\r\n                };\r\n\r\n            // display the delete confirmation dialog\r\n            await document.getElementById('view-cart-page-delete-cart-item-action-sheet').show();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Edit\" cart item button (attached to each product on the\r\n         * View Cart page) is clicked.\r\n         *\r\n         * @param productUrl {String} holds the remote/server url for the product desired to be edited\r\n         *\r\n         * @param cartItemKey {String} holds the remote/server cart key for this product/cart-item\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async editCartItemButtonClicked(productUrl, cartItemKey){\r\n\r\n            // load the \"Customise Product\" page to the app-main-navigator\r\n            await $('#app-main-navigator').get(0).bringPageTop(\"customise-product-page.html\");\r\n            // load the product customisation url\r\n            await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n            customiseProductPageViewModel.loadProductCustomisation(productUrl, cartItemKey);\r\n        },\r\n\r\n        /**\r\n         * method is triggerd when the \"Check Out\" button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async checkoutButtonClicked(){\r\n\r\n            let userDetails = null; // holds the user details\r\n\r\n            // check if a user has signed in\r\n            try{\r\n                // load the use details from the encrypted app database\r\n                userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n            }\r\n            catch(err){\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Please sign in to checkout your cart`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                // send the user to the sign in page\r\n                $('#app-main-navigator').get(0).pushPage('login-page.html');\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // check if the user has any item in cart\r\n            try{\r\n                let localCart = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-cart\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart;\r\n                if(localCart.length === 0){ // no item in user cart\r\n                    throw \"error\"; // throw error\r\n                }\r\n            }\r\n            catch(err){\r\n                // display message to inform user that cart is empty\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Your cart is empty. Go order some products!`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // check if a billing address has been provided\r\n            if(userDetails.billing.address_1 == \"\"){ // no billing address has been provided\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3500;\r\n                toast.content = `Please update your billing address to checkout your cart`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                $('#app-main-navigator').get(0).pushPage('billing-info-page.html');\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to checkout your cart`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // show the app loader modal\r\n            $('#loader-modal-message').html(\"Preparing Checkout...\");\r\n            $('#loader-modal').get(0).show(); // show loader\r\n\r\n            // create the user's order object\r\n            var orderData = {\r\n                status: \"pending\", currency: \"NGN\", customer_id: userDetails.id, billing: userDetails.billing,\r\n                shipping: userDetails.shipping, line_items: []\r\n            };\r\n\r\n            try {\r\n                // get the current user's local cart\r\n                let userCart = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.loadData(\"user-cart\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.appDatabase)).cart;\r\n\r\n                // loop through the user cart item to create the order items\r\n                for(let index = 0; index < userCart.length; index++){\r\n                    orderData.line_items[index] = userCart[index].cartData;\r\n\r\n                    // add the product name to the order line item\r\n                    if(userCart[index].product){ // this product was added to cart without customisation\r\n                        orderData.line_items[index].name = userCart[index].product.name; // add the product name\r\n                        // calculate the subtotal & total for this line item\r\n                        orderData.line_items[index].subtotal =\r\n                            \"\" + kendo.parseFloat(userCart[index].product.price) * orderData.line_items[index].quantity;\r\n                        orderData.line_items[index].total =\r\n                            \"\" + kendo.parseFloat(userCart[index].product.price) * orderData.line_items[index].quantity;\r\n                    }\r\n                    else{ // this product was added to cart via customisation\r\n                        orderData.line_items[index].name = userCart[index].product_name; // add the product name\r\n                    }\r\n\r\n                    orderData.line_items[index].meta_data = []; // create the meta-data array for each order line item\r\n\r\n                    // check if the product being ordered has a variation\r\n                    if(userCart[index].cartData.variation_id){ // this product has a variation\r\n                        if(!userCart[index].cartData.cart_item_data){ // if the product has no customisation data\r\n                            // calculate the subtotal & total for this line item\r\n                            orderData.line_items[index].subtotal =\r\n                            \"\" + kendo.parseFloat(userCart[index].productVariation.price) * orderData.line_items[index].quantity;\r\n                            orderData.line_items[index].total =\r\n                                \"\" + kendo.parseFloat(userCart[index].productVariation.price) * orderData.line_items[index].quantity;\r\n                        }\r\n\r\n                        // add the variation attributes to the line item meta data\r\n                        for(let key in userCart[index].cartData.variation){\r\n\r\n                            orderData.line_items[index].meta_data.push({\r\n                                // add the variation attributes for this product to the line items meta-data array.\r\n                                // the meta-data object key value is gotten by splitting the variation key\r\n                                key: key.split(\"_\")[1],\r\n                                value: userCart[index].cartData.variation[key]\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    // check if the product has any customisation data to attach\r\n                    if(userCart[index].cartData.cart_item_data){\r\n\r\n                        // calculate the subtotal & total for this line item\r\n                        orderData.line_items[index].subtotal =\r\n                            \"\" + kendo.parseFloat(userCart[index].cartData.cart_item_data.fpd_data.fpd_product_price)\r\n                            * orderData.line_items[index].quantity;\r\n                        orderData.line_items[index].total =\r\n                            \"\" + kendo.parseFloat(userCart[index].cartData.cart_item_data.fpd_data.fpd_product_price)\r\n                            * orderData.line_items[index].quantity;\r\n\r\n                        orderData.line_items[index].meta_data.push({\r\n                            // add the customisation data for this product to the line items meta-data array.\r\n                            key: \"_fpd_data\",\r\n                            value: userCart[index].cartData.cart_item_data.fpd_data.fpd_product\r\n                        }, {\r\n                            // add the customisation data for this product to the line items meta-data array.\r\n                            key: \"_fpd_print_order\",\r\n                            value: userCart[index].cartData.cart_item_data.fpd_data.fpd_print_order\r\n                        });\r\n\r\n                        // delete the 'cart_item_data' property from the line item because it is not needed for submisssion\r\n                        delete orderData.line_items[index].cart_item_data;\r\n                    }\r\n                }\r\n\r\n\r\n                // create the order on the remote server\r\n                orderData = await Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/orders`,\r\n                        type: \"post\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(orderData)\r\n                    }\r\n                ));\r\n\r\n                // check if the checkout page has previously been displayed in the app-main navigator\r\n                var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n                var indexOfCheckoutPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                    // test if the page is the checkout page\r\n                    return $(pagesStackArray[pageIndex]).get(0).id === \"checkout-page\";\r\n                });\r\n\r\n                // check if the checkout page was found in the app-main navigator stack\r\n                if(indexOfCheckoutPage > -1){ // checkout page was found\r\n                    // remove the checkout page from the app-main navigator before re-displaying it\r\n                    await $('#app-main-navigator').get(0).removePage(indexOfCheckoutPage);\r\n                }\r\n                // display the checkout page using the selected order\r\n                await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData}});\r\n            }\r\n            catch(err){\r\n                err = JSON.parse(err.responseText);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Checkout failed. ${err.message || \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // hide the app loader\r\n                $('#loader-modal').get(0).hide(); // hide loader\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Profile page\r\n     */\r\n    profilePageViewModel: {\r\n\r\n        /**\r\n         * used to hold the parsley form validation object for the profile form\r\n         */\r\n        profileFormValidator: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        profilePageViewModel.backButtonClicked;\r\n\r\n                // initialise the profile form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator =\r\n                    $('#profile-page #profile-form').parsley();\r\n\r\n                // listen for profile form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator.on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#profile-page #profile-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for profile form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator.on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#profile-page #profile-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for profile form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator.on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidated);\r\n\r\n                // listen for scroll event on the page to adjust the tooltips when page scrolls\r\n                $('#profile-page .content').on(\"scroll\", utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.profilePageViewModel.scrollAndResizeEventListener);\r\n\r\n\r\n                try{\r\n\r\n                    // create the tooltip objects for the profile form\r\n                    $('#profile-form ons-input', $thisPage).each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopLeft',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#profile-page #profile-form').get(0));\r\n                    });\r\n\r\n                    // create the \"Cancel\" button\r\n                    new ej.buttons.Button({\r\n                        //iconCss: \"zmdi zmdi-shopping-cart-add utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo('#profile-cancel');\r\n\r\n                    // create the \"Update\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#profile-update');\r\n\r\n                    // display the user's profile on the profile form\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.displayProfileContent();\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n                finally {\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // update cart count\r\n            $('#profile-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            //add listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.addEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                profilePageViewModel.scrollAndResizeEventListener, false);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // hide the tooltips on the profile form\r\n            $('#profile-page #profile-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // reset all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator.reset();\r\n\r\n            //remove listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.removeEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                profilePageViewModel.scrollAndResizeEventListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the tooltips on the profile form\r\n            $('#profile-page #profile-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // destroy the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the \"Cancel\" and \"Update\" buttons\r\n            $('#profile-page #profile-cancel').get(0).ej2_instances[0].destroy();\r\n            $('#profile-page #profile-update').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator.destroy();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the profile page is scrolled or the display window is resized by\r\n         * virtue of the device keyboard being displayed\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollAndResizeEventListener(){\r\n            // place function execution in the event queue to be executed ASAP\r\n            window.setTimeout(function(){\r\n                // adjust the tooltips elements on the profile form\r\n                $(\"#profile-page #profile-form ons-input\").each(function(index, element){\r\n                    document.getElementById('profile-form').ej2_instances[index].refresh(element);\r\n                });\r\n\r\n            }, 0);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Update\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async updateButtonClicked(){\r\n\r\n            // run the validation method for the profile form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.profilePageViewModel.profileFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the profile form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async profileFormValidated(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to update your profile`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // disable the \"Update\" button\r\n            $('#profile-page #profile-update').attr(\"disabled\", true);\r\n            // show the spinner on the 'Update' button to indicate process is ongoing\r\n            $('#profile-page #profile-update').get(0).ej2_instances[0].cssClass = '';\r\n            $('#profile-page #profile-update').get(0).ej2_instances[0].dataBind();\r\n            $('#profile-page #profile-update').get(0).ej2_instances[0].start();\r\n\r\n            // display page loader while completing the \"update profile\" request\r\n            $('#profile-page .modal').css(\"display\", \"table\");\r\n\r\n            var promisesArray = []; // holds the array for the promises used to complete the process\r\n\r\n            var promisesArrayPromise = null; // holds the promise gotten from the promisesArray\r\n\r\n            try{\r\n                // load the use details from the encrypted app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // temporary hold the user id and password\r\n                let userId = userDetails.id;\r\n                let userPassword = userDetails.password;\r\n\r\n                // use the input from the profile form to update the user details\r\n                userDetails.first_name = $('#profile-page #profile-form #profile-first-name').val().trim();\r\n                userDetails.last_name = $('#profile-page #profile-form #profile-last-name').val().trim();\r\n\r\n                // check if user details has the billing property\r\n                if(!userDetails.billing){ // no billing property, so create it\r\n                    // create the billing property\r\n                    userDetails.billing = {};\r\n                }\r\n\r\n                // set the billing email to the email of the user\r\n                userDetails.billing.email = $('#profile-page #profile-form #profile-email').val().trim();\r\n                // set the billing first name and last name to that of the user\r\n                userDetails.billing.first_name = userDetails.first_name;\r\n                userDetails.billing.last_name = userDetails.last_name;\r\n\r\n                // update the user phone number\r\n                userDetails.billing.phone = $('#profile-page #profile-form #profile-phone-number').val().trim();\r\n                if(userDetails.billing.phone.startsWith(\"0\")){ // phone number starts with zero\r\n                    // replace the starting zero with '+234'\r\n                    userDetails.billing.phone = userDetails.billing.phone.replace(/0/i, \"+234\");\r\n                }\r\n\r\n                // delete the properties not needed for the update from the userDetails object\r\n                delete userDetails.id;\r\n                delete userDetails.password;\r\n\r\n                // now send the user profile update request to the remote server\r\n                promisesArray.push(Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/customers/${userId}`,\r\n                        type: \"put\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(userDetails)\r\n                    }\r\n                )));\r\n\r\n                // get the promise created from the promisesArray\r\n                promisesArrayPromise = Promise.all(promisesArray);\r\n\r\n                // get the result from the promisesArray\r\n                let resultsArray = await promisesArrayPromise;\r\n\r\n                // add the user's password to the user details retrieved from the server\r\n                resultsArray[0].password = userPassword;\r\n\r\n                // save the created user details data to ENCRYPTED app database as cached data\r\n                await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                    {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: resultsArray[0]},\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'success-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User profile updated`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n            }\r\n            catch (err) {\r\n                err = JSON.parse(err.responseText);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User profile update failed. ${err.message || \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally {\r\n                // enable the \"Update\" button\r\n                $('#profile-page #profile-update').removeAttr(\"disabled\");\r\n                // hide the spinner on the 'Update' button to indicate process is ongoing\r\n                $('#profile-page #profile-update').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#profile-page #profile-update').get(0).ej2_instances[0].dataBind();\r\n                $('#profile-page #profile-update').get(0).ej2_instances[0].stop();\r\n\r\n                // hide page loader\r\n                $('#profile-page .modal').css(\"display\", \"none\");\r\n            }\r\n\r\n            return promisesArrayPromise; // return the resolved promisesArray\r\n\r\n        },\r\n\r\n        /**\r\n         * method is used to load the current user profile data into the profile form\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayProfileContent(){\r\n\r\n            try{\r\n                // load the user profile details from the app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // display the user profile data in the profile form\r\n                $('#profile-page #profile-form #profile-email').val(userDetails.email);\r\n                $('#profile-page #profile-form #profile-first-name').val(userDetails.first_name || \"\");\r\n                $('#profile-page #profile-form #profile-last-name').val(userDetails.last_name || \"\");\r\n                $('#profile-page #profile-form #profile-phone-number').\r\n                val(userDetails.billing && userDetails.billing.phone ? userDetails.billing.phone : \"\");\r\n            }\r\n            finally {\r\n                // hide page preloader\r\n                $('#profile-page .page-preloader').css(\"display\", \"none\");\r\n                // hide page modal loader\r\n                $('#profile-page .modal').css(\"display\", \"none\");\r\n                // enable the \"Update\" button\r\n                $('#profile-page #profile-update').removeAttr(\"disabled\");\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Change Password page\r\n     */\r\n    changePasswordPageViewModel: {\r\n\r\n        /**\r\n         * used to hold the parsley form validation object for the change password form\r\n         */\r\n        changePasswordFormValidator: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        changePasswordPageViewModel.backButtonClicked;\r\n\r\n                // initialise the changePassword form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel.changePasswordFormValidator =\r\n                    $('#change-password-page #change-password-form').parsley();\r\n\r\n                // listen for changePassword form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel.\r\n                changePasswordFormValidator.on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#change-password-page #change-password-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for changePassword form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel\r\n                    .changePasswordFormValidator.on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#change-password-page #change-password-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for profile form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel.\r\n                changePasswordFormValidator.on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        changePasswordPageViewModel.changePasswordFormValidated);\r\n\r\n                // listen for scroll event on the page to adjust the tooltips when page scrolls\r\n                $('#change-password-page .content').on(\"scroll\", utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.changePasswordPageViewModel.scrollAndResizeEventListener);\r\n\r\n\r\n                try{\r\n\r\n                    // create the tooltip objects for the changePassword form\r\n                    $('#change-password-form ons-input', $thisPage).each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopLeft',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#change-password-page #change-password-form').get(0));\r\n                    });\r\n\r\n                    // create the button for switching password visibility on the signup page\r\n                    new ej.buttons.Button({\r\n                        isToggle: true,\r\n                        cssClass: 'e-flat e-small e-round',\r\n                        iconCss: \"zmdi zmdi-eye\",\r\n                        iconPosition: \"Left\"\r\n                    }).appendTo($('#change-password-view-button', $thisPage).get(0));\r\n\r\n                    // create the \"Cancel\" button\r\n                    new ej.buttons.Button({\r\n                        //iconCss: \"zmdi zmdi-shopping-cart-add utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo('#change-password-cancel');\r\n\r\n                    // create the \"Update\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#change-password-update');\r\n\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n                finally {\r\n                    // hide the page preloader\r\n                    $('#change-password-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide page loader\r\n                    $('#change-password-page .modal').css(\"display\", \"none\");\r\n                    // enable the update button\r\n                    $('#change-password-page #change-password-update').removeAttr(\"disabled\");\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // update cart count\r\n            $('#change-password-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            //add listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.addEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                changePasswordPageViewModel.scrollAndResizeEventListener, false);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // hide the tooltips on the changePassword form\r\n            $('#change-password-page #change-password-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // reset all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel.\r\n            changePasswordFormValidator.reset();\r\n\r\n            //remove listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.removeEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                changePasswordPageViewModel.scrollAndResizeEventListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the tooltips on the changePassword form\r\n            $('#change-password-page #change-password-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // destroy the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the \"Cancel\" and \"Update\" buttons\r\n            $('#change-password-page #change-password-cancel').get(0).ej2_instances[0].destroy();\r\n            $('#change-password-page #change-password-update').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the password visibility button\r\n            $('#change-password-page #change-password-view-button').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel.\r\n            changePasswordFormValidator.destroy();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the Password Visibility button is clicked\r\n         *\r\n         * @param buttonElement {HTMLElement} button element being clicked\r\n         *\r\n         * @param inputId {String} the id for the input whose content visibility is being changed\r\n         */\r\n        passwordVisibilityButtonClicked(buttonElement, inputId){\r\n\r\n            // check the state of the button is it 'active' or not\r\n            if(! $(buttonElement).hasClass('e-active')){ // button is not active\r\n                // change the type for the input field\r\n                $(document.getElementById(inputId)).attr(\"type\", \"text\");\r\n                // change the icon on the button to indicate the change in visibility\r\n                let ej2Button = buttonElement.ej2_instances[0];\r\n                ej2Button.iconCss = 'zmdi zmdi-eye-off';\r\n                ej2Button.dataBind();\r\n            }\r\n            else{ // button is active\r\n                // change the type for the input field\r\n                $(document.getElementById(inputId)).attr(\"type\", \"password\");\r\n                // change the icon on the button to indicate the change in visibility\r\n                let ej2Button = buttonElement.ej2_instances[0];\r\n                ej2Button.iconCss = 'zmdi zmdi-eye';\r\n                ej2Button.dataBind();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the profile page is scrolled or the display window is resized by\r\n         * virtue of the device keyboard being displayed\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollAndResizeEventListener(){\r\n            // place function execution in the event queue to be executed ASAP\r\n            window.setTimeout(function(){\r\n                // adjust the tooltips elements on the changePassword form\r\n                $(\"#change-password-page #change-password-form ons-input\").each(function(index, element){\r\n                    document.getElementById('change-password-form').ej2_instances[index].refresh(element);\r\n                });\r\n\r\n            }, 0);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Update\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async updateButtonClicked(){\r\n\r\n            // run the validation method for the profile form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.changePasswordPageViewModel.\r\n            changePasswordFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the changePassword form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async changePasswordFormValidated(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to change password`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // disable the \"Update\" button\r\n            $('#change-password-page #change-password-update').attr(\"disabled\", true);\r\n            // show the spinner on the 'Update' button to indicate process is ongoing\r\n            $('#change-password-page #change-password-update').get(0).ej2_instances[0].cssClass = '';\r\n            $('#change-password-page #change-password-update').get(0).ej2_instances[0].dataBind();\r\n            $('#change-password-page #change-password-update').get(0).ej2_instances[0].start();\r\n\r\n            // display page loader while completing the \"update profile\" request\r\n            $('#change-password-page .modal').css(\"display\", \"table\");\r\n\r\n            var promisesArray = []; // holds the array for the promises used to complete the process\r\n\r\n            var promisesArrayPromise = null; // holds the promise gotten from the promisesArray\r\n\r\n            try{\r\n                // load the use details from the encrypted app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // check if the current password input matches that in the current user password\r\n                try{\r\n                    await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json\",\r\n                            type: \"get\",\r\n                            // contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    Base64.encode(`${userDetails.email}:${jQuery('#change-password-current-password').val().trim()}`));\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false\r\n                        }\r\n                    ));\r\n                }\r\n                catch(err){ // if an error occurs, it meanns the inputed current password DOES NOT MATCH the current user password\r\n                    // throw an error object because user current password does not match\r\n                    throw {responseText: JSON.stringify({message: \"current password is incorrect.\"})};\r\n                }\r\n\r\n                // temporary hold the user id\r\n                let userId = userDetails.id;\r\n                // delete the billing and shipping info from the userData object being updated because it's not needed.\r\n                // if the password change is successful, the response will include\r\n                // the billing and shipping retrieved from the server.\r\n                delete userDetails.billing;\r\n                delete userDetails.shipping;\r\n\r\n                // use the new password input to change/update the user password\r\n                userDetails.password = $('#change-password-page #change-password-form #change-password-new-password').val().trim();\r\n\r\n                // now send the user profile/password change request to the remote server\r\n                promisesArray.push(Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/customers/${userId}`,\r\n                        type: \"put\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(userDetails)\r\n                    }\r\n                )));\r\n\r\n                // get the promise created from the promisesArray\r\n                promisesArrayPromise = Promise.all(promisesArray);\r\n\r\n                // get the result from the promisesArray\r\n                let resultsArray = await promisesArrayPromise;\r\n\r\n                // add the user's new password to the user details retrieved from the server\r\n                resultsArray[0].password =\r\n                    $('#change-password-page #change-password-form #change-password-new-password').val().trim();\r\n\r\n                // save the created user details data to ENCRYPTED app database as cached data\r\n                await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                    {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: resultsArray[0]},\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'success-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User password changed`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n            }\r\n            catch (err) {\r\n                err = JSON.parse(err.responseText);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User password change failed. ${err.message || \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally {\r\n                // enable the \"Update\" button\r\n                $('#change-password-page #change-password-update').removeAttr(\"disabled\");\r\n                // hide the spinner on the 'Update' button to indicate process is ongoing\r\n                $('#change-password-page #change-password-update').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#change-password-page #change-password-update').get(0).ej2_instances[0].dataBind();\r\n                $('#change-password-page #change-password-update').get(0).ej2_instances[0].stop();\r\n\r\n                // hide page loader\r\n                $('#change-password-page .modal').css(\"display\", \"none\");\r\n            }\r\n\r\n            return promisesArrayPromise; // return the resolved promisesArray\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Billing Info page\r\n     */\r\n    billingInfoPageViewModel: {\r\n\r\n        /**\r\n         * used to hold the parsley form validation object for the billing address form\r\n         */\r\n        billingInfoFormValidator: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        billingInfoPageViewModel.backButtonClicked;\r\n\r\n                // initialise the billing info form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidator =\r\n                    $('#billing-info-page #billing-info-form').parsley();\r\n\r\n                // initialise the custom validation for the billing info 'country' field\r\n                $('#billing-info-page #billing-info-form #billing-info-country').parsley({\r\n                    value: function(parsley) {\r\n                        // return the value from the dropdownlist\r\n                        return $('#billing-info-country').get(0).ej2_instances[0].value;\r\n                    }\r\n                });\r\n\r\n                // initialise the custom validation for the billing info 'state' field\r\n                $('#billing-info-page #billing-info-form #billing-info-state').parsley({\r\n                    value: function(parsley) { // function returns a 'custom' value\r\n                        // get the State dropdownlist component\r\n                        let stateDropDownList = $('#billing-info-state').get(0).ej2_instances[0];\r\n                        // check if the dropdownlist is enabled or not\r\n                        if(stateDropDownList.enabled !== true){ // dropdownlist is disabled\r\n                            return \" \"; // return an empty string\r\n                        }\r\n                        else{ // dropdownlist is enabled\r\n                            return stateDropDownList.value; // return the value from the dropdownlist\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // listen for billing form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidator.\r\n                on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#billing-info-page #billing-info-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for billing info form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidator.\r\n                on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#billing-info-page #billing-info-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for billing info form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidator.\r\n                on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidated);\r\n\r\n                // listen for scroll event on the page to adjust the tooltips when page scrolls\r\n                $('#billing-info-page .content').on(\"scroll\", utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.billingInfoPageViewModel.scrollAndResizeEventListener);\r\n\r\n\r\n                try{\r\n                    // create the \"Cancel\" button\r\n                    new ej.buttons.Button({\r\n                        //iconCss: \"zmdi zmdi-shopping-cart-add utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo('#billing-info-cancel');\r\n\r\n                    // create the \"Update\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#billing-info-update');\r\n\r\n                    let countryDataArray = []; // holds the array containing country objects\r\n\r\n                    // load the country data from the local list with the app\r\n                    countryDataArray = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: 'country-list.json',\r\n                            type: \"get\",\r\n                            //contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {}\r\n                        }\r\n                    ));\r\n\r\n                    // create the tooltip objects for the billing info form\r\n                    $('#billing-info-form textarea, #billing-info-form ons-input, #billing-info-form #billing-info-country, #billing-info-form #billing-info-state', $thisPage).\r\n                    each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopLeft',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#billing-info-page #billing-info-form').get(0));\r\n                    });\r\n\r\n                    // create the Country dropdown list from the select input\r\n                    new ej.dropdowns.DropDownList(\r\n                        {\r\n                            cssClass: \"billing-info-dropdownlist\",\r\n                            dataSource: countryDataArray,\r\n                            fields: { value: 'code', text: 'name'},\r\n                            placeholder: \"Country\",\r\n                            floatLabelType: 'Auto',\r\n                            value: 'NG',\r\n                            itemTemplate: '<span>${name}</span>',\r\n                            valueTemplate: '<span>${name}</span>'\r\n                        }).appendTo('#billing-info-country');\r\n\r\n                    // create the Country dropdown list from the select input\r\n                    new ej.dropdowns.DropDownList(\r\n                        {\r\n                            cssClass: \"billing-info-dropdownlist\",\r\n                            dataSource: countryDataArray.find(function(countryElement){\r\n                                return countryElement.code === \"NG\";\r\n                            }).states,\r\n                            fields: { value: 'code', text: 'name'},\r\n                            placeholder: \"State\",\r\n                            floatLabelType: 'Auto',\r\n                            itemTemplate: '<span>${name}</span>',\r\n                            valueTemplate: '<span>${name}</span>',\r\n                            select: async function () { // listen for when dropdown list value is changed by selection\r\n\r\n                                // handle method task in a different event block\r\n                                window.setTimeout(function(){\r\n                                    $('#billing-info-page #billing-info-form').get(0).\r\n                                        ej2_instances[$('#billing-info-state').get(0)._utopiasoftware_validator_index].close();\r\n                                    // call the method used to trigger the form validation\r\n                                    /*utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                    billingInfoPageViewModel.updateButtonClicked()*/\r\n                                }, 0);\r\n                            }\r\n                        }).appendTo('#billing-info-state');\r\n\r\n                    // display the billing info on the billing info form\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.displayContent();\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n                finally {\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // update cart count\r\n            $('#billing-info-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            //add listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.addEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                billingInfoPageViewModel.scrollAndResizeEventListener, false);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // hide the tooltips on the profile form\r\n            $('#billing-info-page #billing-info-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // reset all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidator.reset();\r\n\r\n            //remove listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.removeEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                billingInfoPageViewModel.scrollAndResizeEventListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the tooltips on the profile form\r\n            $('#billing-info-page #billing-info-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // destroy the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the Country & State DropDownLists\r\n            $('#billing-info-page #billing-info-country').get(0).ej2_instances[0].destroy();\r\n            $('#billing-info-page #billing-info-state').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the \"Cancel\" and \"Update\" buttons\r\n            $('#billing-info-page #billing-info-cancel').get(0).ej2_instances[0].destroy();\r\n            $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.billingInfoFormValidator.destroy();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the profile page is scrolled or the display window is resized by\r\n         * virtue of the device keyboard being displayed\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollAndResizeEventListener(){\r\n            // place function execution in the event queue to be executed ASAP\r\n            window.setTimeout(function(){\r\n                // adjust the tooltips elements on the profile form\r\n                $('#billing-info-form textarea, #billing-info-form ons-input, #billing-info-form #billing-info-country, #billing-info-form #billing-info-state').\r\n                each(function(index, element){\r\n                    document.getElementById('billing-info-form').ej2_instances[index].refresh(element);\r\n                });\r\n\r\n            }, 0);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Update\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async updateButtonClicked(){\r\n\r\n            // run the validation method for the billing-info form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.billingInfoPageViewModel.\r\n            billingInfoFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the billing-info form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async billingInfoFormValidated(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to update your billing address`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // disable the \"Update\" button\r\n            $('#billing-info-page #billing-info-update').attr(\"disabled\", true);\r\n            // show the spinner on the 'Update' button to indicate process is ongoing\r\n            $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].cssClass = '';\r\n            $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].dataBind();\r\n            $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].start();\r\n\r\n            // display page loader while completing the \"update profile\" request\r\n            $('#billing-info-page .modal').css(\"display\", \"table\");\r\n\r\n            var promisesArray = []; // holds the array for the promises used to complete the process\r\n\r\n            var promisesArrayPromise = null; // holds the promise gotten from the promisesArray\r\n\r\n            try{\r\n                // load the use details from the encrypted app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // temporary hold the user id and password\r\n                let userId = userDetails.id;\r\n                let userPassword = userDetails.password;\r\n\r\n                // check if user details has the billing property\r\n                if(!userDetails.billing){ // no billing property, so create it\r\n                    // create the billing property\r\n                    userDetails.billing = {};\r\n                }\r\n\r\n                // set the billing email to the email of the user\r\n                userDetails.billing.email = userDetails.email;\r\n\r\n                // use the input from the profile form to update the user details\r\n                userDetails.billing.company = $('#billing-info-page #billing-info-company').val().trim();\r\n                userDetails.billing.address_1 = $('#billing-info-page #billing-info-address-1').val().trim();\r\n                userDetails.billing.address_2 = $('#billing-info-page #billing-info-address-2').val().trim();\r\n                userDetails.billing.postcode = $('#billing-info-page #billing-info-postcode').val().trim();\r\n                userDetails.billing.city = $('#billing-info-page #billing-info-city').val().trim();\r\n                userDetails.billing.country = $('#billing-info-page #billing-info-country').get(0).ej2_instances[0].value;\r\n                userDetails.billing.state = $('#billing-info-page #billing-info-state').get(0).ej2_instances[0].value ?\r\n                    $('#billing-info-page #billing-info-state').get(0).ej2_instances[0].value : \"\";\r\n\r\n                // delete the properties not needed for the update from the userDetails object\r\n                delete userDetails.id;\r\n                delete userDetails.password;\r\n\r\n                // now send the user profile update request to the remote server\r\n                promisesArray.push(Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/customers/${userId}`,\r\n                        type: \"put\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(userDetails)\r\n                    }\r\n                )));\r\n\r\n                // get the promise created from the promisesArray\r\n                promisesArrayPromise = Promise.all(promisesArray);\r\n\r\n                // get the result from the promisesArray\r\n                let resultsArray = await promisesArrayPromise;\r\n\r\n                // add the user's password to the user details retrieved from the server\r\n                resultsArray[0].password = userPassword;\r\n\r\n                // save the created user details data to ENCRYPTED app database as cached data\r\n                await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                    {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: resultsArray[0]},\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'success-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User billing address updated`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n            }\r\n            catch (err) {\r\n                err = JSON.parse(err.responseText);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `User billing address update failed. ${err.message || \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally {\r\n                // enable the \"Update\" button\r\n                $('#billing-info-page #billing-info-update').removeAttr(\"disabled\");\r\n                // hide the spinner on the 'Update' button to indicate process is ongoing\r\n                $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].dataBind();\r\n                $('#billing-info-page #billing-info-update').get(0).ej2_instances[0].stop();\r\n\r\n                // hide page loader\r\n                $('#billing-info-page .modal').css(\"display\", \"none\");\r\n            }\r\n\r\n            return promisesArrayPromise; // return the resolved promisesArray\r\n\r\n        },\r\n\r\n        /**\r\n         * method is used to load the current billing info data into the billing info form\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayContent(){\r\n\r\n            try{\r\n                // load the user profile details from the app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // display the user billing info data in the billing info form\r\n                $('#billing-info-page #billing-info-form #billing-info-company').\r\n                val(userDetails.billing && userDetails.billing.company ? userDetails.billing.company : \"\");\r\n                $('#billing-info-page #billing-info-form #billing-info-address-1').\r\n                val(userDetails.billing && userDetails.billing.address_1 ? userDetails.billing.address_1 : \"\");\r\n                $('#billing-info-page #billing-info-form #billing-info-address-2').\r\n                val(userDetails.billing && userDetails.billing.address_2 ? userDetails.billing.address_2 : \"\");\r\n                $('#billing-info-page #billing-info-form #billing-info-postcode').\r\n                val(userDetails.billing && userDetails.billing.postcode ? userDetails.billing.postcode : \"\");\r\n                $('#billing-info-page #billing-info-form #billing-info-city').\r\n                val(userDetails.billing && userDetails.billing.city ? userDetails.billing.city : \"\");\r\n\r\n                // get the country dropdownlist\r\n                var countryDropDownList = $('#billing-info-page #billing-info-form #billing-info-country').get(0).ej2_instances[0];\r\n                // temporarily remove the select event listener for the country dropdownlist\r\n                countryDropDownList.removeEventListener(\"select\");\r\n                // update the select dropdownlist for country\r\n                countryDropDownList.value = (userDetails.billing && userDetails.billing.country && userDetails.billing.country !== \"\")\r\n                    ? userDetails.billing.country : 'NG';\r\n                countryDropDownList.dataBind();\r\n\r\n                // update the select dropdownlist for state\r\n                let statesDropDownList = $('#billing-info-page #billing-info-form #billing-info-state').get(0).ej2_instances[0];\r\n                statesDropDownList.dataSource = countryDropDownList.dataSource.find(function(countryElement){\r\n                    return countryElement.code === countryDropDownList.value;\r\n                }).states;\r\n                statesDropDownList.dataBind();\r\n                statesDropDownList.value = (userDetails.billing && userDetails.billing.state && userDetails.billing.state !== \"\")\r\n                    ? userDetails.billing.state : null;\r\n                statesDropDownList.dataBind();\r\n                // check if the state dropdownlist has a value\r\n                if(statesDropDownList.value){ // check if the state dropdownlist has a value\r\n                    statesDropDownList.enabled = true; // enable the state dropdownlist\r\n                    statesDropDownList.dataBind();\r\n                }\r\n                else if(countryDropDownList.value === 'NG'){ // if the country selected is nigeria\r\n                    statesDropDownList.enabled = true; // enable the state dropdownlist\r\n                    statesDropDownList.dataBind();\r\n                }\r\n                else { // the state dropdown has no value and the country selected is not nigeria\r\n                    statesDropDownList.enabled = false; // disable the state dropdownlist\r\n                    statesDropDownList.dataBind();\r\n                }\r\n\r\n            }\r\n            finally {\r\n                // hide page preloader\r\n                $('#billing-info-page .page-preloader').css(\"display\", \"none\");\r\n                // hide page modal loader\r\n                $('#billing-info-page .modal').css(\"display\", \"none\");\r\n                // enable the \"Update\" button\r\n                $('#billing-info-page #billing-info-update').removeAttr(\"disabled\");\r\n\r\n                // reinstate the country dropdownlist \"select\" listener in a separate event block\r\n                window.setTimeout(async function(){\r\n                    // reinstate the country dropdownlist \"select\" listener\r\n                    countryDropDownList.addEventListener(\"select\", async function () { // listen for when dropdown list value is changed by selection\r\n                        let countryDropDownList = this; // holds this dropdown list\r\n\r\n                        // execute the task in a separate event block\r\n                        window.setTimeout(async function(){\r\n                            // get the country object and its states that represents the country value selected\r\n                            let countryStatesArray = countryDropDownList.getDataByValue(countryDropDownList.value).states;\r\n                            // get the state dropdownlist\r\n                            let stateDropDownList = $('#billing-info-page #billing-info-form #billing-info-state').\r\n                            get(0).ej2_instances[0];\r\n                            // reset the selected value for the State\r\n                            stateDropDownList.value = null;\r\n                            // reset the dataSource for the State\r\n                            stateDropDownList.dataSource = countryStatesArray;\r\n\r\n                            if(countryStatesArray.length > 0 ){ // there are states in the selected country\r\n                                // enable the State dropdownlist for user selection\r\n                                stateDropDownList.enabled = true;\r\n                            }\r\n                            else{ // there are NO states in the selected country\r\n                                // disable the State dropdownlist for user selection\r\n                                stateDropDownList.enabled = false;\r\n                                // since the dropdownlist is disabled, remove any tooltip that is being displayed on this component\r\n                                $('#billing-info-page #billing-info-form').get(0).\r\n                                    ej2_instances[$('#billing-info-state').get(0)._utopiasoftware_validator_index].close();\r\n                            }\r\n\r\n                            // bind/update all changes made to the State dropdownlist\r\n                            stateDropDownList.dataBind();\r\n\r\n                        }, 0);\r\n                    });\r\n                }, 0);\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Shipping Info page\r\n     */\r\n    shippingInfoPageViewModel: {\r\n\r\n        /**\r\n         * used to hold the parsley form validation object for the shipping info form\r\n         */\r\n        shippingInfoFormValidator: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        shippingInfoPageViewModel.backButtonClicked;\r\n\r\n                // initialise the shipping info form validation\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidator =\r\n                    $('#shipping-info-page #shipping-info-form').parsley();\r\n\r\n                // initialise the custom validation for the shipping info 'country' field\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-country').parsley({\r\n                    value: function(parsley) {\r\n                        // return the value from the dropdownlist\r\n                        return $('#shipping-info-country').get(0).ej2_instances[0].value;\r\n                    }\r\n                });\r\n\r\n                // initialise the custom validation for the shipping info 'state' field\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-state').parsley({\r\n                    value: function(parsley) { // function returns a 'custom' value\r\n                        // get the State dropdownlist component\r\n                        let stateDropDownList = $('#shipping-info-state').get(0).ej2_instances[0];\r\n                        // check if the dropdownlist is enabled or not\r\n                        if(stateDropDownList.enabled !== true){ // dropdownlist is disabled\r\n                            return \" \"; // return an empty string\r\n                        }\r\n                        else{ // dropdownlist is enabled\r\n                            return stateDropDownList.value; // return the value from the dropdownlist\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // listen for shipping form field validation failure event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidator.\r\n                on('field:error', function(fieldInstance) {\r\n                    // get the element that triggered the field validation error and use it to display tooltip\r\n                    // display tooltip\r\n                    let tooltip = $('#shipping-info-page #shipping-info-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.content = fieldInstance.getErrorsMessages()[0];\r\n                    tooltip.dataBind();\r\n                    tooltip.open(fieldInstance.$element.get(0));\r\n                });\r\n\r\n                // listen for shipping info form field validation success event\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidator.\r\n                on('field:success', function(fieldInstance) {\r\n                    // hide tooltip from element\r\n                    let tooltip = $('#shipping-info-page #shipping-info-form').get(0).\r\n                        ej2_instances[fieldInstance.$element.get(0)._utopiasoftware_validator_index];\r\n                    tooltip.close();\r\n                });\r\n\r\n                // listen for shipping info form validation success\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidator.\r\n                on('form:success',\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidated);\r\n\r\n                // listen for scroll event on the page to adjust the tooltips when page scrolls\r\n                $('#shipping-info-page .content').on(\"scroll\", utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.shippingInfoPageViewModel.scrollAndResizeEventListener);\r\n\r\n\r\n                try{\r\n                    // create the \"Cancel\" button\r\n                    new ej.buttons.Button({\r\n                        //iconCss: \"zmdi zmdi-shopping-cart-add utopiasoftware-icon-zoom-one-point-two\",\r\n                        //iconPosition: \"Left\"\r\n                    }).appendTo('#shipping-info-cancel');\r\n\r\n                    // create the \"Update\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#shipping-info-update');\r\n\r\n                    let countryDataArray = []; // holds the array containing country objects\r\n\r\n                    // load the country data from the local list with the app\r\n                    countryDataArray = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: 'country-list.json',\r\n                            type: \"get\",\r\n                            //contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {}\r\n                        }\r\n                    ));\r\n\r\n                    // create the tooltip objects for the shipping info form\r\n                    $('#shipping-info-form textarea, #shipping-info-form ons-input, #shipping-info-form #shipping-info-country, #shipping-info-form #shipping-info-state', $thisPage).\r\n                    each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the html form object\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopLeft',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($('#shipping-info-page #shipping-info-form').get(0));\r\n                    });\r\n\r\n                    // create the Country dropdown list from the select input\r\n                    new ej.dropdowns.DropDownList(\r\n                        {\r\n                            cssClass: \"shipping-info-dropdownlist\",\r\n                            dataSource: countryDataArray,\r\n                            fields: { value: 'code', text: 'name'},\r\n                            placeholder: \"Country\",\r\n                            floatLabelType: 'Auto',\r\n                            value: 'NG',\r\n                            itemTemplate: '<span>${name}</span>',\r\n                            valueTemplate: '<span>${name}</span>'\r\n                        }).appendTo('#shipping-info-country');\r\n\r\n                    // create the Country dropdown list from the select input\r\n                    new ej.dropdowns.DropDownList(\r\n                        {\r\n                            cssClass: \"shipping-info-dropdownlist\",\r\n                            dataSource: countryDataArray.find(function(countryElement){\r\n                                return countryElement.code === \"NG\";\r\n                            }).states,\r\n                            fields: { value: 'code', text: 'name'},\r\n                            placeholder: \"State\",\r\n                            floatLabelType: 'Auto',\r\n                            itemTemplate: '<span>${name}</span>',\r\n                            valueTemplate: '<span>${name}</span>',\r\n                            select: async function () { // listen for when dropdown list value is changed by selection\r\n\r\n                                // handle method task in a different event block\r\n                                window.setTimeout(function(){\r\n                                    // since the dropdownlist value has changed, remove any tooltip that is being displayed on this component\r\n                                    $('#shipping-info-page #shipping-info-form').get(0).\r\n                                        ej2_instances[$('#shipping-info-state').get(0)._utopiasoftware_validator_index].close();\r\n                                }, 0);\r\n                            }\r\n                        }).appendTo('#shipping-info-state');\r\n\r\n                    // display the shipping info on the shipping info form\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.displayContent();\r\n                }\r\n                catch(err){\r\n\r\n                }\r\n                finally {\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // update cart count\r\n            $('#shipping-info-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            //add listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.addEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                shippingInfoPageViewModel.scrollAndResizeEventListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            // hide the tooltips on the profile form\r\n            $('#shipping-info-page #shipping-info-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n            // reset all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidator.reset();\r\n\r\n            //remove listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.removeEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                shippingInfoPageViewModel.scrollAndResizeEventListener, false);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the tooltips on the shipping form\r\n            $('#shipping-info-page #shipping-info-form').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // destroy the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // destroy the Country & State DropDownLists\r\n            $('#shipping-info-page #shipping-info-country').get(0).ej2_instances[0].destroy();\r\n            $('#shipping-info-page #shipping-info-state').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the \"Cancel\" and \"Update\" buttons\r\n            $('#shipping-info-page #shipping-info-cancel').get(0).ej2_instances[0].destroy();\r\n            $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy all form validator objects\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.shippingInfoFormValidator.destroy();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the profile page is scrolled or the display window is resized by\r\n         * virtue of the device keyboard being displayed\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollAndResizeEventListener(){\r\n            // place function execution in the event queue to be executed ASAP\r\n            window.setTimeout(function(){\r\n                // adjust the tooltips elements on the shipping form\r\n                $('#shipping-info-form textarea, #shipping-info-form ons-input, #shipping-info-form #shipping-info-country, #shipping-info-form #shipping-info-state').\r\n                each(function(index, element){\r\n                    document.getElementById('shipping-info-form').ej2_instances[index].refresh(element);\r\n                });\r\n\r\n            }, 0);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Update\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async updateButtonClicked(){\r\n\r\n            // run the validation method for the shipping-info form\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.shippingInfoPageViewModel.\r\n            shippingInfoFormValidator.whenValidate();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the shipping-info form is successfully validated\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async shippingInfoFormValidated(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to update shipping information`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // disable the \"Update\" button\r\n            $('#shipping-info-page #shipping-info-update').attr(\"disabled\", true);\r\n            // show the spinner on the 'Update' button to indicate process is ongoing\r\n            $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].cssClass = '';\r\n            $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].dataBind();\r\n            $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].start();\r\n\r\n            // display page loader while completing the \"update profile\" request\r\n            $('#shipping-info-page .modal').css(\"display\", \"table\");\r\n\r\n            var promisesArray = []; // holds the array for the promises used to complete the process\r\n\r\n            var promisesArrayPromise = null; // holds the promise gotten from the promisesArray\r\n\r\n            try{\r\n                // load the use details from the encrypted app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // temporary hold the user id and password\r\n                let userId = userDetails.id;\r\n                let userPassword = userDetails.password;\r\n\r\n                // check if user details has the shipping property\r\n                if(!userDetails.shipping){ // no shipping property, so create it\r\n                    // create the shipping property\r\n                    userDetails.shipping = {};\r\n                }\r\n\r\n                // use the input from the shipping form to update the user details\r\n                userDetails.shipping.first_name = $('#shipping-info-page #shipping-info-first-name').val().trim();\r\n                userDetails.shipping.last_name = $('#shipping-info-page #shipping-info-last-name').val().trim();\r\n                userDetails.shipping.company = $('#shipping-info-page #shipping-info-company').val().trim();\r\n                userDetails.shipping.address_1 = $('#shipping-info-page #shipping-info-address-1').val().trim();\r\n                userDetails.shipping.address_2 = $('#shipping-info-page #shipping-info-address-2').val().trim();\r\n                userDetails.shipping.postcode = $('#shipping-info-page #shipping-info-postcode').val().trim();\r\n                userDetails.shipping.city = $('#shipping-info-page #shipping-info-city').val().trim();\r\n                userDetails.shipping.country = $('#shipping-info-page #shipping-info-country').get(0).ej2_instances[0].value;\r\n                userDetails.shipping.state = $('#shipping-info-page #shipping-info-state').get(0).ej2_instances[0].value ?\r\n                    $('#shipping-info-page #shipping-info-state').get(0).ej2_instances[0].value : \"\";\r\n\r\n                // delete the properties not needed for the update from the userDetails object\r\n                delete userDetails.id;\r\n                delete userDetails.password;\r\n\r\n                // now send the user profile update request to the remote server\r\n                promisesArray.push(Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/customers/${userId}`,\r\n                        type: \"put\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(userDetails)\r\n                    }\r\n                )));\r\n\r\n                // get the promise created from the promisesArray\r\n                promisesArrayPromise = Promise.all(promisesArray);\r\n\r\n                // get the result from the promisesArray\r\n                let resultsArray = await promisesArrayPromise;\r\n\r\n                // add the user's password to the user details retrieved from the server\r\n                resultsArray[0].password = userPassword;\r\n\r\n                // save the created user details data to ENCRYPTED app database as cached data\r\n                await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.saveData(\r\n                    {_id: \"user-details\", docType: \"USER_DETAILS\", userDetails: resultsArray[0]},\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'success-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Shipping information updated`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n            }\r\n            catch (err) {\r\n                err = JSON.parse(err.responseText);\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Shipping information update failed. ${err.message || \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally {\r\n                // enable the \"Update\" button\r\n                $('#shipping-info-page #shipping-info-update').removeAttr(\"disabled\");\r\n                // hide the spinner on the 'Update' button to indicate process is ongoing\r\n                $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].dataBind();\r\n                $('#shipping-info-page #shipping-info-update').get(0).ej2_instances[0].stop();\r\n\r\n                // hide page loader\r\n                $('#shipping-info-page .modal').css(\"display\", \"none\");\r\n            }\r\n\r\n            return promisesArrayPromise; // return the resolved promisesArray\r\n\r\n        },\r\n\r\n        /**\r\n         * method is used to load the current shipping info data into the shipping info form\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayContent(){\r\n\r\n            try{\r\n                // load the user profile details from the app database\r\n                let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // display the user shipping info data in the shipping info form\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-first-name').\r\n                val(userDetails.shipping && userDetails.shipping.first_name ? userDetails.shipping.first_name : \"\");\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-last-name').\r\n                val(userDetails.shipping && userDetails.shipping.last_name ? userDetails.shipping.last_name : \"\");\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-company').\r\n                val(userDetails.shipping && userDetails.shipping.company ? userDetails.shipping.company : \"\");\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-address-1').\r\n                val(userDetails.shipping && userDetails.shipping.address_1 ? userDetails.shipping.address_1 : \"\");\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-address-2').\r\n                val(userDetails.shipping && userDetails.shipping.address_2 ? userDetails.shipping.address_2 : \"\");\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-postcode').\r\n                val(userDetails.shipping && userDetails.shipping.postcode ? userDetails.shipping.postcode : \"\");\r\n                $('#shipping-info-page #shipping-info-form #shipping-info-city').\r\n                val(userDetails.shipping && userDetails.shipping.city ? userDetails.shipping.city : \"\");\r\n\r\n                // get the country dropdownlist\r\n                var countryDropDownList = $('#shipping-info-page #shipping-info-form #shipping-info-country').get(0).ej2_instances[0];\r\n                // temporarily remove the select event listener for the country dropdownlist\r\n                countryDropDownList.removeEventListener(\"select\");\r\n                // update the select dropdownlist for country\r\n                countryDropDownList.value = (userDetails.shipping && userDetails.shipping.country && userDetails.shipping.country !== \"\")\r\n                    ? userDetails.shipping.country : 'NG';\r\n                countryDropDownList.dataBind();\r\n\r\n                // update the select dropdownlist for state\r\n                let statesDropDownList = $('#shipping-info-page #shipping-info-form #shipping-info-state').get(0).ej2_instances[0];\r\n                statesDropDownList.dataSource = countryDropDownList.dataSource.find(function(countryElement){\r\n                    return countryElement.code === countryDropDownList.value;\r\n                }).states;\r\n                statesDropDownList.dataBind();\r\n                statesDropDownList.value = (userDetails.shipping && userDetails.shipping.state && userDetails.shipping.state !== \"\")\r\n                    ? userDetails.shipping.state : null;\r\n                statesDropDownList.dataBind();\r\n                // check if the state dropdownlist has a value\r\n                if(statesDropDownList.value){ // check if the state dropdownlist has a value\r\n                    statesDropDownList.enabled = true; // enable the state dropdownlist\r\n                    statesDropDownList.dataBind();\r\n                }\r\n                else if(countryDropDownList.value === 'NG'){ // if the country selected is nigeria\r\n                    statesDropDownList.enabled = true; // enable the state dropdownlist\r\n                    statesDropDownList.dataBind();\r\n                }\r\n                else { // the state dropdown has no value and the country selected is not nigeria\r\n                    statesDropDownList.enabled = false; // disable the state dropdownlist\r\n                    statesDropDownList.dataBind();\r\n                }\r\n\r\n            }\r\n            finally {\r\n                // hide page preloader\r\n                $('#shipping-info-page .page-preloader').css(\"display\", \"none\");\r\n                // hide page modal loader\r\n                $('#shipping-info-page .modal').css(\"display\", \"none\");\r\n                // enable the \"Update\" button\r\n                $('#shipping-info-page #shipping-info-update').removeAttr(\"disabled\");\r\n\r\n                // reinstate the country dropdownlist \"select\" listener in a separate event block\r\n                window.setTimeout(async function(){\r\n                    // reinstate the country dropdownlist \"select\" listener\r\n                    countryDropDownList.addEventListener(\"select\", async function () { // listen for when dropdown list value is changed by selection\r\n                        let countryDropDownList = this; // holds this dropdown list\r\n\r\n                        // execute the task in a separate event block\r\n                        window.setTimeout(async function(){\r\n                            // get the country object and its states that represents the country value selected\r\n                            let countryStatesArray = countryDropDownList.getDataByValue(countryDropDownList.value).states;\r\n                            // get the state dropdownlist\r\n                            let stateDropDownList = $('#shipping-info-page #shipping-info-form #shipping-info-state').\r\n                            get(0).ej2_instances[0];\r\n                            // reset the selected value for the State\r\n                            stateDropDownList.value = null;\r\n                            // reset the dataSource for the State\r\n                            stateDropDownList.dataSource = countryStatesArray;\r\n\r\n                            if(countryStatesArray.length > 0 ){ // there are states in the selected country\r\n                                // enable the State dropdownlist for user selection\r\n                                stateDropDownList.enabled = true;\r\n                            }\r\n                            else{ // there are NO states in the selected country\r\n                                // disable the State dropdownlist for user selection\r\n                                stateDropDownList.enabled = false;\r\n                                // since the dropdownlist is disabled, remove any tooltip that is being displayed on this component\r\n                                $('#shipping-info-page #shipping-info-form').get(0).\r\n                                    ej2_instances[$('#shipping-info-state').get(0)._utopiasoftware_validator_index].close();\r\n                            }\r\n\r\n                            // bind/update all changes made to the State dropdownlist\r\n                            stateDropDownList.dataBind();\r\n\r\n                        }, 0);\r\n                    });\r\n                }, 0);\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Checkout page\r\n     */\r\n    checkoutPageViewModel: {\r\n\r\n\r\n        /**\r\n         * holds the user's Order object which will be sent to the server\r\n         */\r\n        chekoutOrder : null,\r\n\r\n        /**\r\n         * holds the array/list of countries where the user's shipping address can be located\r\n         */\r\n        countryArray: [],\r\n\r\n        /**\r\n         * holds the array/list of shipping zones where an order can be delivered\r\n         */\r\n        shoppingZonesArray: [],\r\n\r\n        /**\r\n         * flag whether to update the billing details for the\r\n         * checkout order data using the billing details of the current user\r\n         */\r\n        updateOrderBillingDetails: false,\r\n\r\n        /**\r\n         * flag whether to update the shipping details for the\r\n         * checkout order data using the shipping details of the current user\r\n         */\r\n        updateOrderShippingDetails: false,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        checkoutPageViewModel.backButtonClicked;\r\n\r\n                // listen for scroll event on the page to adjust the tooltips when page scrolls\r\n                $('#checkout-page .content').on(\"scroll\", utopiasoftware[utopiasoftware_app_namespace].\r\n                    controller.checkoutPageViewModel.scrollAndResizeEventListener);\r\n\r\n                // set the order object to be used by this page\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder =\r\n                $('#app-main-navigator').get(0).topPage.data.orderData;\r\n\r\n                try{\r\n\r\n                    // create the accorodion ej2 component used on the \"Checkout\" page\r\n                    new ej.navigations.Accordion({\r\n                        expandMode: 'Single',\r\n                        expanded: utopiasoftware[utopiasoftware_app_namespace].\r\n                            controller.checkoutPageViewModel.scrollAndResizeEventListener\r\n                    }).appendTo('#checkout-accordion');\r\n\r\n                    // create the Shipping method dropdown list from the select input\r\n                    new ej.dropdowns.DropDownList(\r\n                        {\r\n                            cssClass: \"shipping-method-dropdownlist\",\r\n                            dataSource: [],\r\n                            fields: { value: 'method_id', text: 'title'},\r\n                            placeholder: \"Shipping Method\",\r\n                            floatLabelType: 'Auto',\r\n                            enabled: false,\r\n                            itemTemplate: '<span>${title}</span>',\r\n                            valueTemplate: '<span>${title}</span>'\r\n                        }).appendTo('#checkout-shipping-method-type');\r\n\r\n                    // create the payment method dropdown list from the select input\r\n                    new ej.dropdowns.DropDownList(\r\n                        {\r\n                            cssClass: \"payment-method-dropdownlist\",\r\n                            dataSource: [],\r\n                            fields: { value: 'id', text: 'title'},\r\n                            placeholder: \"Payment Method\",\r\n                            floatLabelType: 'Auto',\r\n                            enabled: false,\r\n                            itemTemplate: '<span>${title}</span>',\r\n                            valueTemplate: '<span>${title}</span>'\r\n                        }).appendTo('#checkout-payment-method-type');\r\n\r\n                    // create the payment voucher multiselect dropdown list from the select input\r\n                    new ej.dropdowns.MultiSelect(\r\n                        {\r\n                            cssClass: \"payment-voucher-dropdownlist\",\r\n                            dataSource: [],\r\n                            //fields: { value: 'id', text: 'method_title'},\r\n                            placeholder: \"Payment Coupons\",\r\n                            floatLabelType: 'Auto',\r\n                            mode: \"Box\",\r\n                            showClearButton: false,\r\n                            showDropDownIcon: false,\r\n                            enabled: false\r\n                        }).appendTo('#checkout-payment-vouchers');\r\n\r\n                    // create the \"Make Payment\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#checkout-make-payment');\r\n\r\n                    // create the tooltips for the checkout page\r\n                    $('.utopiasoftware-checkout-failure', $thisPage).\r\n                    each(function(index, element){\r\n                        element._utopiasoftware_validator_index = index;\r\n                        // create the tool tips for every element being validated, but attach it to the page element\r\n                        new ej.popups.Tooltip({\r\n                            cssClass: 'utopiasoftware-ej2-validation-tooltip',\r\n                            position: 'TopCenter',\r\n                            opensOn: 'Custom'\r\n                        }).appendTo($thisPage.get(0));\r\n                    });\r\n\r\n                    //load the remote list of payment methods, list of shipping zones & local list of\r\n                    // countries for the app; create a remote user cart containing the current checkout order for the user\r\n                    let promisesArray = []; // holds all created promises\r\n\r\n                    promisesArray.push(Promise.resolve($.ajax( // load the list of payment gateways\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/payment_gateways`,\r\n                            type: \"get\",\r\n                            //contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {}\r\n                        }\r\n                    )));\r\n                    promisesArray.push(Promise.resolve($.ajax( // load the list of shipping zones\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v3/shipping/zones`,\r\n                            type: \"get\",\r\n                            //contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {}\r\n                        }\r\n                    )));\r\n                    promisesArray.push(Promise.resolve($.ajax( // load the list of available countries\r\n                        {\r\n                            url: 'country-list.json',\r\n                            type: \"get\",\r\n                            //contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {}\r\n                        }\r\n                    )));\r\n                    // create the user remote cart\r\n                    promisesArray.push(utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    checkoutPageViewModel.createRemoteCartFromOrder());\r\n\r\n                    // wait for all promises to resolve\r\n                    promisesArray = await Promise.all(promisesArray);\r\n\r\n                    // filter only pay method that are enabled\r\n                    promisesArray[0] = promisesArray[0].filter(function(paymentElem){\r\n                        return paymentElem.enabled === true;\r\n                    });\r\n\r\n                    // assign the payment method array as the dataSource for the payment method dropdownlist\r\n                    $('#checkout-payment-method-type').get(0).ej2_instances[0].dataSource = promisesArray[0];\r\n                    $('#checkout-payment-method-type').get(0).ej2_instances[0].dataBind();\r\n\r\n                    //store the list of shipping zones as a view-model property\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        checkoutPageViewModel.shoppingZonesArray = promisesArray[1];\r\n\r\n                    //store the list of countries as a view-model property\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        checkoutPageViewModel.countryArray = promisesArray[2];\r\n\r\n                }\r\n                catch(err){\r\n                    // get back to the previous page on the app-main navigator stack\r\n                    await $('#app-main-navigator').get(0).popPage();\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3500;\r\n                    if(err === \"fatal error\"){ // if error is flagged as a fatal error\r\n                        toast.content = `A serious error occurred. Please resign into your account`;\r\n                    }\r\n                    else{\r\n                        toast.content = `Error preparing checkout. Please retry`;\r\n                    }\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide page preloader\r\n                    $('#checkout-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide page modal loader\r\n                    $('#checkout-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: async function(){\r\n            // check if the payment method element exists on page\r\n            if($('#checkout-page #checkout-payment-method-type').length == 0){ // if length is zero, element does not exist\r\n                return; // exit the method\r\n            }\r\n\r\n            // get payment method dropdownlist component\r\n            var paymentMethodDropDown = $('#checkout-payment-method-type').get(0).ej2_instances[0];\r\n\r\n            // check if the datasource for the payment method has been set\r\n            if(paymentMethodDropDown.dataSource.length == 0){ // datasource for the payment method dropdownlist has not been set\r\n                // re-execute this method again after some time\r\n                window.setTimeout(utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    checkoutPageViewModel.pageShow, 500);\r\n\r\n                return;\r\n            }\r\n\r\n            window.SoftInputMode.set('adjustResize'); // adjust device input mode\r\n\r\n            //add listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.addEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                checkoutPageViewModel.scrollAndResizeEventListener, false);\r\n\r\n            // show page preloader\r\n            $('#checkout-page .page-preloader').css(\"display\", \"block\");\r\n            // show page modal loader\r\n            $('#checkout-page .modal').css(\"display\", \"table\");\r\n\r\n\r\n            try{\r\n                // display the content of the checkout page\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    checkoutPageViewModel.displayContent();\r\n            }\r\n            catch(err){\r\n                // hide page preloader\r\n                $('#checkout-page .page-preloader').css(\"display\", \"none\");\r\n                // hide page modal loader\r\n                $('#checkout-page .modal').css(\"display\", \"none\");\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast message\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Checkout error. Please retry`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n\r\n            try{\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                checkoutPageViewModel.validateOrderCheckout();\r\n            }\r\n            catch(err){\r\n\r\n            }\r\n            finally {\r\n                // hide page preloader\r\n                $('#checkout-page .page-preloader').css(\"display\", \"none\");\r\n                // hide page modal loader\r\n                $('#checkout-page .modal').css(\"display\", \"none\");\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n            //add listener for when the window is resized by virtue of the device keyboard being shown\r\n            window.removeEventListener(\"resize\", utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                checkoutPageViewModel.scrollAndResizeEventListener, false);\r\n\r\n\r\n            // close the tooltips on the page\r\n            $('#checkout-page').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // hide the tooltip\r\n                tooltipArrayElem.close();\r\n            });\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the shipping method dropdownlist\r\n            $('#checkout-page #checkout-shipping-method-type').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the payment method dropdownlist\r\n            $('#checkout-page #checkout-payment-method-type').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the payment voucher multiselect dropdownlist\r\n            $('#checkout-page #checkout-payment-vouchers').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the \"Make Payment\"\r\n            $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the page accordion\r\n            $('#checkout-page #checkout-accordion').get(0).ej2_instances[0].destroy();\r\n\r\n            // destroy the tooltips on the page\r\n            $('#checkout-page').get(0).ej2_instances.forEach(function(tooltipArrayElem){\r\n                // destroy the tooltip\r\n                tooltipArrayElem.destroy();\r\n            });\r\n\r\n            // reset the view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder = null;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.countryArray = [];\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.shoppingZonesArray = [];\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                updateOrderBillingDetails = false;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                updateOrderShippingDetails = false;\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the page is scrolled or the display window is resized by\r\n         * virtue of the device keyboard being displayed\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async scrollAndResizeEventListener(){\r\n            // place function execution in the event queue to be executed ASAP\r\n            window.setTimeout(function(){\r\n                // adjust the tooltips elements on the checkout page\r\n                $('#checkout-page .utopiasoftware-checkout-failure').\r\n                each(function(index, element){\r\n                    document.getElementById('checkout-page').ej2_instances[index].refresh(element);\r\n                });\r\n\r\n            }, 0);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Edit\" button for the personal details is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async editPersonalDetailsButtonClicked(){\r\n\r\n            // check if the profile page has previously been displayed in the app-main navigator\r\n            var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n            var indexOfPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                // test if the page is the profile page\r\n                return $(pagesStackArray[pageIndex]).get(0).id === \"profile-page\";\r\n            });\r\n\r\n            // check if the profile page was found in the app-main navigator stack\r\n            if(indexOfPage > -1){ // profile page was found\r\n                // remove the profile page from the app-main navigator before re-displaying it\r\n                await $('#app-main-navigator').get(0).removePage(indexOfPage);\r\n            }\r\n            // display the profile page\r\n            $('#app-main-navigator').get(0).pushPage('profile-page.html');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Edit\" button for the billing details is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async editBillingDetailsButtonClicked(){\r\n            // set the update billing details flag to true\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                updateOrderBillingDetails = true;\r\n\r\n            // check if the billing-info page has previously been displayed in the app-main navigator\r\n            var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n            var indexOfPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                // test if the page is the billing-info page\r\n                return $(pagesStackArray[pageIndex]).get(0).id === \"billing-info-page\";\r\n            });\r\n\r\n            // check if the billing-info page was found in the app-main navigator stack\r\n            if(indexOfPage > -1){ // billing-info page was found\r\n                // remove the billing-info page from the app-main navigator before re-displaying it\r\n                await $('#app-main-navigator').get(0).removePage(indexOfPage);\r\n            }\r\n            // display the billing details page\r\n            $('#app-main-navigator').get(0).pushPage('billing-info-page.html');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Edit\" button for the shipping details is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async editShippingDetailsButtonClicked(){\r\n            // set the update shipping details flag to true\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                updateOrderShippingDetails = true;\r\n\r\n            // check if the shipping-info page has previously been displayed in the app-main navigator\r\n            var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n            var indexOfPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                // test if the page is the shipping-info page\r\n                return $(pagesStackArray[pageIndex]).get(0).id === \"shipping-info-page\";\r\n            });\r\n\r\n            // check if the shipping-info page was found in the app-main navigator stack\r\n            if(indexOfPage > -1){ // shipping-info page was found\r\n                // remove the shipping-info page from the app-main navigator before re-displaying it\r\n                await $('#app-main-navigator').get(0).removePage(indexOfPage);\r\n            }\r\n            // display the shipping details page\r\n            $('#app-main-navigator').get(0).pushPage('shipping-info-page.html');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Edit\" button for the shipping method is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async editShippingMethodButtonClicked(){\r\n\r\n            // handle the task in a separate event block\r\n            window.setTimeout(function(){\r\n                // enable the shipping method dropdownlist\r\n                let shippingMethodDropdownList = $('#checkout-page #checkout-shipping-method-type').get(0).ej2_instances[0];\r\n                shippingMethodDropdownList.enabled = true;\r\n                shippingMethodDropdownList.dataBind();\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Edit\" button for the payment method is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async editPaymentMethodButtonClicked(){\r\n\r\n            // handle the task in a separate event block\r\n            window.setTimeout(function(){\r\n                // enable the payment method dropdownlist\r\n                let paymentMethodDropdownList = $('#checkout-page #checkout-payment-method-type').get(0).ej2_instances[0];\r\n                paymentMethodDropdownList.enabled = true;\r\n                paymentMethodDropdownList.dataBind();\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggerd when  the \"Apply\" coupon button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async applyCouponButtonClicked(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to apply coupon`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            try{\r\n                // show the page loader modal\r\n                $('#checkout-page .modal').css(\"display\", \"table\");\r\n\r\n                // check if user has entered any  coupon code\r\n                if($('#checkout-page #checkout-payment-voucher-code').val().trim() === \"\"){ // no coupon code entered\r\n                    throw \"error - no coupon code provided\"; // throw error\r\n                }\r\n\r\n                // check if the coupon is valid or not\r\n                let couponsArray = await Promise.resolve($.ajax( // load the list of shipping zones\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                            `/wp-json/wc/v3/coupons`,\r\n                        type: \"get\",\r\n                        //contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: true,\r\n                        data: {code: $('#checkout-page #checkout-payment-voucher-code').val().trim()}\r\n                    }\r\n                ));\r\n\r\n                // check if any coupons were found\r\n                if(couponsArray.length == 0){ // no coupons were found\r\n                    throw \"error - no coupon found\";\r\n                }\r\n\r\n                // get a local/deep-clone copy of the page's checkout order object\r\n                let localOrderObject = JSON.parse(JSON.\r\n                stringify(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder));\r\n                // update the coupons for the local order object to be sent to the server\r\n                localOrderObject.coupon_lines = localOrderObject.coupon_lines.map(function(couponElem){\r\n                    return {code: couponElem.code};\r\n                });\r\n                localOrderObject.coupon_lines.push({code: couponsArray[0].code}); // add the new coupon\r\n\r\n                // update the checkout order data on the remote server\r\n                localOrderObject = await Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                            `/wp-json/wc/v3/orders/${localOrderObject.id}`,\r\n                        type: \"put\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(localOrderObject)\r\n                    }\r\n                ));\r\n\r\n                // update the page checkout order with the updated order from the server\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                    chekoutOrder = localOrderObject;\r\n\r\n                // clear the coupon code entered into the coupon/voucher input\r\n                $('#checkout-page #checkout-payment-voucher-code').val(\"\");\r\n\r\n                // redisplay the page (redisplaying the page also hides the page loader when the process is complete)\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.pageShow();\r\n            }\r\n            catch(err){\r\n\r\n                // hide the page loader modal\r\n                $('#checkout-page .modal').css(\"display\", \"none\");\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Coupon not applied. Invalid coupon code`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggerd when  the \"Add\" note button is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async addNoteButtonClicked(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to add shipping notes to the order`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            try{\r\n\r\n                // show page loader\r\n                $('#checkout-page .modal').css(\"display\", \"table\");\r\n\r\n                // get a local/deep-clone copy of the page's checkout order object\r\n                let localOrderObject = JSON.parse(JSON.\r\n                stringify(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder));\r\n                // update the customer note for the local order object to be sent to the server\r\n                localOrderObject.customer_note = $('#checkout-page #checkout-payment-order-note-text').val().trim();\r\n                // update the coupons for the local order object to be sent to the server\r\n                localOrderObject.coupon_lines = localOrderObject.coupon_lines.map(function(couponElem){\r\n                    return {code: couponElem.code};\r\n                });\r\n\r\n                // update the checkout order data on the remote server\r\n                localOrderObject = await Promise.resolve($.ajax(\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                            `/wp-json/wc/v3/orders/${localOrderObject.id}`,\r\n                        type: \"put\",\r\n                        contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: false,\r\n                        data: JSON.stringify(localOrderObject)\r\n                    }\r\n                ));\r\n\r\n                // update the page checkout order with the updated order from the server\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                    chekoutOrder = localOrderObject;\r\n\r\n                // clear the coupon code entered into the coupon/voucher input\r\n                $('#checkout-page #checkout-payment-order-note-text').val(\"\");\r\n\r\n                // redisplay the page (redisplaying the page also hides the page loader when the process is complete)\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.pageShow();\r\n            }\r\n            catch(err){\r\n\r\n                // hide the page loader modal\r\n                $('#checkout-page .modal').css(\"display\", \"none\");\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Shipping note could not added. Please retry`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Make Payment\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async makePaymentButtonClicked(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to make payment`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                // enable the \"Make Payment\" button\r\n                $('#checkout-page #checkout-make-payment').removeAttr(\"disabled\");\r\n                // hide the spinner from the 'Make Payment'\r\n                $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].dataBind();\r\n                $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].stop();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // check what payment method is being used\r\n            if(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                chekoutOrder.payment_method === \"paystack\"){ // user selected the paystack (Pay With Card)\r\n\r\n                // disable the \"Make Payment\" button\r\n                $('#checkout-page #checkout-make-payment').attr(\"disabled\", true);\r\n\r\n                // inform the user that payment gateway is being prepared\r\n                $('#loader-modal-message').html(\"Preparing Payment Channel...\");\r\n                $('#loader-modal').get(0).show(); // show loader\r\n\r\n                try{\r\n                    // load the user profile details from the app database\r\n                    var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"user-details\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                    // initialise a paystack (payment) transaction\r\n                    let payStackResponse = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: `https://api.paystack.co/transaction/initialize`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Bearer \" +\r\n                                    Base64.decode(utopiasoftware[utopiasoftware_app_namespace].paystackAccessor));\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify({email: userDetails.email,\r\n                            amount: \"\" + (kendo.parseFloat(utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                checkoutPageViewModel.chekoutOrder.total) * 100),\r\n                                callback_url: \"https://shopoakexclusive.com/\"})\r\n                        }\r\n                    ));\r\n\r\n                    if(payStackResponse.status === true){ // request for transaction initialisation was successful\r\n                        // open inapp browser for user to make payment (using the authorization_url from payStack response)\r\n                        let transactionCompletedUrl = await new Promise(function(resolve, reject){\r\n                            // create/open inapp browser\r\n                            let transactionInAppBrowser =\r\n                                cordova.InAppBrowser.open(window.encodeURI(payStackResponse.data.authorization_url), '_blank',\r\n                                    'location=yes,clearcache=yes,clearsessioncache=yes,closebuttoncolor=#ffffff,hardwareback=no,hidenavigationbuttons=yes,hideurlbar=no,zoom=no,toolbarcolor=#3f51b5');\r\n\r\n                            // add event listeners for the transaction inapp browswer\r\n                            transactionInAppBrowser.addEventListener(\"loadstart\", function(loadStartEvent){\r\n\r\n                                // check which url is being loaded\r\n                                if(loadStartEvent.url.startsWith(\"https://shopoakexclusive.com/\")){ // transaction was completed\r\n                                    // set a flag to indicate that the transaction was completed\r\n                                    transactionInAppBrowser._utopiasoftware_transaction_completed = true;\r\n                                    // retrieve the full transaction completed url\r\n                                    transactionInAppBrowser._utopiasoftware_transaction_completed_url = loadStartEvent.url;\r\n                                    // exit/close the inapp browser\r\n                                    transactionInAppBrowser.close();\r\n                                }\r\n                            });\r\n                            transactionInAppBrowser.addEventListener(\"loaderror\", function(loadErrorEvent){\r\n                                // there is an error loading the transaction page, so exit/close inapp browser\r\n                                transactionInAppBrowser.close();\r\n                            });\r\n                            transactionInAppBrowser.addEventListener(\"exit\", function(exitEvent){\r\n                                // check if the transaction was completed or not\r\n                                if(transactionInAppBrowser._utopiasoftware_transaction_completed === true){ // transaction completed\r\n                                    // resolve parent promise\r\n                                    resolve(transactionInAppBrowser._utopiasoftware_transaction_completed_url);\r\n                                }\r\n                                else{ // transaction was not completed\r\n                                    reject(); // reject parent promise\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        // get the search parameters object from the transaction completed url\r\n                        let searchParams = new URLSearchParams(transactionCompletedUrl.split(\"?\")[1]);\r\n                        // get the 'reference' search parameter value\r\n                        let completedTransactionReference = searchParams.get(\"reference\");\r\n\r\n                        // check if the transaction reference query parameter exist\r\n                        if(!completedTransactionReference || completedTransactionReference === \"\"){ // IT DOES NOT EXIST\r\n                            throw \"error\"; // throw an error\r\n                        }\r\n\r\n                        // inform the user that their order is being placed\r\n                        $('#loader-modal-message').html(\"Completing Order Placement...\");\r\n\r\n                        // get a local/deep-clone copy of the page's checkout order object\r\n                        let localOrderObject = JSON.parse(JSON.\r\n                        stringify(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder));\r\n                        // update the order status (by setting the order paid flag) and transaction reference\r\n                        localOrderObject.transaction_id = completedTransactionReference;\r\n                        localOrderObject.set_paid = true;\r\n                        // update the coupons for the local order object to be sent to the server\r\n                        localOrderObject.coupon_lines = localOrderObject.coupon_lines.map(function(couponElem){\r\n                            return {code: couponElem.code};\r\n                        });\r\n\r\n                        // update the checkout order data on the remote server\r\n                        localOrderObject = await Promise.resolve($.ajax(\r\n                            {\r\n                                url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                    `/wp-json/wc/v3/orders/${localOrderObject.id}`,\r\n                                type: \"put\",\r\n                                contentType: \"application/json\",\r\n                                beforeSend: function(jqxhr) {\r\n                                    jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                        utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                },\r\n                                dataType: \"json\",\r\n                                timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                processData: false,\r\n                                data: JSON.stringify(localOrderObject)\r\n                            }\r\n                        ));\r\n\r\n                        try{\r\n                            // delete user cart data\r\n                            await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                            removeData(\"user-cart\",\r\n                                utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n                        }\r\n                        catch(err){}\r\n\r\n\r\n                        // update the checkout-order-placement-modal with the checkout order number\r\n                        $('#checkout-order-placement-modal .order-number').html(localOrderObject.number);\r\n\r\n                        // add the click handler for the 'checkout-order-placement-modal-ok-button'\r\n                        $('#checkout-order-placement-modal #checkout-order-placement-modal-ok-button').get(0).\r\n                            onclick = async function(){\r\n                            // reload the app main page\r\n                            await $('ons-splitter').get(0).content.load(\"app-main-template\");\r\n                            // hide the 'checkout-order-placement-modal'\r\n                            await $('#checkout-order-placement-modal').get(0).hide();\r\n                        };\r\n\r\n                        // show the 'checkout-order-placement-modal'\r\n                        await $('#checkout-order-placement-modal').get(0).show();\r\n\r\n\r\n                    }\r\n                    else{ // request for transaction initialisation was NOT successful\r\n                        throw \"error\";\r\n                    }\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3500;\r\n                    toast.content = `Error making payment for this order. Try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{\r\n                    // enable the \"Make Payment\" button\r\n                    $('#checkout-page #checkout-make-payment').removeAttr(\"disabled\");\r\n                    // hide the spinner from the 'Make Payment'\r\n                    $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                    $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].dataBind();\r\n                    $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].stop();\r\n\r\n                    // hide loader\r\n                    $('#loader-modal').get(0).hide();\r\n                }\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            if(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                chekoutOrder.payment_method === \"cod\"){ // user selected the cod (Cash on Delivery)\r\n\r\n                // disable the \"Make Payment\" button\r\n                $('#checkout-page #checkout-make-payment').attr(\"disabled\", true);\r\n\r\n                // inform the user that their order is being placed\r\n                $('#loader-modal-message').html(\"Completing Order Placement...\");\r\n                await $('#loader-modal').get(0).show(); // show loader\r\n\r\n                try{\r\n\r\n                    // get a local/deep-clone copy of the page's checkout order object\r\n                    let localOrderObject = JSON.parse(JSON.\r\n                    stringify(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder));\r\n                    // update the order status to \"processing\"\r\n                    localOrderObject.status = \"processing\";\r\n                    // update the coupons for the local order object to be sent to the server\r\n                    localOrderObject.coupon_lines = localOrderObject.coupon_lines.map(function(couponElem){\r\n                        return {code: couponElem.code};\r\n                    });\r\n\r\n                    // update the checkout order data on the remote server\r\n                    localOrderObject = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/orders/${localOrderObject.id}`,\r\n                            type: \"put\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify(localOrderObject)\r\n                        }\r\n                    ));\r\n\r\n                    try{\r\n                        // delete user cart data\r\n                        await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        removeData(\"user-cart\",\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.appDatabase);\r\n                    }\r\n                    catch(err){}\r\n\r\n\r\n                    // update the checkout-order-placement-modal with the checkout order number\r\n                    $('#checkout-order-placement-modal .order-number').html(localOrderObject.number);\r\n\r\n                    // add the click handler for the 'checkout-order-placement-modal-ok-button'\r\n                    $('#checkout-order-placement-modal #checkout-order-placement-modal-ok-button').get(0).\r\n                        onclick = async function(){\r\n                        // reload the app main page\r\n                        await $('ons-splitter').get(0).content.load(\"app-main-template\");\r\n                        // hide the 'checkout-order-placement-modal'\r\n                        await $('#checkout-order-placement-modal').get(0).hide();\r\n                    };\r\n\r\n                    // show the 'checkout-order-placement-modal'\r\n                    await $('#checkout-order-placement-modal').get(0).show();\r\n\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3500;\r\n                    toast.content = `Error placing this order. Try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally{\r\n                    // enable the \"Make Payment\" button\r\n                    $('#checkout-page #checkout-make-payment').removeAttr(\"disabled\");\r\n                    // hide the spinner from the 'Make Payment'\r\n                    $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                    $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].dataBind();\r\n                    $('#checkout-page #checkout-make-payment').get(0).ej2_instances[0].stop();\r\n\r\n                    // hide loader\r\n                    $('#loader-modal').get(0).hide();\r\n                }\r\n\r\n                return; // exit method\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is used to load the current checkout/order data into the page\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayContent(){\r\n\r\n            try{\r\n                // load the user profile details from the app database\r\n                var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                // check if the checkout order billing data should be updated with the current user's billing\r\n                if(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                    updateOrderBillingDetails === true){ // billing data should be updated\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder.billing =\r\n                        userDetails.billing;\r\n                    // reset the flag\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                        updateOrderBillingDetails = false;\r\n                }\r\n\r\n                // check if the checkout order shipping data should be updated with the current user's shipping\r\n                if(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                    updateOrderShippingDetails === true){ // shipping data should be updated\r\n                    // updatte the shipping data\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder.shipping =\r\n                        userDetails.shipping;\r\n                    // reset the shipping method to 'nothing' (to ensure the user chooses a shipping method for their new\r\n                    // shipping address)\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder.\r\n                        shipping_lines[0] = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                                checkoutPageViewModel.chekoutOrder.shipping_lines[0] || {};\r\n                    Object.assign(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                                                    chekoutOrder.shipping_lines[0],\r\n                            {method_id: \"\", method_title: \"\", instance_id: \"\" });\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder.\r\n                        shipping_lines[0].total = \"\";\r\n\r\n                    // reset the flag\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                        updateOrderShippingDetails = false;\r\n                }\r\n\r\n                // get the order object set on this page\r\n                let orderData = utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder;\r\n\r\n                // display the checkout data\r\n                $('#checkout-page #checkout-personal-details-email').html(userDetails.email);\r\n                $('#checkout-page #checkout-personal-details-first-name').html(userDetails.first_name);\r\n                $('#checkout-page #checkout-personal-details-last-name').html(userDetails.last_name);\r\n\r\n                $('#checkout-page #checkout-billing-information-address').html(orderData.billing.address_1);\r\n                $('#checkout-page #checkout-billing-information-city').html(orderData.billing.city);\r\n\r\n                $('#checkout-page #checkout-shipping-information-first-name').html(orderData.shipping.first_name);\r\n                $('#checkout-page #checkout-shipping-information-last-name').html(orderData.shipping.last_name);\r\n                $('#checkout-page #checkout-shipping-information-address').html(orderData.shipping.address_1);\r\n                $('#checkout-page #checkout-shipping-information-city').html(orderData.shipping.city);\r\n\r\n                // get the shipping zone the of the user by checking the user's shipping country\r\n                let shippingCountryCode =  orderData.shipping.country == \"\" ? 'NG': orderData.shipping.country;\r\n                let shippingZoneId = 0; // set the shipping zone id to the default i.e. 'Rest of the world'\r\n                // find the country with the specified country code\r\n                let shippingCountry = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    checkoutPageViewModel.countryArray.find(function(countryElem){\r\n                        return countryElem.code === shippingCountryCode;\r\n                });\r\n                // check if a shipping country was discovered\r\n                if(shippingCountry){ // a shipping country was discovered\r\n                    // get the shipping zone id which the shipping country belongs to\r\n                    let shippingZone = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        checkoutPageViewModel.shoppingZonesArray.find(function(shippingZoneElem){\r\n                            return shippingZoneElem.name === shippingCountry.name;\r\n                    });\r\n                    if(shippingZone){ // a shipping zone was found\r\n                        //get the id of the discovered shipping zone\r\n                        shippingZoneId = shippingZone.id;\r\n                    }\r\n                }\r\n\r\n                // get the shipping methods attached to the discovered shipping zone\r\n                let shippingMethodsArray = await Promise.resolve($.ajax( // load the list of shipping zones\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                            `/wp-json/wc/v3/shipping/zones/${shippingZoneId}/methods`,\r\n                        type: \"get\",\r\n                        //contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: true,\r\n                        data: {}\r\n                    }\r\n                ));\r\n                // filter the shipping methods for only the methods that are enabled\r\n                shippingMethodsArray = shippingMethodsArray.filter(function(shippingMethodElem){\r\n                    return shippingMethodElem.enabled === true;\r\n                });\r\n                // remove the \"select\" event listener for the shipping method dropdownlist\r\n                let shippingMethodDropDown = $('#checkout-shipping-method-type').get(0).ej2_instances[0];\r\n                shippingMethodDropDown.removeEventListener(\"select\");\r\n\r\n                // set the shippingMethodArray as the datasource for the shipping method dropdownlist\r\n                shippingMethodDropDown.dataSource = shippingMethodsArray;\r\n                // set the pre-selected shipping method (i.e. the shippingMethod dropdownlist value)\r\n                // check if there are any shipping lines info available\r\n                if(orderData.shipping_lines.length > 0){ // if length is > 0, there are shipping lines info available\r\n                    // set the shipping method dropdownlist value\r\n                    shippingMethodDropDown.value = orderData.shipping_lines[0].method_id;\r\n                    // check if the shipping method dropdownlist value is an empty string\r\n                    if(shippingMethodDropDown.value === \"\"){ // the value is an empty string\r\n                        shippingMethodDropDown.value = null; // reset the shipping method dropdownlist value to null instead\r\n                    }\r\n                }\r\n                shippingMethodDropDown.dataBind();\r\n\r\n                // add the \"select\" event listener for the shipping method dropdownlist\r\n                shippingMethodDropDown.addEventListener(\"select\", function(){\r\n                    // handle the task in a separate event block\r\n                    window.setTimeout(async function(){\r\n\r\n                        // check if there is Internet connection\r\n                        if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                            // hide all previously displayed ej2 toast\r\n                            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                            $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                            // display toast to show that an error\r\n                            let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                            toast.cssClass = 'error-ej2-toast';\r\n                            toast.timeOut = 3000;\r\n                            toast.content = `Connect to the Internet to change shipping method`;\r\n                            toast.dataBind();\r\n                            toast.show();\r\n\r\n                            return; // exit method\r\n                        }\r\n\r\n                        // display the page loader modal\r\n                        $('#checkout-page .modal').css(\"display\", \"table\");\r\n\r\n                        // get a local/deep-clone copy of the page's checkout order object\r\n                        let localOrderObject = JSON.parse(JSON.\r\n                        stringify(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder));\r\n                        // update the shipping method for the local order object to be sent to the server\r\n                        localOrderObject.shipping_lines[0] = localOrderObject.shipping_lines[0] || {};\r\n                        Object.assign(localOrderObject.shipping_lines[0], {method_id: shippingMethodDropDown.value,\r\n                            method_title: shippingMethodDropDown.text,\r\n                            instance_id: \"\" + shippingMethodDropDown.\r\n                                                getDataByValue(shippingMethodDropDown.value).instance_id});\r\n                        // update the coupons for the local order object to be sent to the server\r\n                        localOrderObject.coupon_lines = localOrderObject.coupon_lines.map(function(couponElem){\r\n                            return {code: couponElem.code};\r\n                        });\r\n\r\n                        // perform some remote /asynchronous tasks needed to update the order shipping method\r\n                        try{\r\n\r\n                            // change the user shipping method on the remote cart using a helper script\r\n                            await Promise.resolve($.ajax(\r\n                                {\r\n                                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                        `/oakscripts/setshipping.php`,\r\n                                    type: \"post\",\r\n                                    //contentType: \"application/json\",\r\n                                    beforeSend: function(jqxhr) {\r\n                                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                            Base64.encode(`${userDetails.email}:${userDetails.password}`));\r\n                                    },\r\n                                    crossDomain: true,\r\n                                    xhrFields: {\r\n                                        withCredentials: true\r\n                                    },\r\n                                    dataType: \"text\",\r\n                                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                    processData: true,\r\n                                    // send the shipping method data represented by selected shipping method value\r\n                                    data: {id: shippingMethodDropDown.getDataByValue(shippingMethodDropDown.value).instance_id,\r\n                                    method_id: shippingMethodDropDown.getDataByValue(shippingMethodDropDown.value).method_id}\r\n                                }\r\n                            ));\r\n\r\n                            // calculate all the totals for the remote user cart\r\n                            await Promise.resolve($.ajax(\r\n                                {\r\n                                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                        `/wp-json/wc/v2/cart/calculate`,\r\n                                    type: \"post\",\r\n                                    contentType: \"application/json\",\r\n                                    beforeSend: function(jqxhr) {\r\n                                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                            Base64.encode(`${userDetails.email}:${userDetails.password}`));\r\n                                    },\r\n                                    crossDomain: true,\r\n                                    xhrFields: {\r\n                                        withCredentials: true\r\n                                    },\r\n                                    dataType: \"text\",\r\n                                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                    processData: true,\r\n                                    data: {}\r\n                                }\r\n                            ));\r\n\r\n                            // get all the totals for the remote user cart\r\n                            let remoteCartTotals = await Promise.resolve($.ajax(\r\n                                {\r\n                                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                        `/wp-json/wc/v2/cart/totals`,\r\n                                    type: \"get\",\r\n                                    contentType: \"application/json\",\r\n                                    beforeSend: function(jqxhr) {\r\n                                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                            Base64.encode(`${userDetails.email}:${userDetails.password}`));\r\n                                    },\r\n                                    crossDomain: true,\r\n                                    xhrFields: {\r\n                                        withCredentials: true\r\n                                    },\r\n                                    dataType: \"json\",\r\n                                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                    processData: true,\r\n                                    data: {}\r\n                                }\r\n                            ));\r\n\r\n                            // update the shipping method for the local order object to be sent to the server\r\n                            localOrderObject.shipping_lines[0].total = \"\" + remoteCartTotals.shipping_total;\r\n\r\n                            // update the checkout order data on the remote server\r\n                            localOrderObject = await Promise.resolve($.ajax(\r\n                                {\r\n                                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                        `/wp-json/wc/v3/orders/${localOrderObject.id}`,\r\n                                    type: \"put\",\r\n                                    contentType: \"application/json\",\r\n                                    beforeSend: function(jqxhr) {\r\n                                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                            utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                    },\r\n                                    dataType: \"json\",\r\n                                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                    processData: false,\r\n                                    data: JSON.stringify(localOrderObject)\r\n                                }\r\n                            ));\r\n\r\n                            // update the page checkout order with the updated order from the server\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                                chekoutOrder = localOrderObject;\r\n\r\n                            // disable the shipping method dropdownlist\r\n                            shippingMethodDropDown.enabled = false;\r\n                            shippingMethodDropDown.dataBind();\r\n\r\n                            // redisplay the page (redisplaying the page also hides the page loader when the process is complete)\r\n                            await utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.pageShow();\r\n                        }\r\n                        catch(err){\r\n\r\n                            err = JSON.parse(err.responseText.trim());\r\n\r\n                            // hide all previously displayed ej2 toast\r\n                            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                            $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                            // display toast message\r\n                            let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                            toast.cssClass = 'error-ej2-toast';\r\n                            toast.timeOut = 3000;\r\n                            toast.content = `Shipping method not updated, retry. ${err.message || \"\"}`;\r\n                            toast.dataBind();\r\n                            toast.show();\r\n\r\n                            // hide the page loader modal\r\n                            $('#checkout-page .modal').css(\"display\", \"none\");\r\n                        }\r\n\r\n                    }, 0);\r\n                });\r\n\r\n                // remove the \"select\" event listener for the shipping method dropdownlist\r\n                let paymentMethodDropDown = $('#checkout-payment-method-type').get(0).ej2_instances[0];\r\n                paymentMethodDropDown.removeEventListener(\"select\");\r\n\r\n                // set the pre-selected payment method for the order data\r\n                paymentMethodDropDown.value = orderData.payment_method;\r\n                paymentMethodDropDown.dataBind();\r\n\r\n                // add the \"select\" event listener for the payment method dropdownlist\r\n                paymentMethodDropDown.addEventListener(\"select\", function(){\r\n                    // handle the task in a separate event block\r\n                    window.setTimeout(async function(){\r\n\r\n                        // check if there is Internet connection\r\n                        if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                            // hide all previously displayed ej2 toast\r\n                            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                            $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                            // display toast to show that an error\r\n                            let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                            toast.cssClass = 'error-ej2-toast';\r\n                            toast.timeOut = 3000;\r\n                            toast.content = `Connect to the Internet to change payment method`;\r\n                            toast.dataBind();\r\n                            toast.show();\r\n\r\n                            return; // exit method\r\n                        }\r\n\r\n                        // display the page loader modal\r\n                        $('#checkout-page .modal').css(\"display\", \"table\");\r\n\r\n                        // get a local/deep-clone copy of the page's checkout order object\r\n                        let localOrderObject = JSON.parse(JSON.\r\n                        stringify(utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder));\r\n                        // update the payment method for the local order object to be sent to the server\r\n                        localOrderObject.payment_method = paymentMethodDropDown.value;\r\n                        localOrderObject.payment_method_title = paymentMethodDropDown.text;\r\n                        // update the coupons for the local order object to be sent to the server\r\n                        localOrderObject.coupon_lines = localOrderObject.coupon_lines.map(function(couponElem){\r\n                            return {code: couponElem.code};\r\n                        });\r\n\r\n                        // update the checkout order data on the remote server\r\n                        try{\r\n                            localOrderObject = await Promise.resolve($.ajax(\r\n                                {\r\n                                    url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                        `/wp-json/wc/v3/orders/${localOrderObject.id}`,\r\n                                    type: \"put\",\r\n                                    contentType: \"application/json\",\r\n                                    beforeSend: function(jqxhr) {\r\n                                        jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                            utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                    },\r\n                                    dataType: \"json\",\r\n                                    timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                    processData: false,\r\n                                    data: JSON.stringify(localOrderObject)\r\n                                }\r\n                            ));\r\n\r\n                            // update the page checkout order with the updated order from the server\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.\r\n                                chekoutOrder = localOrderObject;\r\n\r\n                            // disable the payment method dropdownlist\r\n                            paymentMethodDropDown.enabled = false;\r\n                            paymentMethodDropDown.dataBind();\r\n\r\n                            // redisplay the page (redisplaying the page also hides the page loader when the process is complete)\r\n                            await utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.pageShow();\r\n                        }\r\n                        catch(err){\r\n\r\n                            err = JSON.parse(err.responseText);\r\n\r\n                            // hide all previously displayed ej2 toast\r\n                            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                            $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                            // display toast message\r\n                            let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                            toast.cssClass = 'error-ej2-toast';\r\n                            toast.timeOut = 3000;\r\n                            toast.content = `Payment method not updated, retry. ${err.message || \"\"}`;\r\n                            toast.dataBind();\r\n                            toast.show();\r\n\r\n                            // hide the page loader modal\r\n                            $('#checkout-page .modal').css(\"display\", \"none\");\r\n                        }\r\n\r\n                    }, 0);\r\n                });\r\n\r\n                // set the order coupons\r\n                let couponsMultiSelectDropDown = $('#checkout-payment-vouchers').get(0).ej2_instances[0];\r\n                let couponsArray = orderData.coupon_lines.map(function(couponElem){\r\n                    return couponElem.code;\r\n                });\r\n                // set the datasource and the values for the coupons mulitselect dropdown\r\n                couponsMultiSelectDropDown.dataSource = couponsArray;\r\n                couponsMultiSelectDropDown.value = couponsArray;\r\n                couponsMultiSelectDropDown.dataBind();\r\n\r\n                // set the order notes i.e. shipping instructions\r\n                $('#checkout-page #checkout-payment-order-note-text').val(orderData.customer_note);\r\n\r\n                // display the order items\r\n                let orderItemsDisplayContent = ''; // holds the content to be displayed for the order items segment\r\n                for(let index = 0; index < orderData.line_items.length; index++){\r\n                    orderItemsDisplayContent +=\r\n                        `<div class=\"col-xs-6\" style=\"text-align: right; padding-right: 5px;\r\n                        padding-top: 10px; padding-bottom: 10px\">${orderData.line_items[index].name}</div>\r\n                        <div class=\"col-xs-2\" style=\"text-align: left;\r\n                        padding-top: 10px; padding-bottom: 10px\">&times;${orderData.line_items[index].quantity}</div>\r\n                        <div class=\"col-xs-4\" style=\"text-align: left; padding-left: 5px;\r\n                        padding-top: 10px; padding-bottom: 10px\">\r\n                        &#x20a6;${kendo.toString(kendo.parseFloat(orderData.line_items[index].subtotal), \"n2\")}</div>\r\n                        <div class=\"clearfix visible-xs-block\"></div>`;\r\n                }\r\n                $('#checkout-page #checkout-order-items-container').html(orderItemsDisplayContent);\r\n\r\n                // display checkout totals\r\n                $('#checkout-page #checkout-page-items-cost').html(\r\n                `&#x20a6;${kendo.toString((kendo.parseFloat(orderData.total) - kendo.parseFloat(orderData.shipping_total) +\r\n                    kendo.parseFloat(orderData.discount_total)), \"n2\")}`);\r\n                $('#checkout-page #checkout-page-shipping-cost').html(\r\n                    `&#x20a6;${kendo.toString(kendo.parseFloat(orderData.shipping_total), \"n2\")}`\r\n                );\r\n                $('#checkout-page #checkout-page-discount-cost').html(\r\n                    `&#x20a6;${kendo.toString(kendo.parseFloat(orderData.discount_total), \"n2\")}`\r\n                );\r\n                $('#checkout-page #checkout-page-total-cost').html(\r\n                    `&#x20a6;${kendo.toString(kendo.parseFloat(orderData.total), \"n2\")}`\r\n                );\r\n                if(kendo.parseFloat(orderData.discount_total) > 0){ // if the discount total value is > zero\r\n                    // display the discount total to user\r\n                    $('#checkout-page .checkout-page-discount').css(\"display\", \"block\");\r\n                }\r\n                else{ // the discount total is zero\r\n                    // hide the discount total from user\r\n                    $('#checkout-page .checkout-page-discount').css(\"display\", \"none\");\r\n                }\r\n            }\r\n            finally {\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is a utility used to validate the order object/data i.e. the 'chekoutOrder' property of\r\n         * the view-model\r\n         *\r\n         * @returns {Promise<void>} the Promise resolves when the order data is successfully validated; it\r\n         * rejects when the validation fails.\r\n         */\r\n        async validateOrderCheckout(){\r\n\r\n            var validationSuccessful = true; // flag indicates if checkout validation was successful or not\r\n\r\n            return new Promise(async function(resolve, reject){\r\n\r\n                // disable the \"Make Payment\" button\r\n                $('#checkout-page #checkout-make-payment').attr(\"disabled\", true);\r\n\r\n                // get the checkout Order object\r\n                var orderData = utopiasoftware[utopiasoftware_app_namespace].controller.checkoutPageViewModel.chekoutOrder;\r\n\r\n                // validate the personal details segment\r\n                try{\r\n                    // load the user profile details from the app database\r\n                    let userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"user-details\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n                    if(!userDetails.first_name || userDetails.first_name == \"\"){\r\n                        throw \"validation error\";\r\n                    }\r\n                    // user validation was successful\r\n                    $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"inline-block\");\r\n                    $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"none\");\r\n                    // hide error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-failure').\r\n                        get(0)._utopiasoftware_validator_index;\r\n                    $('#checkout-page').get(0).ej2_instances[tooltipIndex].close();\r\n                }\r\n                catch(err){\r\n                    // user details could not be loaded, so user validation failed\r\n                    $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-success').\r\n                        css(\"display\", \"none\");\r\n                    $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"inline-block\");\r\n                    // display error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    let tooltip = $('#checkout-page').get(0).ej2_instances[tooltipIndex];\r\n                    tooltip.content = \"incomplete personal details\";\r\n                    tooltip.dataBind();\r\n                    tooltip.open( $('#checkout-page .checkout-personal-details-accordion-item .utopiasoftware-checkout-failure')\r\n                        .get(0));\r\n                    // flag validation as failed\r\n                    validationSuccessful = false;\r\n                }\r\n\r\n                // validate the billing details segment\r\n                if(!orderData.billing.address_1 || orderData.billing.address_1 == \"\"){ // the billing address has NOT been provided\r\n                    // signal that billing details validation failed\r\n                    $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"none\");\r\n                    $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"inline-block\");\r\n                    // display error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    let tooltip = $('#checkout-page').get(0).ej2_instances[tooltipIndex];\r\n                    tooltip.content = \"incomplete billing details\";\r\n                    tooltip.dataBind();\r\n                    tooltip.open( $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-failure')\r\n                        .get(0));\r\n                    // flag validation as failed\r\n                    validationSuccessful = false;\r\n                }\r\n                else{ // the billing address and other billing info have been provided\r\n                    $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"inline-block\");\r\n                    $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"none\");\r\n                    // hide error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-billing-information-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    $('#checkout-page').get(0).ej2_instances[tooltipIndex].close();\r\n                }\r\n\r\n                // validate the shipping details segment\r\n                if(!orderData.shipping.address_1 || orderData.shipping.address_1 == \"\"){ // the shipping address has NOT been provided\r\n                    // signal that shipping details validation failed\r\n                    $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"none\");\r\n                    $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"inline-block\");\r\n                    // display error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    let tooltip = $('#checkout-page').get(0).ej2_instances[tooltipIndex];\r\n                    tooltip.content = \"incomplete shipping details\";\r\n                    tooltip.dataBind();\r\n                    tooltip.open( $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-failure')\r\n                        .get(0));\r\n                    // flag validation as failed\r\n                    validationSuccessful = false;\r\n                }\r\n                else{ // the billing address and other billing info have been provided\r\n                    $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"inline-block\");\r\n                    $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"none\");\r\n                    // hide error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-shipping-information-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    $('#checkout-page').get(0).ej2_instances[tooltipIndex].close();\r\n                }\r\n\r\n                // validate the shipping method segment\r\n                if(! $('#checkout-page #checkout-shipping-method-type').get(0).ej2_instances[0].value){ // no shipping method\r\n                    // signal that shipping method validation failed\r\n                    $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"none\");\r\n                    $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"inline-block\");\r\n                    // display error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    let tooltip = $('#checkout-page').get(0).ej2_instances[tooltipIndex];\r\n                    tooltip.content = \"shipping method required\";\r\n                    tooltip.dataBind();\r\n                    tooltip.open( $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-failure')\r\n                        .get(0));\r\n                    // flag validation as failed\r\n                    validationSuccessful = false;\r\n                }\r\n                else{ // shipping method has been set\r\n                    $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"inline-block\");\r\n                    $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"none\");\r\n                    // hide error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-shipping-method-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    $('#checkout-page').get(0).ej2_instances[tooltipIndex].close();\r\n                }\r\n\r\n                // validate the payment method segment\r\n                if(! $('#checkout-page #checkout-payment-method-type').get(0).ej2_instances[0].value){ // no shipping method\r\n                    // signal that payment method validation failed\r\n                    $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"none\");\r\n                    $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"inline-block\");\r\n                    // display error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    let tooltip = $('#checkout-page').get(0).ej2_instances[tooltipIndex];\r\n                    tooltip.content = \"payment method required\";\r\n                    tooltip.dataBind();\r\n                    tooltip.open( $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-failure')\r\n                        .get(0));\r\n                    // flag validation as failed\r\n                    validationSuccessful = false;\r\n                }\r\n                else{ // payment method has been set\r\n                    $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-success').\r\n                    css(\"display\", \"inline-block\");\r\n                    $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-failure').\r\n                    css(\"display\", \"none\");\r\n                    // hide error tooltip for this segment\r\n                    let tooltipIndex = $('#checkout-page .checkout-payment-method-item .utopiasoftware-checkout-failure').\r\n                    get(0)._utopiasoftware_validator_index;\r\n                    $('#checkout-page').get(0).ej2_instances[tooltipIndex].close();\r\n                }\r\n\r\n                // check if the checkout order validation failed or succeeded\r\n                if(validationSuccessful === true){ // validation was successful\r\n                    // enable the \"Make Payment\" button\r\n                    $('#checkout-page #checkout-make-payment').removeAttr(\"disabled\");\r\n                    resolve(); // resolve validation promise\r\n                    return;\r\n                }\r\n                else{ // validation failed\r\n                    // disable the \"Make Payment\" button\r\n                    $('#checkout-page #checkout-make-payment').attr(\"disabled\", true);\r\n                    reject(); // reject validation promise\r\n                    return;\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * method is a utility which is used to create a remote cart object on\r\n         * the server using the order data provided.\r\n         * Creating a remote cart can help with things like shipping calculations etc\r\n         *\r\n         * @param orderData\r\n         * @returns {Promise<void>}\r\n         */\r\n        async createRemoteCartFromOrder(orderData = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                            checkoutPageViewModel.chekoutOrder){\r\n\r\n            return new Promise(async function(resolve, reject){\r\n                try{\r\n\r\n                    // load the user profile details from the app database\r\n                    var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"user-details\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                    // clear the current user cart\r\n                    await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v2/cart/clear`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    Base64.encode(`${userDetails.email}:${userDetails.password}`));\r\n                            },\r\n                            crossDomain: true,\r\n                            xhrFields: {\r\n                                withCredentials: true\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {}\r\n                        }\r\n                    ).then(function(responseData){return responseData;},\r\n                        function(err){reject(\"fatal error\");}));\r\n\r\n                    // create a loop to add all the line items in the order data to the remote cache\r\n                    let addToCartPromises = []; // holds all the promises used to add all items to the remote cart\r\n                    for(let index = 0; index < orderData.line_items.length; index++){\r\n\r\n                        let cartItemData = {};\r\n                        // use the line item meta data to create part of cartItemData\r\n                        for(let metaDataElem of orderData.line_items[index].meta_data){\r\n\r\n                            if(metaDataElem.key === \"_fpd_data\"){ // check the \"key\" property of the metaData object\r\n\r\n                                if(!cartItemData.cart_item_data){ // if this property is not created\r\n                                    cartItemData.cart_item_data = {}; // create the property\r\n                                }\r\n\r\n                                if(!cartItemData.cart_item_data.fpd_data){ // if this property is not created\r\n                                    cartItemData.cart_item_data.fpd_data = {}; // create the property\r\n                                }\r\n\r\n\r\n                                // add custom data to the cart item\r\n                                cartItemData.cart_item_data.fpd_data.fpd_product = metaDataElem.value;\r\n                                cartItemData.cart_item_data.fpd_data.fpd_product_price =\r\n                                    (\"\" + orderData.line_items[index].price);\r\n                            }\r\n\r\n                            if(metaDataElem.key === \"_fpd_print_order\"){\r\n                                if(!cartItemData.cart_item_data){ // if this property is not created\r\n                                    cartItemData.cart_item_data = {}; // create the property\r\n                                }\r\n                                if(!cartItemData.cart_item_data.fpd_data){ // if this property is not created\r\n                                    cartItemData.cart_item_data.fpd_data = {}; // create the property\r\n                                }\r\n\r\n                                // add custom data to the cart item\r\n                                cartItemData.cart_item_data.fpd_data.fpd_print_order = metaDataElem.value;\r\n                            }\r\n                        } // end of for-of loop\r\n\r\n                        // add the other data for the cartItem\r\n                        cartItemData.product_id = orderData.line_items[index].product_id;\r\n                        cartItemData.variation_id = orderData.line_items[index].variation_id;\r\n                        cartItemData.quantity = orderData.line_items[index].quantity;\r\n\r\n                        // add the created cartItemData to remote user cart\r\n                        addToCartPromises.push(await Promise.resolve($.ajax(\r\n                            {\r\n                                url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + `/wp-json/wc/v2/cart/add`,\r\n                                type: \"post\",\r\n                                contentType: \"application/json\",\r\n                                beforeSend: function(jqxhr) {\r\n                                    jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                        Base64.encode(`${userDetails.email}:${userDetails.password}`));\r\n                                },\r\n                                crossDomain: true,\r\n                                xhrFields: {\r\n                                    withCredentials: true\r\n                                },\r\n                                dataType: \"json\",\r\n                                timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                processData: false,\r\n                                data: JSON.stringify(cartItemData)\r\n                            }\r\n                        )));\r\n\r\n                    } // end of for loop\r\n\r\n                    // await for all items to be added to cart\r\n                    await Promise.all(addToCartPromises);\r\n                    resolve(); // resolve the parent promise\r\n                }\r\n                finally{\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Track Order page\r\n     */\r\n    trackOrderPageViewModel: {\r\n\r\n        /**\r\n         * holds the array of orders for the search result that was just run by the user\r\n         */\r\n        trackOrderResultsArray: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.backButtonClicked;\r\n\r\n                try{\r\n\r\n                    //instantiate the autocomplete widget for the search input\r\n                    let searchAutoComplete = new ej.dropdowns.AutoComplete({\r\n                        floatLabelType: \"Never\",\r\n                        placeholder: \"Enter Order Number\",\r\n                        allowCustom: true,\r\n                        filterType: \"Contains\",\r\n                        minLength: 10000, // minimum number of characters that will automatically trigger autocomplete search\r\n                        suggestionCount: 20, // specified how many items will be in the popup\r\n                        dataSource: [],\r\n                        blur: function(){ // track when the component has lost focus\r\n                            this._allowRemoteSearch = false; // set that remote search is NOT allowed\r\n                        },\r\n                        change: function(){ // track when the component's value has changed\r\n\r\n                            let searchValue = \"\"; // holds the term to be searched for\r\n\r\n                            // check if the search component can perform a remote search\r\n                            if(this._allowRemoteSearch !== true){  // remote search is NOT allowed\r\n                                this._allowRemoteSearch = false; // set that remote search is NOT allowed\r\n                                return; // exit function\r\n                            }\r\n\r\n                            /*// check that there is actually a search term entered in the search component\r\n                            if(!this.value || this.value.trim() === \"\"){ // no search term\r\n                                this._allowRemoteSearch = false; // set that remote search is NOT allowed\r\n                                return; // exit function\r\n                            }*/\r\n\r\n                            // update the search term value\r\n                            searchValue = this.value ? this.value.trim() : \"\";\r\n\r\n                            // remove the focus from the search autocomplete component\r\n                            this.focusOut();\r\n\r\n                            // run the actual search in a different event queue\r\n                            window.setTimeout(async function() {\r\n                                var searchResultsArray = [];\r\n                                try{\r\n                                    // hide the previously displayed orders info\r\n                                    $('#track-order-page .row').css(\"display\", \"none\");\r\n                                    // show the page loader\r\n                                    $('#track-order-page .modal').css(\"display\", \"table\");\r\n\r\n                                    // load the user profile details from the app database\r\n                                    var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                                    loadData(\"user-details\",\r\n                                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                                    searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                                    trackOrderPageViewModel.\r\n                                    loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                                        \"customer\": userDetails.id, \"search\": searchValue});\r\n                                    await utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.\r\n                                    displayPageContent(searchResultsArray[0]);\r\n\r\n                                    if(searchResultsArray[0].length == 0){ // no orders were found\r\n                                        // hide the previously displayed orders info\r\n                                        $('#track-order-page .row').css(\"display\", \"none\");\r\n                                        // hide the page loader\r\n                                        $('#track-order-page .modal').css(\"display\", \"none\");\r\n\r\n                                        // inform the user that no result for the search was found'\r\n                                        // hide all previously displayed ej2 toast\r\n                                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                        // display toast to show that an error\r\n                                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                        toast.cssClass = 'default-ej2-toast';\r\n                                        toast.timeOut = 3000;\r\n                                        toast.content = `Sorry, no order was found.`;\r\n                                        toast.dataBind();\r\n                                        toast.show();\r\n                                    }\r\n                                    else{ // orders were found\r\n                                        // show the orders info\r\n                                        $('#track-order-page .row').css(\"display\", \"block\");\r\n                                        // hide the page loader\r\n                                        $('#track-order-page .modal').css(\"display\", \"none\");\r\n                                    }\r\n                                }\r\n                                catch(err){\r\n                                    // hide the previously displayed orders info\r\n                                    $('#track-order-page .row').css(\"display\", \"none\");\r\n                                    // show the page loader\r\n                                    $('#track-order-page .modal').css(\"display\", \"none\");\r\n\r\n                                    // remove the focus from the search autocomplete component\r\n                                    $('#track-order-page #track-order-page-input').get(0).ej2_instances[0].focusOut();\r\n                                    // hide all previously displayed ej2 toast\r\n                                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                                    // display toast to show that an error\r\n                                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                                    toast.cssClass = 'error-ej2-toast';\r\n                                    toast.timeOut = 3000;\r\n                                    toast.content = `Sorry, a search error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"}`;\r\n                                    toast.dataBind();\r\n                                    toast.show();\r\n                                }\r\n                            }, 0);\r\n\r\n                        }\r\n                    }).appendTo('#track-order-page-input');\r\n\r\n                }\r\n                catch(err){}\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // update cart count\r\n            $('#track-order-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.deviceOnlineListener, false);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.deviceOnlineListener, false);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // destroy the search input autocomplete component\r\n            $('#track-order-page #track-order-page-input').get(0).ej2_instances[0].destroy();\r\n            // reset the view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.trackOrderResultsArray = null;\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // go to the previous page on the stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to track orders\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the enter button is clicked on the device keyboard\r\n         *\r\n         * @param keyEvent\r\n         * @returns {Promise<void>}\r\n         */\r\n        async enterButtonClicked(keyEvent){\r\n            // check which key was pressed\r\n            if(keyEvent.which === kendo.keys.ENTER) // if the enter key was pressed\r\n            {\r\n                // prevent the default action from occurring\r\n                keyEvent.preventDefault();\r\n                keyEvent.stopImmediatePropagation();\r\n                keyEvent.stopPropagation();\r\n                // hide the device keyboard\r\n                Keyboard.hide();\r\n\r\n                // get the search autocomplete component\r\n                let searchAutoComplete = $('#track-order-page #track-order-page-input').get(0).ej2_instances[0];\r\n                // update the value of the retrieved component\r\n                searchAutoComplete.value = $('#track-order-page #track-order-page-input').val();\r\n                searchAutoComplete._allowRemoteSearch = true; // flag the remote search can occur\r\n                searchAutoComplete.dataBind(); // bind new value to the component\r\n                searchAutoComplete.change(); // trigger the change method\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load orders to the page\r\n         *\r\n         * @param pageToAccess {Integer} the page within the paginated categories to retrieve\r\n         *\r\n         * @param pageSize {Integer} the size of the page i.e. the number of category items to retrieve\r\n         *\r\n         * @param queryParam {Object} holds the objects that contains the query\r\n         * params for the type of products to retrieve\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadOrders(queryParam, pageToAccess = queryParam.page || 1,\r\n                           pageSize = queryParam.per_page || 20){\r\n            queryParam.page = pageToAccess;\r\n            queryParam.per_page = pageSize;\r\n\r\n            var promisesArray = []; // holds the array for the promises used to load the orders\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load the requested products list from the server\r\n                promisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/orders\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: queryParam\r\n                        }\r\n                    )).then(function(ordersArray){\r\n                        // check if the ordersArray contains orders\r\n                        if(ordersArray.length > 0){ // there are orders\r\n                            // update the current search results array with the ordersArray\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.\r\n                                trackOrderResultsArray = ordersArray;\r\n                        }\r\n\r\n                        resolve(ordersArray); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            } // end of loading products with Internet Connection\r\n            else{ // there is no internet connection\r\n                promisesArray.push(Promise.reject(\"no internet connection\"));\r\n            }\r\n\r\n            return Promise.all(promisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the retrieved products on the search popover\r\n         *\r\n         * @param ordersArray\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayPageContent(ordersArray){\r\n\r\n            var displayCompletedPromise = new Promise(function(resolve, reject){\r\n\r\n                let ordersContent = \"\"; // holds the contents for the orders\r\n\r\n                // check if the ordersArray is empty or not\r\n                if(ordersArray.length <= 0){ // there are no new content to display\r\n\r\n                    resolve(ordersArray.length); // resolve promise with the length of the orders array\r\n                }\r\n                else{ // there are some orders to display\r\n\r\n                    // loop through the array content and display it\r\n                    for(let index = 0; index < ordersArray.length; index++){\r\n\r\n                        if(ordersArray[index].status === \"pending\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: brown\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.checkoutButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Checkout\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.cancelButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Cancel\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"processing\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: goldenrod\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"on-hold\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: black\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.checkoutButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Checkout\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.cancelButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Cancel\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"completed\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: green\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"cancelled\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: #d64113\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else{\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: black\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                    }\r\n\r\n\r\n                    // attach the new orders to the page\r\n                    $('#track-order-page #track-order-page-orders-container').html(ordersContent);\r\n\r\n                    resolve(ordersArray.length); // resolve the promise with length of the ordersArray\r\n                }\r\n\r\n            });\r\n\r\n            return displayCompletedPromise; // return the promise object ot indicate if the display has been completed or not\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when the \"Check Out\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async checkoutButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // show the page loader\r\n            $('#track-order-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    trackOrderPageViewModel.trackOrderResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n\r\n                try{\r\n                    // check if the checkout page has previously been displayed in the app-main navigator\r\n                    var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n                    var indexOfCheckoutPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                        // test if the page is the checkout page\r\n                        return $(pagesStackArray[pageIndex]).get(0).id === \"checkout-page\";\r\n                    });\r\n\r\n                    // check if the checkout page was found in the app-main navigator stack\r\n                    if(indexOfCheckoutPage > -1){ // checkout page was found\r\n                        // remove the checkout page from the app-main navigator before re-displaying it\r\n                        await $('#app-main-navigator').get(0).removePage(indexOfCheckoutPage);\r\n                    }\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData: selectedOrder}});\r\n                }\r\n                catch(err){\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Order checkout failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#track-order-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Details\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async detailsButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // show the page loader\r\n            $('#track-order-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    trackOrderPageViewModel.trackOrderResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"order-details-page.html\", {data: {orderData: selectedOrder}});\r\n                }\r\n                catch(err){\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Order checkout failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#track-order-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Cancel\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async cancelButtonClicked(buttonElem){\r\n\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to cancel this order`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // attach functions to handle the \"Reject/No\" and \"Accept/Yes\" buttons click event.\r\n            // These buttons are located in the 'Cancel Order Action Sheet'.\r\n            // Click event handlers must always be defined for these buttons when using this action sheet\r\n\r\n            // function for \"Reject/No\" button\r\n            $('#cancel-order-action-sheet #cancel-order-no').get(0).onclick =\r\n                async function(){\r\n                    // hide the action sheet\r\n                    await document.getElementById('cancel-order-action-sheet').hide();\r\n                };\r\n\r\n            // function for \"Accept/Yes\" button\r\n            $('#cancel-order-action-sheet #cancel-order-yes').get(0).onclick =\r\n                async function(){\r\n                    // display the page loader\r\n                    $('#track-order-page .modal').css(\"display\", \"table\");\r\n                    try{\r\n                        // hide the action sheet\r\n                        await document.getElementById('cancel-order-action-sheet').hide();\r\n                        // get the order that was selected for cancellation\r\n                        var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            trackOrderPageViewModel.trackOrderResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n                        // change the selectedOrder status to \"cancelled\"\r\n                        selectedOrder.status = \"cancelled\";\r\n                        // update the selectedOrder status remotely\r\n                        await Promise.resolve($.ajax(\r\n                            {\r\n                                url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                    `/wp-json/wc/v3/orders/${selectedOrder.id}`,\r\n                                type: \"put\",\r\n                                contentType: \"application/json\",\r\n                                beforeSend: function(jqxhr) {\r\n                                    jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                        utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                },\r\n                                dataType: \"json\",\r\n                                timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                processData: false,\r\n                                data: JSON.stringify(selectedOrder)\r\n                            }\r\n                        ));\r\n\r\n                        // load the user profile details from the app database\r\n                        var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        loadData(\"user-details\",\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                        // refresh the contents of the track order page\r\n                        let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        trackOrderPageViewModel.\r\n                        loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                            \"customer\": userDetails.id,\r\n                            \"search\": $('#track-order-page #track-order-page-input').get(0).ej2_instances[0].value || \"\"});\r\n                        await utopiasoftware[utopiasoftware_app_namespace].controller.trackOrderPageViewModel.\r\n                        displayPageContent(searchResultsArray[0]);\r\n                        // inform the user that the order has been cancelled\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 2000;\r\n                        toast.content = `Order #${selectedOrder.id} has been cancelled`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    catch(err){\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'error-ej2-toast';\r\n                        toast.timeOut = 3500;\r\n                        toast.content = `Error cancelling order #${selectedOrder.id}. Try again`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    finally{\r\n                        // display the page loader\r\n                        $('#track-order-page .modal').css(\"display\", \"none\");\r\n                    }\r\n                };\r\n\r\n            // display the cancel order action sheet\r\n            await document.getElementById('cancel-order-action-sheet').show();\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Reorder\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async reorderButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to make a reorder`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // show the page loader\r\n            $('#track-order-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    trackOrderPageViewModel.trackOrderResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // create a new order object\r\n                    var newOrder = JSON.parse(JSON.stringify(selectedOrder));\r\n                    // delete and reset all necessary properties for the new order\r\n                    delete newOrder.id;\r\n                    newOrder.transaction_id = \"\";\r\n                    newOrder.line_items.forEach(function(lineItem){\r\n                        delete lineItem.id;\r\n                        lineItem.total = lineItem.subtotal; // remove any discounts\r\n                        for(let index = 0; index < lineItem.meta_data.length; index++){\r\n                            delete lineItem.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.tax_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.shipping_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.fee_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    delete newOrder.coupon_lines;\r\n                    delete newOrder.discount_total;\r\n                    delete newOrder.discount_tax;\r\n                    newOrder.set_paid = false;\r\n\r\n                    // update the status of the new order to \"pending\"\r\n                    newOrder.status = \"pending\";\r\n\r\n                    // update the selectedOrder status remotely\r\n                    newOrder = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/orders`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify(newOrder)\r\n                        }\r\n                    ));\r\n\r\n\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData: newOrder}});\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Placing new order failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#track-order-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Completed Orders page\r\n     */\r\n    completedOrdersPageViewModel: {\r\n\r\n        /**\r\n         * holds the array of orders for the search result that was just run by the user\r\n         */\r\n        ordersResultsArray: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#completed-orders-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#completed-orders-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#completed-orders-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#completed-orders-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#completed-orders-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                try{\r\n\r\n                    // hide the previously displayed orders info\r\n                    $('#completed-orders-page .row').css(\"display\", \"none\");\r\n                    // show the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"table\");\r\n\r\n                    // load the user profile details from the app database\r\n                    var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"user-details\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                    let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    completedOrdersPageViewModel.\r\n                    loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                        \"customer\": userDetails.id, \"status\": \"completed\"});\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.\r\n                    displayPageContent(searchResultsArray[0]);\r\n\r\n                    if(searchResultsArray[0].length == 0){ // no orders were found\r\n                        // hide the page preloader\r\n                        $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                        // hide the previously displayed orders info\r\n                        $('#completed-orders-page .row').css(\"display\", \"none\");\r\n                        // hide the page loader\r\n                        $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                        // inform the user that no result for the search was found'\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 3000;\r\n                        toast.content = `Sorry, no order was found.`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    else{ // orders were found\r\n                        // hide the page preloader\r\n                        $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                        // show the orders info\r\n                        $('#completed-orders-page .row').css(\"display\", \"block\");\r\n                        // hide the page loader\r\n                        $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n                    }\r\n\r\n                }\r\n                catch(err){\r\n                    // hide the page preloader\r\n                    $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide the previously displayed orders info\r\n                    $('#completed-orders-page .row').css(\"display\", \"none\");\r\n                    // show the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Sorry, a search error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"}`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // update cart count\r\n            $('#completed-orders-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.deviceOnlineListener, false);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.deviceOnlineListener, false);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // reset the view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.ordersResultsArray = null;\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // go to the previous page on the stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to view orders\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#completed-orders-page #completed-orders-page-pull-hook').attr(\"disabled\", true);\r\n\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                // show the page loader\r\n                $('#completed-orders-page .modal').css(\"display\", \"table\");\r\n\r\n                // load the user profile details from the app database\r\n                var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                completedOrdersPageViewModel.\r\n                loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                    \"customer\": userDetails.id, \"status\": \"completed\"});\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.\r\n                displayPageContent(searchResultsArray[0]);\r\n\r\n                if(searchResultsArray[0].length == 0){ // no orders were found\r\n                    // hide the page preloader\r\n                    $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide the previously displayed orders info\r\n                    $('#completed-orders-page .row').css(\"display\", \"none\");\r\n                    // hide the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                    // inform the user that no result for the search was found'\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'default-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Sorry, no order was found.`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                else{ // orders were found\r\n                    // hide the page preloader\r\n                    $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                    // show the orders info\r\n                    $('#completed-orders-page .row').css(\"display\", \"block\");\r\n                    // hide the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n\r\n            }\r\n            catch(err){\r\n                // hide the page preloader\r\n                $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                // show the page loader\r\n                $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Sorry, a search error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#completed-orders-page #completed-orders-page-pull-hook').removeAttr(\"disabled\");\r\n                // hide the preloader\r\n                $('#completed-orders-page .page-preloader').css(\"display\", \"none\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load orders to the page\r\n         *\r\n         * @param pageToAccess {Integer} the page within the paginated categories to retrieve\r\n         *\r\n         * @param pageSize {Integer} the size of the page i.e. the number of category items to retrieve\r\n         *\r\n         * @param queryParam {Object} holds the objects that contains the query\r\n         * params for the type of products to retrieve\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadOrders(queryParam, pageToAccess = queryParam.page || 1,\r\n                         pageSize = queryParam.per_page || 20){\r\n            queryParam.page = pageToAccess;\r\n            queryParam.per_page = pageSize;\r\n\r\n            var promisesArray = []; // holds the array for the promises used to load the orders\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load the requested products list from the server\r\n                promisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/orders\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: queryParam\r\n                        }\r\n                    )).then(function(ordersArray){\r\n                        // check if the ordersArray contains orders\r\n                        if(ordersArray.length > 0){ // there are orders\r\n                            // update the current search results array with the ordersArray\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.\r\n                                ordersResultsArray = ordersArray;\r\n                        }\r\n\r\n                        resolve(ordersArray); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            } // end of loading products with Internet Connection\r\n            else{ // there is no internet connection\r\n                promisesArray.push(Promise.reject(\"no internet connection\"));\r\n            }\r\n\r\n            return Promise.all(promisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the retrieved products on the search popover\r\n         *\r\n         * @param ordersArray\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayPageContent(ordersArray){\r\n\r\n            var displayCompletedPromise = new Promise(function(resolve, reject){\r\n\r\n                let ordersContent = \"\"; // holds the contents for the orders\r\n\r\n                // check if the ordersArray is empty or not\r\n                if(ordersArray.length <= 0){ // there are no new content to display\r\n\r\n                    resolve(ordersArray.length); // resolve promise with the length of the orders array\r\n                }\r\n                else{ // there are some orders to display\r\n\r\n                    // loop through the array content and display it\r\n                    for(let index = 0; index < ordersArray.length; index++){\r\n\r\n                        if(ordersArray[index].status === \"pending\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: brown\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.checkoutButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Checkout\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.cancelButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Cancel\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"processing\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: goldenrod\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"on-hold\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: black\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.checkoutButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Checkout\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.cancelButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Cancel\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"completed\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: green\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"cancelled\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: #d64113\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else{\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: black\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                    }\r\n\r\n\r\n                    // attach the new orders to the page\r\n                    $('#completed-orders-page #completed-orders-page-orders-container').html(ordersContent);\r\n\r\n                    resolve(ordersArray.length); // resolve the promise with length of the ordersArray\r\n                }\r\n\r\n            });\r\n\r\n            return displayCompletedPromise; // return the promise object ot indicate if the display has been completed or not\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Check Out\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async checkoutButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // show the page loader\r\n            $('#completed-orders-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    completedOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // check if the checkout page has previously been displayed in the app-main navigator\r\n                    var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n                    var indexOfCheckoutPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                        // test if the page is the checkout page\r\n                        return $(pagesStackArray[pageIndex]).get(0).id === \"checkout-page\";\r\n                    });\r\n\r\n                    // check if the checkout page was found in the app-main navigator stack\r\n                    if(indexOfCheckoutPage > -1){ // checkout page was found\r\n                        // remove the checkout page from the app-main navigator before re-displaying it\r\n                        await $('#app-main-navigator').get(0).removePage(indexOfCheckoutPage);\r\n                    }\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData: selectedOrder}});\r\n                }\r\n                catch(err){\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Order checkout failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Details\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async detailsButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // show the page loader\r\n            $('#completed-orders-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    completedOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"order-details-page.html\", {data: {orderData: selectedOrder}});\r\n                }\r\n                catch(err){\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Order checkout failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Cancel\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async cancelButtonClicked(buttonElem){\r\n\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to cancel this order`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // attach functions to handle the \"Reject/No\" and \"Accept/Yes\" buttons click event.\r\n            // These buttons are located in the 'Cancel Order Action Sheet'.\r\n            // Click event handlers must always be defined for these buttons when using this action sheet\r\n\r\n            // function for \"Reject/No\" button\r\n            $('#cancel-order-action-sheet #cancel-order-no').get(0).onclick =\r\n                async function(){\r\n                    // hide the action sheet\r\n                    await document.getElementById('cancel-order-action-sheet').hide();\r\n                };\r\n\r\n            // function for \"Accept/Yes\" button\r\n            $('#cancel-order-action-sheet #cancel-order-yes').get(0).onclick =\r\n                async function(){\r\n                    // display the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"table\");\r\n                    try{\r\n                        // hide the action sheet\r\n                        await document.getElementById('cancel-order-action-sheet').hide();\r\n                        // get the order that was selected for cancellation\r\n                        var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            completedOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n                        // change the selectedOrder status to \"cancelled\"\r\n                        selectedOrder.status = \"cancelled\";\r\n                        // update the selectedOrder status remotely\r\n                        await Promise.resolve($.ajax(\r\n                            {\r\n                                url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                    `/wp-json/wc/v3/orders/${selectedOrder.id}`,\r\n                                type: \"put\",\r\n                                contentType: \"application/json\",\r\n                                beforeSend: function(jqxhr) {\r\n                                    jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                        utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                },\r\n                                dataType: \"json\",\r\n                                timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                processData: false,\r\n                                data: JSON.stringify(selectedOrder)\r\n                            }\r\n                        ));\r\n\r\n                        // load the user profile details from the app database\r\n                        var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        loadData(\"user-details\",\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                        // refresh the contents of the completed orders page\r\n                        let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        trackOrderPageViewModel.\r\n                        loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                            \"customer\": userDetails.id,\r\n                            \"status\": \"completed\"});\r\n                        await utopiasoftware[utopiasoftware_app_namespace].controller.completedOrdersPageViewModel.\r\n                        displayPageContent(searchResultsArray[0]);\r\n                        // inform the user that the order has been cancelled\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 2000;\r\n                        toast.content = `Order #${selectedOrder.id} has been cancelled`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    catch(err){\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'error-ej2-toast';\r\n                        toast.timeOut = 3500;\r\n                        toast.content = `Error cancelling order #${selectedOrder.id}. Try again`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    finally{\r\n                        // display the page loader\r\n                        $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n                    }\r\n                };\r\n\r\n            // display the cancel order action sheet\r\n            await document.getElementById('cancel-order-action-sheet').show();\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Reorder\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async reorderButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to make a reorder`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // show the page loader\r\n            $('#completed-orders-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    completedOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // create a new order object\r\n                    var newOrder = JSON.parse(JSON.stringify(selectedOrder));\r\n                    // delete and reset all necessary properties for the new order\r\n                    delete newOrder.id;\r\n                    newOrder.transaction_id = \"\";\r\n                    newOrder.line_items.forEach(function(lineItem){\r\n                        delete lineItem.id;\r\n                        lineItem.total = lineItem.subtotal; // remove any discounts\r\n                        for(let index = 0; index < lineItem.meta_data.length; index++){\r\n                            delete lineItem.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.tax_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.shipping_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.fee_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    delete newOrder.coupon_lines;\r\n                    delete newOrder.discount_total;\r\n                    delete newOrder.discount_tax;\r\n                    newOrder.set_paid = false;\r\n\r\n                    // update the status of the new order to \"pending\"\r\n                    newOrder.status = \"pending\";\r\n\r\n                    // update the selectedOrder status remotely\r\n                    newOrder = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/orders`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify(newOrder)\r\n                        }\r\n                    ));\r\n\r\n\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData: newOrder}});\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Placing new order failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#completed-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Pending Orders page\r\n     */\r\n    pendingOrdersPageViewModel: {\r\n\r\n        /**\r\n         * holds the array of orders for the search result that was just run by the user\r\n         */\r\n        ordersResultsArray: null,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                event.target.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#pending-orders-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#pending-orders-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#pending-orders-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#pending-orders-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#pending-orders-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                try{\r\n\r\n                    // hide the previously displayed orders info\r\n                    $('#pending-orders-page .row').css(\"display\", \"none\");\r\n                    // show the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"table\");\r\n\r\n                    // load the user profile details from the app database\r\n                    var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                    loadData(\"user-details\",\r\n                        utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                    let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    pendingOrdersPageViewModel.\r\n                    loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                        \"customer\": userDetails.id, \"status\": \"pending\"});\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.\r\n                    displayPageContent(searchResultsArray[0]);\r\n\r\n                    if(searchResultsArray[0].length == 0){ // no orders were found\r\n                        // hide the page preloader\r\n                        $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                        // hide the previously displayed orders info\r\n                        $('#pending-orders-page .row').css(\"display\", \"none\");\r\n                        // hide the page loader\r\n                        $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                        // inform the user that no result for the search was found'\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 3000;\r\n                        toast.content = `Sorry, no order was found.`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    else{ // orders were found\r\n                        // hide the page preloader\r\n                        $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                        // show the orders info\r\n                        $('#pending-orders-page .row').css(\"display\", \"block\");\r\n                        // hide the page loader\r\n                        $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n                    }\r\n\r\n                }\r\n                catch(err){\r\n                    // hide the page preloader\r\n                    $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide the previously displayed orders info\r\n                    $('#pending-orders-page .row').css(\"display\", \"none\");\r\n                    // show the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Sorry, a search error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"}`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // update cart count\r\n            $('#pending-orders-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n\r\n            window.SoftInputMode.set('adjustResize');\r\n\r\n            // listen for when the device does not have Internet connection\r\n            document.addEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.deviceOfflineListener, false);\r\n            // listen for when the device has Internet connection\r\n            document.addEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.deviceOnlineListener, false);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n            // remove listener for when the device does not have Internet connection\r\n            document.removeEventListener(\"offline\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.deviceOfflineListener, false);\r\n            // remove listener for when the device has Internet connection\r\n            document.removeEventListener(\"online\",\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.deviceOnlineListener, false);\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n            // reset the view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.ordersResultsArray = null;\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // go to the previous page on the stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is offline\r\n         */\r\n        deviceOfflineListener(){\r\n            // display toast to show that there is no internet connection\r\n            let toast = $('.page-toast').get(0).ej2_instances[0];\r\n            toast.hide('All'); // hide all previously displayed ej2 toast\r\n            toast.cssClass = 'default-ej2-toast';\r\n            toast.content = \"No Internet connection. Connect to the Internet to view orders\";\r\n            toast.dataBind();\r\n            toast.show();// show ej2 toast\r\n        },\r\n\r\n        /**\r\n         * method is triggered whenever the user's device is online\r\n         */\r\n        deviceOnlineListener(){\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#pending-orders-page #pending-orders-page-pull-hook').attr(\"disabled\", true);\r\n\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                // show the page loader\r\n                $('#pending-orders-page .modal').css(\"display\", \"table\");\r\n\r\n                // load the user profile details from the app database\r\n                var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                loadData(\"user-details\",\r\n                    utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                pendingOrdersPageViewModel.\r\n                loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                    \"customer\": userDetails.id, \"status\": \"pending\"});\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.\r\n                displayPageContent(searchResultsArray[0]);\r\n\r\n                if(searchResultsArray[0].length == 0){ // no orders were found\r\n                    // hide the page preloader\r\n                    $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide the previously displayed orders info\r\n                    $('#pending-orders-page .row').css(\"display\", \"none\");\r\n                    // hide the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                    // inform the user that no result for the search was found'\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'default-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Sorry, no order was found.`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                else{ // orders were found\r\n                    // hide the page preloader\r\n                    $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                    // show the orders info\r\n                    $('#pending-orders-page .row').css(\"display\", \"block\");\r\n                    // hide the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n\r\n            }\r\n            catch(err){\r\n                // hide the page preloader\r\n                $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                // show the page loader\r\n                $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Sorry, a search error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"}`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#pending-orders-page #pending-orders-page-pull-hook').removeAttr(\"disabled\");\r\n                // hide the preloader\r\n                $('#pending-orders-page .page-preloader').css(\"display\", \"none\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to load orders to the page\r\n         *\r\n         * @param pageToAccess {Integer} the page within the paginated categories to retrieve\r\n         *\r\n         * @param pageSize {Integer} the size of the page i.e. the number of category items to retrieve\r\n         *\r\n         * @param queryParam {Object} holds the objects that contains the query\r\n         * params for the type of products to retrieve\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async loadOrders(queryParam, pageToAccess = queryParam.page || 1,\r\n                         pageSize = queryParam.per_page || 20){\r\n            queryParam.page = pageToAccess;\r\n            queryParam.per_page = pageSize;\r\n\r\n            var promisesArray = []; // holds the array for the promises used to load the orders\r\n\r\n            // check if there is internet connection or not\r\n            if(navigator.connection.type !== Connection.NONE){ // there is internet connection\r\n                // load the requested products list from the server\r\n                promisesArray.push(new Promise(function(resolve, reject){\r\n                    Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl + \"/wp-json/wc/v3/orders\",\r\n                            type: \"get\",\r\n                            //contentType: \"application/x-www-form-urlencoded\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: queryParam\r\n                        }\r\n                    )).then(function(ordersArray){\r\n                        // check if the ordersArray contains orders\r\n                        if(ordersArray.length > 0){ // there are orders\r\n                            // update the current search results array with the ordersArray\r\n                            utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.\r\n                                ordersResultsArray = ordersArray;\r\n                        }\r\n\r\n                        resolve(ordersArray); // resolve the parent promise with the data gotten from the server\r\n\r\n                    }).catch(function(err){ // an error occurred\r\n\r\n                        reject(err); // reject the parent promise with the error\r\n                    });\r\n                }));\r\n\r\n            } // end of loading products with Internet Connection\r\n            else{ // there is no internet connection\r\n                promisesArray.push(Promise.reject(\"no internet connection\"));\r\n            }\r\n\r\n            return Promise.all(promisesArray); // return a promise which resolves when all promises in the array resolve\r\n        },\r\n\r\n        /**\r\n         * method is used to display the retrieved products on the search popover\r\n         *\r\n         * @param ordersArray\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayPageContent(ordersArray){\r\n\r\n            var displayCompletedPromise = new Promise(function(resolve, reject){\r\n\r\n                let ordersContent = \"\"; // holds the contents for the orders\r\n\r\n                // check if the ordersArray is empty or not\r\n                if(ordersArray.length <= 0){ // there are no new content to display\r\n\r\n                    resolve(ordersArray.length); // resolve promise with the length of the orders array\r\n                }\r\n                else{ // there are some orders to display\r\n\r\n                    // loop through the array content and display it\r\n                    for(let index = 0; index < ordersArray.length; index++){\r\n\r\n                        if(ordersArray[index].status === \"pending\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: brown\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.checkoutButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Checkout\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.cancelButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Cancel\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"processing\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: goldenrod\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"on-hold\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: black\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.checkoutButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Checkout\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.cancelButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Cancel\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"completed\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: green\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else if(ordersArray[index].status === \"cancelled\"){\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: #d64113\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.reorderButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Reorder\r\n                            </ons-button>\r\n                            <ons-button disable-auto-styling modifier=\"quiet\" \r\n                            onclick=\"utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.detailsButtonClicked(this)\"\r\n                            style=\"border-color: #ffffff; background-color: #ffffff; color: #363E7C;\r\n                                    margin: 0; padding: 0; transform: scale(0.75);\" data-order-index=\"${index}\">\r\n                                Details\r\n                            </ons-button>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                        else{\r\n                            ordersContent += ` <div class=\"row\" style=\"font-size: 1em; font-weight: 300;\r\n                            border-bottom: 1px lightgray solid; color: #6d6d72;\">\r\n                            <div class=\"col-xs-2\" style=\" word-wrap: break-word; text-align: center; \r\n                            padding-left: 5px; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${ordersArray[index].id}</div>\r\n                            <div class=\"col-xs-4\" style=\" word-wrap: break-word; \r\n                            text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                            ${kendo.toString(kendo.parseFloat(ordersArray[index].total), \"n2\")}\r\n                            </div>\r\n                            <div class=\"col-xs-6\" style=\"text-align: center; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 1px\">\r\n                            <span style=\"display: block; text-transform: uppercase; color: black\">\r\n                                ${ordersArray[index].status}\r\n                            </span>\r\n                            </div>\r\n                            </div>`;\r\n                        }\r\n                    }\r\n\r\n\r\n                    // attach the new orders to the page\r\n                    $('#pending-orders-page #pending-orders-page-orders-container').html(ordersContent);\r\n\r\n                    resolve(ordersArray.length); // resolve the promise with length of the ordersArray\r\n                }\r\n\r\n            });\r\n\r\n            return displayCompletedPromise; // return the promise object ot indicate if the display has been completed or not\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Check Out\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async checkoutButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // show the page loader\r\n            $('#pending-orders-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    pendingOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // check if the checkout page has previously been displayed in the app-main navigator\r\n                    var pagesStackArray = $('#app-main-navigator').get(0).pages; // holds the array of pages in the app-main navigator\r\n                    var indexOfCheckoutPage = pagesStackArray.findIndex(function(page, pageIndex){\r\n                        // test if the page is the checkout page\r\n                        return $(pagesStackArray[pageIndex]).get(0).id === \"checkout-page\";\r\n                    });\r\n\r\n                    // check if the checkout page was found in the app-main navigator stack\r\n                    if(indexOfCheckoutPage > -1){ // checkout page was found\r\n                        // remove the checkout page from the app-main navigator before re-displaying it\r\n                        await $('#app-main-navigator').get(0).removePage(indexOfCheckoutPage);\r\n                    }\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData: selectedOrder}});\r\n                }\r\n                catch(err){\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Order checkout failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Details\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async detailsButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // show the page loader\r\n            $('#pending-orders-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    pendingOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"order-details-page.html\", {data: {orderData: selectedOrder}});\r\n                }\r\n                catch(err){\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Order checkout failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Cancel\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async cancelButtonClicked(buttonElem){\r\n\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to cancel this order`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // attach functions to handle the \"Reject/No\" and \"Accept/Yes\" buttons click event.\r\n            // These buttons are located in the 'Cancel Order Action Sheet'.\r\n            // Click event handlers must always be defined for these buttons when using this action sheet\r\n\r\n            // function for \"Reject/No\" button\r\n            $('#cancel-order-action-sheet #cancel-order-no').get(0).onclick =\r\n                async function(){\r\n                    // hide the action sheet\r\n                    await document.getElementById('cancel-order-action-sheet').hide();\r\n                };\r\n\r\n            // function for \"Accept/Yes\" button\r\n            $('#cancel-order-action-sheet #cancel-order-yes').get(0).onclick =\r\n                async function(){\r\n                    // display the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"table\");\r\n                    try{\r\n                        // hide the action sheet\r\n                        await document.getElementById('cancel-order-action-sheet').hide();\r\n                        // get the order that was selected for cancellation\r\n                        var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                            pendingOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n                        // change the selectedOrder status to \"cancelled\"\r\n                        selectedOrder.status = \"cancelled\";\r\n                        // update the selectedOrder status remotely\r\n                        await Promise.resolve($.ajax(\r\n                            {\r\n                                url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                    `/wp-json/wc/v3/orders/${selectedOrder.id}`,\r\n                                type: \"put\",\r\n                                contentType: \"application/json\",\r\n                                beforeSend: function(jqxhr) {\r\n                                    jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                        utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                                },\r\n                                dataType: \"json\",\r\n                                timeout: 240000, // wait for 4 minutes before timeout of request\r\n                                processData: false,\r\n                                data: JSON.stringify(selectedOrder)\r\n                            }\r\n                        ));\r\n\r\n                        // load the user profile details from the app database\r\n                        var userDetails = (await utopiasoftware[utopiasoftware_app_namespace].databaseOperations.\r\n                        loadData(\"user-details\",\r\n                            utopiasoftware[utopiasoftware_app_namespace].model.encryptedAppDatabase)).userDetails;\r\n\r\n                        // refresh the contents of the pending orders page\r\n                        let searchResultsArray = await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        pendingOrdersPageViewModel.\r\n                        loadOrders({\"page\": 1, \"per_page\": 20, \"order\": \"desc\", \"orderby\": \"date\",\r\n                            \"customer\": userDetails.id,\r\n                            \"status\": \"pending\"});\r\n                        await utopiasoftware[utopiasoftware_app_namespace].controller.pendingOrdersPageViewModel.\r\n                        displayPageContent(searchResultsArray[0]);\r\n                        // inform the user that the order has been cancelled\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'default-ej2-toast';\r\n                        toast.timeOut = 2000;\r\n                        toast.content = `Order #${selectedOrder.id} has been cancelled`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    catch(err){\r\n                        // hide all previously displayed ej2 toast\r\n                        $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                        $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                        // display toast to show that an error\r\n                        let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                        toast.cssClass = 'error-ej2-toast';\r\n                        toast.timeOut = 3500;\r\n                        toast.content = `Error cancelling order #${selectedOrder.id}. Try again`;\r\n                        toast.dataBind();\r\n                        toast.show();\r\n                    }\r\n                    finally{\r\n                        // display the page loader\r\n                        $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n                    }\r\n                };\r\n\r\n            // display the cancel order action sheet\r\n            await document.getElementById('cancel-order-action-sheet').show();\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the \"Reorder\" button on the\r\n         * Orders Collection is clicked\r\n         *\r\n         * @buttonElem {HTMLButton}\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async reorderButtonClicked(buttonElem){\r\n            var $buttonElement = $(buttonElem); // get a jQuery reference to the button element that was clicked\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to make a reorder`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // show the page loader\r\n            $('#pending-orders-page .modal').css(\"display\", \"table\");\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    pendingOrdersPageViewModel.ordersResultsArray[window.parseInt($buttonElement.attr(\"data-order-index\"))];\r\n\r\n                try{\r\n                    // create a new order object\r\n                    var newOrder = JSON.parse(JSON.stringify(selectedOrder));\r\n                    // delete and reset all necessary properties for the new order\r\n                    delete newOrder.id;\r\n                    newOrder.transaction_id = \"\";\r\n                    newOrder.line_items.forEach(function(lineItem){\r\n                        delete lineItem.id;\r\n                        lineItem.total = lineItem.subtotal; // remove any discounts\r\n                        for(let index = 0; index < lineItem.meta_data.length; index++){\r\n                            delete lineItem.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.tax_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.shipping_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.fee_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    delete newOrder.coupon_lines;\r\n                    delete newOrder.discount_total;\r\n                    delete newOrder.discount_tax;\r\n                    newOrder.set_paid = false;\r\n\r\n                    // update the status of the new order to \"pending\"\r\n                    newOrder.status = \"pending\";\r\n\r\n                    // update the selectedOrder status remotely\r\n                    newOrder = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/orders`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify(newOrder)\r\n                        }\r\n                    ));\r\n\r\n\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).pushPage(\"checkout-page.html\", {data: {orderData: newOrder}});\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Placing new order failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide the page loader\r\n                    $('#pending-orders-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }, 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * this is the view-model/controller for the Order Details page\r\n     */\r\n    orderDetailsPageViewModel: {\r\n\r\n\r\n        /**\r\n         * holds the Order object which contains details to be displayed\r\n         */\r\n        orderDetails : null,\r\n\r\n        /**\r\n         * holds the array containing order notes belonging to\r\n         * the specified order object (i.e. orderDetails)\r\n         */\r\n        orderNotesArray: [],\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(event){\r\n\r\n            var $thisPage = $(event.target); // get the current page shown\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            async function loadPageOnAppReady() {\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if (!ons.isReady() || utopiasoftware[utopiasoftware_app_namespace].model.isAppReady === false) {\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                $('#app-main-navigator').get(0).topPage.onDeviceBackButton =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        orderDetailsPageViewModel.backButtonClicked;\r\n\r\n                // add method to handle the loading action of the pull-to-refresh widget\r\n                $('#order-details-page-pull-hook', $thisPage).get(0).onAction =\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.orderDetailsPageViewModel.pagePullHookAction;\r\n\r\n                // register listener for the pull-to-refresh widget\r\n                $('#order-details-page-pull-hook', $thisPage).on(\"changestate\", function(event){\r\n\r\n                    // check the state of the pull-to-refresh widget\r\n                    switch (event.originalEvent.state){\r\n                        case 'initial':\r\n                            // update the displayed content\r\n                            $('#order-details-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-down\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'preaction':\r\n                            // update the displayed content\r\n                            $('#order-details-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-icon icon=\"md-long-arrow-up\" size=\"24px\" style=\"color: #363E7C\"></ons-icon>');\r\n                            break;\r\n\r\n                        case 'action':\r\n                            // update the displayed content\r\n                            $('#order-details-page-pull-hook-fab', event.originalEvent.pullHook).\r\n                            html('<ons-progress-circular indeterminate modifier=\"pull-hook\"></ons-progress-circular>');\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                // set the order object to be used by this page\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.orderDetailsPageViewModel.orderDetails =\r\n                    $('#app-main-navigator').get(0).topPage.data.orderData;\r\n\r\n                try{\r\n\r\n                    // create the \"Reorder\" button\r\n                    new ej.splitbuttons.ProgressButton({\r\n                        cssClass: 'e-hide-spinner',\r\n                        duration: 10 * 60 * 60 * 1000 // set spinner/progress duration for 10 hr\r\n                    }).appendTo('#order-details-reorder');\r\n\r\n\r\n                    // load the order notes attached to the loaded order details\r\n                    let promisesArray = []; // holds all created promises\r\n                    let orderId = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        orderDetailsPageViewModel.orderDetails.id; // get the id for the specified order object\r\n\r\n                    promisesArray.push(Promise.resolve($.ajax( // load the order notes for the specified order object\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/orders/${orderId}/notes`,\r\n                            type: \"get\",\r\n                            //contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: true,\r\n                            data: {\"type\": \"any\"}\r\n                        }\r\n                    )));\r\n\r\n                    // wait for all promises to resolve\r\n                    promisesArray = await Promise.all(promisesArray);\r\n                    // get the order notes belonging to the specified order object\r\n                    utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        orderDetailsPageViewModel.orderNotesArray = promisesArray[0];\r\n                    // display the order details\r\n                    await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        orderDetailsPageViewModel.displayContent();\r\n\r\n                    // enable the \"Reorder\" button\r\n                    $('#order-details-page #order-details-reorder').removeAttr(\"disabled\");\r\n\r\n                }\r\n                catch(err){\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast to show that an error\r\n                    let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n                    // hide page preloader\r\n                    $('#order-details-page .page-preloader').css(\"display\", \"none\");\r\n                    // hide page modal loader\r\n                    $('#order-details-page .modal').css(\"display\", \"none\");\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: async function(){\r\n\r\n            window.SoftInputMode.set('adjustPan'); // adjust device input mode\r\n\r\n            // update cart count\r\n            $('#order-details-page .cart-count').html(utopiasoftware[utopiasoftware_app_namespace].model.cartCount);\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is hidden\r\n         */\r\n        pageHide: async function(){\r\n\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is destroyed\r\n         */\r\n        pageDestroy: function(){\r\n\r\n            // destroy the \"Reorder\" button\r\n            $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].destroy();\r\n\r\n\r\n            // reset the view-model properties\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.orderDetailsPageViewModel.orderDetails = null;\r\n            utopiasoftware[utopiasoftware_app_namespace].controller.orderDetailsPageViewModel.orderNotesArray = [];\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the device back button is clicked OR a similar action is triggered\r\n         */\r\n        backButtonClicked(){\r\n            // get back to the previous page on the app-main navigator stack\r\n            $('#app-main-navigator').get(0).popPage();\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the pull-hook on the page is active\r\n         *\r\n         * @param doneCallBack\r\n         * @returns {Promise<void>}\r\n         */\r\n        async pagePullHookAction(doneCallBack = function(){}){\r\n            // disable pull-to-refresh widget till loading is done\r\n            $('#order-details-page #order-details-page-pull-hook').attr(\"disabled\", true);\r\n\r\n            // hide all previously displayed ej2 toast\r\n            $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n\r\n            try{\r\n                // load the order notes attached to the loaded order details\r\n                let promisesArray = []; // holds all created promises\r\n                let orderId = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    orderDetailsPageViewModel.orderDetails.id; // get the id for the specified order object\r\n\r\n                promisesArray.push(Promise.resolve($.ajax( // load the order notes for the specified order object\r\n                    {\r\n                        url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                            `/wp-json/wc/v3/orders/${orderId}/notes`,\r\n                        type: \"get\",\r\n                        //contentType: \"application/json\",\r\n                        beforeSend: function(jqxhr) {\r\n                            jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                        },\r\n                        dataType: \"json\",\r\n                        timeout: 240000, // wait for 4 minutes before timeout of request\r\n                        processData: true,\r\n                        data: {\"type\": \"any\"}\r\n                    }\r\n                )));\r\n\r\n                // wait for all promises to resolve\r\n                promisesArray = await Promise.all(promisesArray);\r\n                // get the order notes belonging to the specified order object\r\n                utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    orderDetailsPageViewModel.orderNotesArray = promisesArray[0];\r\n                // display the order details\r\n                await utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                orderDetailsPageViewModel.displayContent();\r\n\r\n                // enable the \"Reorder\" button\r\n                $('#order-details-page #order-details-reorder').removeAttr(\"disabled\");\r\n\r\n            }\r\n            catch(err){\r\n                // hide the page preloader\r\n                $('#order-details-page .page-preloader').css(\"display\", \"none\");\r\n                // show the page loader\r\n                $('#order-details-page .modal').css(\"display\", \"none\");\r\n\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'error-ej2-toast';\r\n                toast.content = `Sorry, an error occurred.${navigator.connection.type === Connection.NONE ? \" Connect to the Internet.\" : \"\"} Pull down to refresh and try again`;\r\n                toast.dataBind();\r\n                toast.show();\r\n            }\r\n            finally{\r\n                // enable pull-to-refresh widget till loading is done\r\n                $('#order-details-page #order-details-page-pull-hook').removeAttr(\"disabled\");\r\n                // hide the preloader\r\n                $('#order-details-page .page-preloader').css(\"display\", \"none\");\r\n                // signal that loading is done\r\n                doneCallBack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when the user clicks the \"Reorder\" button\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async reorderButtonClicked(){\r\n\r\n            // check if there is Internet connection\r\n            if(navigator.connection.type === Connection.NONE){ // there is no Internet connection\r\n                // hide all previously displayed ej2 toast\r\n                $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                // display toast to show that an error\r\n                let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                toast.cssClass = 'default-ej2-toast';\r\n                toast.timeOut = 3000;\r\n                toast.content = `Connect to the Internet to make a reorder`;\r\n                toast.dataBind();\r\n                toast.show();\r\n\r\n                // enable the \"Reorder\" button\r\n                $('#order-details-page #order-details-reorder').removeAttr(\"disabled\");\r\n                // hide the spinner from the 'Reorder' button\r\n                $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].dataBind();\r\n                $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].stop();\r\n\r\n                return; // exit method\r\n            }\r\n\r\n            // show the page loader\r\n            $('#order-details-page .modal').css(\"display\", \"table\");\r\n\r\n            // disable the \"Reorder\" button\r\n            $('#order-details-page #order-details-reorder').attr(\"disabled\", true);\r\n            // add the spinner from the 'Reorder'\r\n            $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].cssClass = '';\r\n            $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].dataBind();\r\n            $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].start();\r\n\r\n            // handle the tasks in a separate queue\r\n            window.setTimeout(async function(){\r\n                // get the selected order to be checked out\r\n                var selectedOrder = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    orderDetailsPageViewModel.orderDetails;\r\n\r\n                try{\r\n                    // create a new order object\r\n                    var newOrder = JSON.parse(JSON.stringify(selectedOrder));\r\n                    // delete and reset all necessary properties for the new order\r\n                    delete newOrder.id;\r\n                    newOrder.transaction_id = \"\";\r\n                    newOrder.line_items.forEach(function(lineItem){\r\n                        delete lineItem.id;\r\n                        lineItem.total = lineItem.subtotal; // remove any discounts\r\n                        for(let index = 0; index < lineItem.meta_data.length; index++){\r\n                            delete lineItem.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.tax_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.shipping_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    newOrder.fee_lines.forEach(function(item){\r\n                        delete item.id;\r\n                        for(let index = 0; index < item.meta_data.length; index++){\r\n                            delete item.meta_data[index].id;\r\n                        }\r\n                    });\r\n                    delete newOrder.coupon_lines;\r\n                    delete newOrder.discount_total;\r\n                    delete newOrder.discount_tax;\r\n                    newOrder.set_paid = false;\r\n\r\n                    // update the status of the new order to \"pending\"\r\n                    newOrder.status = \"pending\";\r\n\r\n                    // update the selectedOrder status remotely\r\n                    newOrder = await Promise.resolve($.ajax(\r\n                        {\r\n                            url: utopiasoftware[utopiasoftware_app_namespace].model.appBaseUrl +\r\n                                `/wp-json/wc/v3/orders`,\r\n                            type: \"post\",\r\n                            contentType: \"application/json\",\r\n                            beforeSend: function(jqxhr) {\r\n                                jqxhr.setRequestHeader(\"Authorization\", \"Basic \" +\r\n                                    utopiasoftware[utopiasoftware_app_namespace].accessor);\r\n                            },\r\n                            dataType: \"json\",\r\n                            timeout: 240000, // wait for 4 minutes before timeout of request\r\n                            processData: false,\r\n                            data: JSON.stringify(newOrder)\r\n                        }\r\n                    ));\r\n\r\n                    // hide the page loader\r\n                    $('#order-details-page .modal').css(\"display\", \"none\");\r\n\r\n                    // disable the \"Reorder\" button\r\n                    $('#order-details-page #order-details-reorder').removeAttr(\"disabled\", true);\r\n                    // add the spinner from the 'Reorder'\r\n                    $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                    $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].dataBind();\r\n                    $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].stop();\r\n\r\n                    // display the checkout page using the selected order\r\n                    await $('#app-main-navigator').get(0).replacePage(\"checkout-page.html\", {data: {orderData: newOrder}});\r\n                }\r\n                catch(err){\r\n\r\n                    // hide the page loader\r\n                    $('#order-details-page .modal').css(\"display\", \"none\");\r\n\r\n                    // disable the \"Reorder\" button\r\n                    $('#order-details-page #order-details-reorder').removeAttr(\"disabled\", true);\r\n                    // add the spinner from the 'Reorder'\r\n                    $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].cssClass = 'e-hide-spinner';\r\n                    $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].dataBind();\r\n                    $('#order-details-page #order-details-reorder').get(0).ej2_instances[0].stop();\r\n\r\n                    // hide all previously displayed ej2 toast\r\n                    $('.page-toast').get(0).ej2_instances[0].hide('All');\r\n                    $('.timed-page-toast').get(0).ej2_instances[0].hide('All');\r\n                    // display toast message\r\n                    let toast = $('.timed-page-toast').get(0).ej2_instances[0];\r\n                    toast.cssClass = 'error-ej2-toast';\r\n                    toast.timeOut = 3000;\r\n                    toast.content = `Placing new order failed. Please retry`;\r\n                    toast.dataBind();\r\n                    toast.show();\r\n                }\r\n                finally {\r\n\r\n                }\r\n            }, 0);\r\n        },\r\n\r\n        /**\r\n         * method is used to load the order details data into the page\r\n         * @returns {Promise<void>}\r\n         */\r\n        async displayContent(){\r\n\r\n            try{\r\n\r\n                // get the order object set on this page\r\n                let orderData = utopiasoftware[utopiasoftware_app_namespace].controller.orderDetailsPageViewModel.orderDetails;\r\n\r\n                // display the orderDetails data\r\n                $('#order-details-page #order-details-list .order-details-order-number').\r\n                html(`#${orderData.id}`);\r\n                $('#order-details-page #order-details-list .order-details-order-status').\r\n                html(`${orderData.status}`);\r\n                // check if the order created date (in GMT) has a pending 'Z' appended to the time\r\n                if(! orderData.date_created_gmt.endsWith(\"Z\")){ // no pending 'Z', so add the 'Z'\r\n                    // add the pending 'Z' to ensure the date meets the ISO format\r\n                    orderData.date_created_gmt += 'Z';\r\n                }\r\n                $('#order-details-page #order-details-list .order-details-order-date').\r\n                html(`${kendo.toString(new Date(orderData.date_created_gmt), \"MMMM dd, yyyy\")}`);\r\n                $('#order-details-page #order-details-list .order-details-order-total').\r\n                html(`&#x20a6;${kendo.toString(kendo.parseFloat(orderData.total), \"n2\")}`);\r\n                $('#order-details-page #order-details-list .order-details-payment-method').\r\n                html(`${orderData.payment_method_title}`);\r\n                $('#order-details-page #order-details-list .order-details-shipping-method').\r\n                html(`${orderData.shipping_lines[0] ? orderData.shipping_lines[0].method_title : \"\"}`);\r\n                $('#order-details-page #order-details-list .order-details-shipping-cost').\r\n                html(`&#x20a6;${kendo.toString(kendo.parseFloat(orderData.shipping_total), \"n2\")}`);\r\n\r\n                // update the order shipping updates/notes\r\n                let displayContent = ''; // holds the contents to be generated in the for-loop\r\n                for(let index = 0; index < utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                    orderDetailsPageViewModel.orderNotesArray.length; index++){ // attach the order updates/notes\r\n\r\n                    let orderNote = utopiasoftware[utopiasoftware_app_namespace].controller.\r\n                        orderDetailsPageViewModel.orderNotesArray[index]; // get the current order note object\r\n\r\n                    displayContent += `\r\n                    <div class=\"col-xs-6\" style=\"text-align: right; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px;\r\n                            text-transform: lowercase; word-wrap: break-word\">${orderNote.note}</div>`;\r\n\r\n                    // check if the order note created date (in GMT) has a pending 'Z' appended to the time\r\n                    if(! orderNote.date_created_gmt.endsWith(\"Z\")){ // no pending 'Z', so add the 'Z'\r\n                        // add the pending 'Z' to ensure the date meets the ISO format\r\n                        orderNote.date_created_gmt += 'Z';\r\n                    }\r\n\r\n                    displayContent += `\r\n                    <div class=\"col-xs-6\" style=\"text-align: left; padding-left: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px;\r\n                            text-transform: lowercase; word-wrap: break-word\">\r\n                    ${kendo.toString(new Date(orderNote.date_created_gmt), \"MMMM dd, yyyy\")}        \r\n                    </div>\r\n                    <div class=\"clearfix visible-xs-block\"></div>`;\r\n                }\r\n                $('#order-details-page #order-details-list .order-details-order-notes').html(displayContent);\r\n\r\n                // display the items in the order\r\n                displayContent = ''; // reset the displayContent variable for use in the next for-loop\r\n                for(let index = 0; index < orderData.line_items.length; index++){\r\n                    displayContent +=\r\n                        `<div class=\"col-xs-6\" style=\"text-align: right; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.line_items[index].name}</div>\r\n                        <div class=\"col-xs-2\" style=\"text-align: left; padding-left: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">&times;${orderData.line_items[index].quantity}</div>\r\n                        <div class=\"col-xs-4\" style=\"text-align: left; padding-left: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                        &#x20a6;${kendo.toString(kendo.parseFloat(orderData.line_items[index].subtotal), \"n2\")}</div>\r\n                        <div class=\"clearfix visible-xs-block\"></div>`;\r\n                }\r\n                $('#order-details-page #order-details-list .order-details-order-items').html(displayContent);\r\n\r\n                // display the Billing Details\r\n                displayContent = ''; // reset the displayContent variable for next use\r\n\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                ${orderData.billing.first_name + \" \" + orderData.billing.last_name}</div>`;\r\n                //check if the billing details contains a company name\r\n                if(orderData.billing.company && orderData.billing.company !== \"\"){ // there is company name, so display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.company}</div>`;\r\n                }\r\n                // check if the billing details contains a 1st address line\r\n                if(orderData.billing.address_1 && orderData.billing.address_1 !== \"\") { // there is 1st address line, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.address_1}</div>`;\r\n                }\r\n                // check if the billing details contains a 2nd address line\r\n                if(orderData.billing.address_2 && orderData.billing.address_2 !== \"\") { // there is 2nd address line, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.address_2}</div>`;\r\n                }\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.city}</div>`;\r\n                // check if the billing details contains a state\r\n                if(orderData.billing.state && orderData.billing.state !== \"\") { // there is state, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.state}</div>`;\r\n                }\r\n                // check if the billing details contains a postal code\r\n                if(orderData.billing.postcode && orderData.billing.postcode !== \"\") { // there is postal code, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.postcode}</div>`;\r\n                }\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.country}</div>`;\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.phone}</div>`;\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.billing.email}</div>`;\r\n                $('#order-details-page #order-details-list .order-details-billing-details').html(displayContent);\r\n\r\n                // display the Shipping Details\r\n                displayContent = ''; // reset the displayContent variable for next use\r\n\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">\r\n                ${orderData.shipping.first_name + \" \" + orderData.shipping.last_name}</div>`;\r\n                //check if the shipping details contains a company name\r\n                if(orderData.shipping.company && orderData.shipping.company !== \"\"){ // there is company name, so display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.company}</div>`;\r\n                }\r\n                // check if the shipping details contains a 1st address line\r\n                if(orderData.shipping.address_1 && orderData.shipping.address_1 !== \"\") { // there is 1st address line, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.address_1}</div>`;\r\n                }\r\n                // check if the shipping details contains a 2nd address line\r\n                if(orderData.shipping.address_2 && orderData.shipping.address_2 !== \"\") { // there is 2nd address line, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.address_2}</div>`;\r\n                }\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.city}</div>`;\r\n                // check if the shipping details contains a state\r\n                if(orderData.shipping.state && orderData.shipping.state !== \"\") { // there is state, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.state}</div>`;\r\n                }\r\n                // check if the shipping details contains a postal code\r\n                if(orderData.shipping.postcode && orderData.shipping.postcode !== \"\") { // there is postal code, display it\r\n                    displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.postcode}</div>`;\r\n                }\r\n                displayContent += `<div class=\"col-xs-12\" style=\"text-align: left; padding-right: 5px;\r\n                            padding-top: 10px; padding-bottom: 10px\">${orderData.shipping.country}</div>`;\r\n                $('#order-details-page #order-details-list .order-details-shipping-details').html(displayContent);\r\n\r\n            }\r\n            finally {\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n};"]}